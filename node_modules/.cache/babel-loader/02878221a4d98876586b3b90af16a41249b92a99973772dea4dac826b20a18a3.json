{"ast":null,"code":"import React,{useEffect,useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function BuildingModal(_ref){let{initialData=null,onClose,onSave}=_ref;const[code,setCode]=useState('');const[name,setName]=useState('');const[floors_count,setFloorsCount]=useState(0);const[status,setStatus]=useState('active');const[description,setDescription]=useState('');useEffect(()=>{if(initialData){setCode(initialData.code||'');setName(initialData.name||'');setFloorsCount(initialData.floors_count||0);setStatus(initialData.status||'active');setDescription(initialData.description||'');}},[initialData]);const handleSubmit=async e=>{e.preventDefault();const payload={code:code||null,name:name||null,description:description||null,floors_count:floors_count||0,status:status// floors_count stored on view only; keep consistent by letting caller manage floors\n};if(initialData&&initialData.id)payload.id=initialData.id;await onSave(payload);};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/40 flex items-start justify-center p-6 z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg w-full max-w-2xl p-6 shadow-lg mt-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold\",children:initialData?'ÿ™ÿπÿØŸäŸÑ ŸÖÿ®ŸÜŸâ':'ÿ•ÿ∂ÿßŸÅÿ© ŸÖÿ®ŸÜŸâ'}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-gray-500\",children:\"\\u0625\\u063A\\u0644\\u0627\\u0642 \\u2716\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"mt-4 grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm mb-1\",children:\"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u0645\\u0628\\u0646\\u0649 *\"}),/*#__PURE__*/_jsx(\"input\",{value:code,onChange:e=>setCode(e.target.value),className:\"w-full border rounded px-3 py-2\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm mb-1\",children:\"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0645\\u0628\\u0646\\u0649 *\"}),/*#__PURE__*/_jsx(\"input\",{value:name,onChange:e=>setName(e.target.value),className:\"w-full border rounded px-3 py-2\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm mb-1\",children:\"\\u0639\\u062F\\u062F \\u0627\\u0644\\u0637\\u0648\\u0627\\u0628\\u0642 *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:floors_count,onChange:e=>setFloorsCount(Number(e.target.value)),className:\"w-full border rounded px-3 py-2\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm mb-1\",children:\"\\u0627\\u0644\\u062D\\u0627\\u0644\\u0629 *\"}),/*#__PURE__*/_jsxs(\"select\",{value:status,onChange:e=>setStatus(e.target.value),className:\"w-full border rounded px-3 py-2\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"active\",children:\"\\u0646\\u0634\\u0637\"}),/*#__PURE__*/_jsx(\"option\",{value:\"inactive\",children:\"\\u063A\\u064A\\u0631 \\u0646\\u0634\\u0637\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm mb-1\",children:\"\\u0627\\u0644\\u0648\\u0635\\u0641\"}),/*#__PURE__*/_jsx(\"textarea\",{value:description,onChange:e=>setDescription(e.target.value),className:\"w-full border rounded px-3 py-2 h-28\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-2 flex gap-3 justify-start mt-2\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-blue-600 text-white px-4 py-2 rounded\",children:\"\\u062D\\u0641\\u0638 \\u0627\\u0644\\u062A\\u0639\\u062F\\u064A\\u0644\\u0627\\u062A \\uD83D\\uDCBE\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"bg-gray-100 px-4 py-2 rounded\",children:\"\\u0625\\u0644\\u063A\\u0627\\u0621\"})]})]})]})});}","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","BuildingModal","_ref","initialData","onClose","onSave","code","setCode","name","setName","floors_count","setFloorsCount","status","setStatus","description","setDescription","handleSubmit","e","preventDefault","payload","id","className","children","onClick","onSubmit","value","onChange","target","type","Number"],"sources":["F:/kelany/src/components/BuildingModal.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\nexport default function BuildingModal({ initialData = null, onClose, onSave }) {\r\n  const [code, setCode] = useState('');\r\n  const [name, setName] = useState('');\r\n  const [floors_count, setFloorsCount] = useState(0);\r\n  const [status, setStatus] = useState('active');\r\n  const [description, setDescription] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (initialData) {\r\n      setCode(initialData.code || '');\r\n      setName(initialData.name || '');\r\n      setFloorsCount(initialData.floors_count || 0);\r\n      setStatus(initialData.status || 'active');\r\n      setDescription(initialData.description || '');\r\n    }\r\n  }, [initialData]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const payload = {\r\n      code: code || null,\r\n      name: name || null,\r\n      description: description || null,\r\n      floors_count: floors_count || 0,\r\n      status: status,\r\n      // floors_count stored on view only; keep consistent by letting caller manage floors\r\n    };\r\n    if (initialData && initialData.id) payload.id = initialData.id;\r\n    await onSave(payload);\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/40 flex items-start justify-center p-6 z-50\">\r\n      <div className=\"bg-white rounded-lg w-full max-w-2xl p-6 shadow-lg mt-12\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <h3 className=\"text-xl font-semibold\">{initialData ? 'ÿ™ÿπÿØŸäŸÑ ŸÖÿ®ŸÜŸâ' : 'ÿ•ÿ∂ÿßŸÅÿ© ŸÖÿ®ŸÜŸâ'}</h3>\r\n          <button onClick={onClose} className=\"text-gray-500\">ÿ•ÿ∫ŸÑÿßŸÇ ‚úñ</button>\r\n        </div>\r\n\r\n        <form onSubmit={handleSubmit} className=\"mt-4 grid grid-cols-2 gap-4\">\r\n          <div>\r\n            <label className=\"block text-sm mb-1\">ÿ±ŸÇŸÖ ÿßŸÑŸÖÿ®ŸÜŸâ *</label>\r\n            <input value={code} onChange={(e)=>setCode(e.target.value)} className=\"w-full border rounded px-3 py-2\" />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm mb-1\">ÿßÿ≥ŸÖ ÿßŸÑŸÖÿ®ŸÜŸâ *</label>\r\n            <input value={name} onChange={(e)=>setName(e.target.value)} className=\"w-full border rounded px-3 py-2\" />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm mb-1\">ÿπÿØÿØ ÿßŸÑÿ∑Ÿàÿßÿ®ŸÇ *</label>\r\n            <input type=\"number\" value={floors_count} onChange={(e)=>setFloorsCount(Number(e.target.value))} className=\"w-full border rounded px-3 py-2\" />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm mb-1\">ÿßŸÑÿ≠ÿßŸÑÿ© *</label>\r\n            <select value={status} onChange={(e)=>setStatus(e.target.value)} className=\"w-full border rounded px-3 py-2\">\r\n              <option value=\"active\">ŸÜÿ¥ÿ∑</option>\r\n              <option value=\"inactive\">ÿ∫Ÿäÿ± ŸÜÿ¥ÿ∑</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"col-span-2\">\r\n            <label className=\"block text-sm mb-1\">ÿßŸÑŸàÿµŸÅ</label>\r\n            <textarea value={description} onChange={(e)=>setDescription(e.target.value)} className=\"w-full border rounded px-3 py-2 h-28\" />\r\n          </div>\r\n\r\n          <div className=\"col-span-2 flex gap-3 justify-start mt-2\">\r\n            <button type=\"submit\" className=\"bg-blue-600 text-white px-4 py-2 rounded\">ÿ≠ŸÅÿ∏ ÿßŸÑÿ™ÿπÿØŸäŸÑÿßÿ™ üíæ</button>\r\n            <button type=\"button\" onClick={onClose} className=\"bg-gray-100 px-4 py-2 rounded\">ÿ•ŸÑÿ∫ÿßÿ°</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
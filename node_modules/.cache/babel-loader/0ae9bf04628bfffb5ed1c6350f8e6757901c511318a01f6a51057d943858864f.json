{"ast":null,"code":"var _jsxFileName = \"F:\\\\kelany\\\\src\\\\pages\\\\CheckInOut.jsx\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect, useMemo, useState } from 'react';\nimport { supabase } from '../supabaseClient';\nimport { AuthContext } from '../App.jsx';\nimport { canAccessPage } from '../utils/permissions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction StatusBadge({\n  status\n}) {\n  const map = {\n    pending: {\n      text: 'قيد الانتظار',\n      cls: 'bg-yellow-100 text-yellow-800'\n    },\n    confirmed: {\n      text: 'مؤكد',\n      cls: 'bg-green-100 text-green-800'\n    },\n    checked_in: {\n      text: 'تم الدخول',\n      cls: 'bg-blue-100 text-blue-800'\n    },\n    checked_out: {\n      text: 'تم الخروج',\n      cls: 'bg-gray-100 text-gray-800'\n    },\n    cancelled: {\n      text: 'ملغي',\n      cls: 'bg-red-100 text-red-800'\n    },\n    no_show: {\n      text: 'لم يحضر',\n      cls: 'bg-orange-100 text-orange-800'\n    }\n  };\n  const v = map[status] || {\n    text: status,\n    cls: 'bg-slate-100 text-slate-700'\n  };\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    className: `px-2 py-0.5 rounded text-xs font-medium ${v.cls}`,\n    children: v.text\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 10\n  }, this);\n}\n_c = StatusBadge;\nfunction CheckInOutCard({\n  res,\n  type,\n  onCheckIn,\n  onCheckOut\n}) {\n  var _res$remaining_amount;\n  const isArrival = type === 'arrival';\n  const isDeparture = type === 'departure';\n  const isInhouse = type === 'inhouse';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-lg shadow border border-gray-200 p-3 flex flex-col gap-2 text-sm\",\n    dir: \"rtl\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between gap-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"min-w-0\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-semibold truncate\",\n          children: res.guest_name || 'نزيل غير محدد'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-gray-500 truncate\",\n          children: [res.guest_phone || '', res.guest_phone && res.guest_email ? ' • ' : '', res.guest_email || '']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StatusBadge, {\n        status: res.status\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-2 gap-x-4 gap-y-1 text-xs md:text-sm\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-gray-500\",\n          children: \"\\u0627\\u0644\\u063A\\u0631\\u0641\\u0629:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 14\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-medium\",\n          children: res.room_label || res.room_id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 61\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-gray-500\",\n          children: \"\\u0646\\u0648\\u0639 \\u0627\\u0644\\u063A\\u0631\\u0641\\u0629:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 14\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-medium\",\n          children: res.room_type_name || '-'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 65\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-gray-500\",\n          children: \"\\u0627\\u0644\\u062F\\u062E\\u0648\\u0644 \\u0627\\u0644\\u0645\\u062D\\u062C\\u0648\\u0632:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 14\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-medium\",\n          children: res.check_in_date\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 69\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-gray-500\",\n          children: \"\\u0627\\u0644\\u062E\\u0631\\u0648\\u062C \\u0627\\u0644\\u0645\\u062D\\u062C\\u0648\\u0632:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 14\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-medium\",\n          children: res.check_out_date\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 69\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-gray-500\",\n          children: \"\\u0639\\u062F\\u062F \\u0627\\u0644\\u0646\\u0632\\u0644\\u0627\\u0621:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 14\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-medium\",\n          children: res.guests_count || 0\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 66\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-gray-500\",\n          children: \"\\u0627\\u0644\\u0645\\u062A\\u0628\\u0642\\u064A:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 14\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-medium text-red-700\",\n          children: (_res$remaining_amount = res.remaining_amount) !== null && _res$remaining_amount !== void 0 ? _res$remaining_amount : 0\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 62\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), res.special_requests && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-xs text-amber-700 bg-amber-50 border border-amber-100 rounded px-2 py-1\",\n      children: [\"\\u0637\\u0644\\u0628\\u0627\\u062A \\u062E\\u0627\\u0635\\u0629: \", res.special_requests]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-wrap items-center justify-end gap-2 pt-1\",\n      children: [isArrival && (res.status === 'pending' || res.status === 'confirmed') && /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"px-3 py-1 rounded text-xs bg-blue-600 hover:bg-blue-700 text-white\",\n        onClick: () => onCheckIn && onCheckIn(res),\n        children: \"\\u062A\\u0633\\u062C\\u064A\\u0644 \\u062F\\u062E\\u0648\\u0644\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this), isDeparture && res.status === 'checked_in' && /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"px-3 py-1 rounded text-xs bg-emerald-600 hover:bg-emerald-700 text-white\",\n        onClick: () => onCheckOut && onCheckOut(res),\n        children: \"\\u062A\\u0633\\u062C\\u064A\\u0644 \\u062E\\u0631\\u0648\\u062C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this), isInhouse && res.status === 'checked_in' && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-xs text-gray-500\",\n        children: \"\\u0645\\u0642\\u064A\\u0645 \\u062D\\u0627\\u0644\\u064A\\u0627\\u064B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 5\n  }, this);\n}\n_c2 = CheckInOutCard;\nexport default function CheckInOut() {\n  _s();\n  const currentUser = useContext(AuthContext);\n  const [date, setDate] = useState(() => new Date().toISOString().slice(0, 10));\n  const [rows, setRows] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [search, setSearch] = useState('');\n  useEffect(() => {\n    const load = async () => {\n      setLoading(true);\n      try {\n        const {\n          data,\n          error\n        } = await supabase.from('reservations_overview').select('*').or(`check_in_date.eq.${date},check_out_date.eq.${date},and(is_current.eq.true,status.eq.checked_in)`);\n        if (error) throw error;\n        setRows(data || []);\n      } catch (e) {\n        console.error('Load check-in/out overview failed', e);\n        setRows([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n    load();\n  }, [date]);\n  const filtered = useMemo(() => {\n    const term = (search || '').trim().toLowerCase();\n    if (!term) return rows;\n    return rows.filter(r => {\n      const guest = (r.guest_name || '').toLowerCase();\n      const phone = (r.guest_phone || '').toLowerCase();\n      const room = (r.room_label || String(r.room_id || '')).toLowerCase();\n      return guest.includes(term) || phone.includes(term) || room.includes(term);\n    });\n  }, [rows, search]);\n  const arrivals = useMemo(() => filtered.filter(r => r.check_in_date === date && ['pending', 'confirmed'].includes(r.status)), [filtered, date]);\n  const inhouse = useMemo(() => filtered.filter(r => r.is_current && r.status === 'checked_in'), [filtered]);\n  const departures = useMemo(() => filtered.filter(r => r.check_out_date === date && r.status === 'checked_in'), [filtered, date]);\n  const handleCheckIn = async res => {\n    try {\n      const ok = window.confirm(`تأكيد تسجيل دخول النزيل ${res.guest_name || ''} إلى الغرفة ${res.room_label || res.room_id}؟`);\n      if (!ok) return;\n      const payload = {\n        status: 'checked_in'\n      };\n      if (currentUser && currentUser.id) payload.updated_by = currentUser.id;\n      const {\n        error\n      } = await supabase.from('reservations').update(payload).eq('id', res.id);\n      if (error) throw error;\n      // إعادة التحميل\n      const {\n        data,\n        error: e2\n      } = await supabase.from('reservations_overview').select('*').or(`check_in_date.eq.${date},check_out_date.eq.${date},and(is_current.eq.true,status.eq.checked_in)`);\n      if (!e2) setRows(data || []);\n      window.alert('تم تسجيل الدخول بنجاح.');\n    } catch (e) {\n      console.error('Check-in failed', e);\n      window.alert('تعذّر تسجيل الدخول للحجز: ' + (e.message || e));\n    }\n  };\n  const handleCheckOut = async res => {\n    try {\n      const ok = window.confirm(`تأكيد تسجيل خروج النزيل ${res.guest_name || ''} من الغرفة ${res.room_label || res.room_id}؟`);\n      if (!ok) return;\n      const payload = {\n        status: 'checked_out'\n      };\n      if (currentUser && currentUser.id) payload.updated_by = currentUser.id;\n      const {\n        error\n      } = await supabase.from('reservations').update(payload).eq('id', res.id);\n      if (error) throw error;\n      const {\n        data,\n        error: e2\n      } = await supabase.from('reservations_overview').select('*').or(`check_in_date.eq.${date},check_out_date.eq.${date},and(is_current.eq.true,status.eq.checked_in)`);\n      if (!e2) setRows(data || []);\n      window.alert('تم تسجيل الخروج بنجاح.');\n    } catch (e) {\n      console.error('Check-out failed', e);\n      window.alert('تعذّر تسجيل الخروج للحجز: ' + (e.message || e));\n    }\n  };\n  if (!canAccessPage(currentUser, 'checkin-out')) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-8\",\n      dir: \"rtl\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-lg mx-auto bg-red-50 border border-red-200 text-red-700 rounded-lg p-4 text-sm\",\n        children: \"\\u0644\\u0627 \\u062A\\u0645\\u0644\\u0643 \\u0635\\u0644\\u0627\\u062D\\u064A\\u0629 \\u0627\\u0644\\u0648\\u0635\\u0648\\u0644 \\u0625\\u0644\\u0649 \\u0635\\u0641\\u062D\\u0629 \\u062A\\u0633\\u062C\\u064A\\u0644 \\u0627\\u0644\\u062F\\u062E\\u0648\\u0644/\\u0627\\u0644\\u062E\\u0631\\u0648\\u062C. \\u0647\\u0630\\u0647 \\u0627\\u0644\\u0635\\u0641\\u062D\\u0629 \\u0645\\u062E\\u0635\\u0635\\u0629 \\u0644\\u0644\\u0625\\u062F\\u0627\\u0631\\u0629 \\u0648\\u0627\\u0644\\u0627\\u0633\\u062A\\u0642\\u0628\\u0627\\u0644.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-8\",\n    dir: \"rtl\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold mb-1\",\n          children: \"\\u062A\\u0633\\u062C\\u064A\\u0644 \\u062F\\u062E\\u0648\\u0644/\\u062E\\u0631\\u0648\\u062C \\u0627\\u0644\\u0646\\u0632\\u0644\\u0627\\u0621\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-500\",\n          children: \"\\u0634\\u0627\\u0634\\u0629 \\u0627\\u0633\\u062A\\u0642\\u0628\\u0627\\u0644 \\u0645\\u062E\\u0635\\u0635\\u0629 \\u0644\\u0648\\u0635\\u0648\\u0644 \\u0648\\u0645\\u063A\\u0627\\u062F\\u0631\\u0629 \\u0627\\u0644\\u0646\\u0632\\u0644\\u0627\\u0621 \\u0645\\u0639 \\u0631\\u0628\\u0637 \\u0645\\u0628\\u0627\\u0634\\u0631 \\u0628\\u0627\\u0644\\u062D\\u062C\\u0648\\u0632\\u0627\\u062A.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          className: \"border rounded px-3 py-2 text-sm\",\n          value: date,\n          onChange: e => setDate(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"border rounded px-3 py-2 bg-white hover:bg-gray-50 text-sm\",\n          onClick: () => setDate(new Date().toISOString().slice(0, 10)),\n          children: \"\\u0627\\u0644\\u064A\\u0648\\u0645\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-wrap items-center gap-3 mb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative flex-1 min-w-[220px]\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-4 h-4\",\n            viewBox: \"0 0 24 24\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            strokeWidth: \"2\",\n            children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n              cx: \"11\",\n              cy: \"11\",\n              r: \"7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M21 21l-4.3-4.3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"border rounded pl-9 pr-3 py-2 w-full text-sm\",\n          placeholder: \"\\u0628\\u062D\\u062B \\u0628\\u0627\\u0644\\u0627\\u0633\\u0645 / \\u0627\\u0644\\u0647\\u0627\\u062A\\u0641 / \\u0627\\u0644\\u063A\\u0631\\u0641\\u0629\",\n          value: search,\n          onChange: e => setSearch(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6 text-sm\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-blue-50 border border-blue-200 rounded p-3 flex flex-col\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-xs text-blue-700\",\n          children: \"\\u0648\\u0635\\u0648\\u0644 \\u0627\\u0644\\u064A\\u0648\\u0645\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-2xl font-bold text-blue-700\",\n          children: arrivals.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-emerald-50 border border-emerald-200 rounded p-3 flex flex-col\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-xs text-emerald-700\",\n          children: \"\\u0645\\u0642\\u064A\\u0645\\u0648\\u0646 \\u0627\\u0644\\u0622\\u0646\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-2xl font-bold text-emerald-700\",\n          children: inhouse.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-amber-50 border border-amber-200 rounded p-3 flex flex-col\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-xs text-amber-700\",\n          children: \"\\u0645\\u063A\\u0627\\u062F\\u0631\\u0648\\u0646 \\u0627\\u0644\\u064A\\u0648\\u0645\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-2xl font-bold text-amber-700\",\n          children: departures.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"py-12 text-center text-gray-500\",\n      children: \"...\\u062C\\u0627\\u0631\\u064A \\u0627\\u0644\\u062A\\u062D\\u0645\\u064A\\u0644\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold\",\n            children: \"\\u0648\\u0635\\u0648\\u0644 \\u0627\\u0644\\u064A\\u0648\\u0645\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-xs text-gray-500\",\n            children: \"\\u0627\\u0644\\u062D\\u062C\\u0648\\u0632\\u0627\\u062A \\u0627\\u0644\\u0645\\u0624\\u0643\\u062F\\u0629 / \\u0642\\u064A\\u062F \\u0627\\u0644\\u0627\\u0646\\u062A\\u0638\\u0627\\u0631 \\u0628\\u062A\\u0627\\u0631\\u064A\\u062E \\u0627\\u0644\\u064A\\u0648\\u0645\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 13\n        }, this), arrivals.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-500 bg-white rounded border border-dashed border-gray-200 p-4\",\n          children: \"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u0648\\u0635\\u0648\\u0644\\u0627\\u062A \\u0645\\u062C\\u062F\\u0648\\u0644\\u0629 \\u0644\\u0647\\u0630\\u0627 \\u0627\\u0644\\u064A\\u0648\\u0645.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4\",\n          children: arrivals.map(r => /*#__PURE__*/_jsxDEV(CheckInOutCard, {\n            res: r,\n            type: \"arrival\",\n            onCheckIn: handleCheckIn\n          }, r.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold\",\n            children: \"\\u0645\\u0642\\u064A\\u0645\\u0648\\u0646 \\u0627\\u0644\\u0622\\u0646\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-xs text-gray-500\",\n            children: \"\\u0643\\u0644 \\u0627\\u0644\\u062D\\u062C\\u0648\\u0632\\u0627\\u062A \\u0628\\u062D\\u0627\\u0644\\u0629 \\u062A\\u0645 \\u0627\\u0644\\u062F\\u062E\\u0648\\u0644 \\u0648\\u062D\\u0627\\u0644\\u064A\\u0629\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 13\n        }, this), inhouse.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-500 bg-white rounded border border-dashed border-gray-200 p-4\",\n          children: \"\\u0644\\u0627 \\u064A\\u0648\\u062C\\u062F \\u0646\\u0632\\u0644\\u0627\\u0621 \\u0645\\u0642\\u064A\\u0645\\u0648\\u0646 \\u062D\\u0627\\u0644\\u064A\\u064B\\u0627 \\u062D\\u0633\\u0628 \\u0627\\u0644\\u062A\\u0648\\u0627\\u0631\\u064A\\u062E.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4\",\n          children: inhouse.map(r => /*#__PURE__*/_jsxDEV(CheckInOutCard, {\n            res: r,\n            type: \"inhouse\"\n          }, r.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold\",\n            children: \"\\u0645\\u063A\\u0627\\u062F\\u0631\\u0648\\u0646 \\u0627\\u0644\\u064A\\u0648\\u0645\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-xs text-gray-500\",\n            children: \"\\u0627\\u0644\\u062D\\u062C\\u0648\\u0632\\u0627\\u062A \\u0627\\u0644\\u062A\\u064A \\u062A\\u0627\\u0631\\u064A\\u062E \\u062E\\u0631\\u0648\\u062C\\u0647\\u0627 \\u0627\\u0644\\u064A\\u0648\\u0645\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 13\n        }, this), departures.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-500 bg-white rounded border border-dashed border-gray-200 p-4\",\n          children: \"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u0645\\u063A\\u0627\\u062F\\u0631\\u0627\\u062A \\u0645\\u062C\\u062F\\u0648\\u0644\\u0629 \\u0644\\u0647\\u0630\\u0627 \\u0627\\u0644\\u064A\\u0648\\u0645.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4\",\n          children: departures.map(r => /*#__PURE__*/_jsxDEV(CheckInOutCard, {\n            res: r,\n            type: \"departure\",\n            onCheckOut: handleCheckOut\n          }, r.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 179,\n    columnNumber: 5\n  }, this);\n}\n_s(CheckInOut, \"6TBBO1VC2LHdRTFAHB3opZf8Srw=\");\n_c3 = CheckInOut;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"StatusBadge\");\n$RefreshReg$(_c2, \"CheckInOutCard\");\n$RefreshReg$(_c3, \"CheckInOut\");","map":{"version":3,"names":["React","useContext","useEffect","useMemo","useState","supabase","AuthContext","canAccessPage","jsxDEV","_jsxDEV","StatusBadge","status","map","pending","text","cls","confirmed","checked_in","checked_out","cancelled","no_show","v","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","CheckInOutCard","res","type","onCheckIn","onCheckOut","_res$remaining_amount","isArrival","isDeparture","isInhouse","dir","guest_name","guest_phone","guest_email","room_label","room_id","room_type_name","check_in_date","check_out_date","guests_count","remaining_amount","special_requests","onClick","_c2","CheckInOut","_s","currentUser","date","setDate","Date","toISOString","slice","rows","setRows","loading","setLoading","search","setSearch","load","data","error","from","select","or","e","console","filtered","term","trim","toLowerCase","filter","r","guest","phone","room","String","includes","arrivals","inhouse","is_current","departures","handleCheckIn","ok","window","confirm","payload","id","updated_by","update","eq","e2","alert","message","handleCheckOut","value","onChange","target","viewBox","fill","stroke","strokeWidth","cx","cy","d","placeholder","length","_c3","$RefreshReg$"],"sources":["F:/kelany/src/pages/CheckInOut.jsx"],"sourcesContent":["import React, { useContext, useEffect, useMemo, useState } from 'react';\r\nimport { supabase } from '../supabaseClient';\r\nimport { AuthContext } from '../App.jsx';\r\nimport { canAccessPage } from '../utils/permissions';\r\n\r\nfunction StatusBadge({ status }) {\r\n  const map = {\r\n    pending: { text: 'قيد الانتظار', cls: 'bg-yellow-100 text-yellow-800' },\r\n    confirmed: { text: 'مؤكد', cls: 'bg-green-100 text-green-800' },\r\n    checked_in: { text: 'تم الدخول', cls: 'bg-blue-100 text-blue-800' },\r\n    checked_out: { text: 'تم الخروج', cls: 'bg-gray-100 text-gray-800' },\r\n    cancelled: { text: 'ملغي', cls: 'bg-red-100 text-red-800' },\r\n    no_show: { text: 'لم يحضر', cls: 'bg-orange-100 text-orange-800' },\r\n  };\r\n  const v = map[status] || { text: status, cls: 'bg-slate-100 text-slate-700' };\r\n  return <span className={`px-2 py-0.5 rounded text-xs font-medium ${v.cls}`}>{v.text}</span>;\r\n}\r\n\r\nfunction CheckInOutCard({ res, type, onCheckIn, onCheckOut }) {\r\n  const isArrival = type === 'arrival';\r\n  const isDeparture = type === 'departure';\r\n  const isInhouse = type === 'inhouse';\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow border border-gray-200 p-3 flex flex-col gap-2 text-sm\" dir=\"rtl\">\r\n      <div className=\"flex items-center justify-between gap-2\">\r\n        <div className=\"min-w-0\">\r\n          <div className=\"font-semibold truncate\">{res.guest_name || 'نزيل غير محدد'}</div>\r\n          <div className=\"text-xs text-gray-500 truncate\">\r\n            {res.guest_phone || ''}\r\n            {res.guest_phone && res.guest_email ? ' • ' : ''}\r\n            {res.guest_email || ''}\r\n          </div>\r\n        </div>\r\n        <StatusBadge status={res.status} />\r\n      </div>\r\n      <div className=\"grid grid-cols-2 gap-x-4 gap-y-1 text-xs md:text-sm\">\r\n        <div><span className=\"text-gray-500\">الغرفة:</span> <span className=\"font-medium\">{res.room_label || res.room_id}</span></div>\r\n        <div><span className=\"text-gray-500\">نوع الغرفة:</span> <span className=\"font-medium\">{res.room_type_name || '-'}</span></div>\r\n        <div><span className=\"text-gray-500\">الدخول المحجوز:</span> <span className=\"font-medium\">{res.check_in_date}</span></div>\r\n        <div><span className=\"text-gray-500\">الخروج المحجوز:</span> <span className=\"font-medium\">{res.check_out_date}</span></div>\r\n        <div><span className=\"text-gray-500\">عدد النزلاء:</span> <span className=\"font-medium\">{res.guests_count || 0}</span></div>\r\n        <div><span className=\"text-gray-500\">المتبقي:</span> <span className=\"font-medium text-red-700\">{res.remaining_amount ?? 0}</span></div>\r\n      </div>\r\n      {res.special_requests && (\r\n        <div className=\"text-xs text-amber-700 bg-amber-50 border border-amber-100 rounded px-2 py-1\">\r\n          طلبات خاصة: {res.special_requests}\r\n        </div>\r\n      )}\r\n      <div className=\"flex flex-wrap items-center justify-end gap-2 pt-1\">\r\n        {isArrival && (res.status === 'pending' || res.status === 'confirmed') && (\r\n          <button\r\n            type=\"button\"\r\n            className=\"px-3 py-1 rounded text-xs bg-blue-600 hover:bg-blue-700 text-white\"\r\n            onClick={() => onCheckIn && onCheckIn(res)}\r\n          >\r\n            تسجيل دخول\r\n          </button>\r\n        )}\r\n        {isDeparture && res.status === 'checked_in' && (\r\n          <button\r\n            type=\"button\"\r\n            className=\"px-3 py-1 rounded text-xs bg-emerald-600 hover:bg-emerald-700 text-white\"\r\n            onClick={() => onCheckOut && onCheckOut(res)}\r\n          >\r\n            تسجيل خروج\r\n          </button>\r\n        )}\r\n        {isInhouse && res.status === 'checked_in' && (\r\n          <span className=\"text-xs text-gray-500\">مقيم حالياً</span>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function CheckInOut() {\r\n  const currentUser = useContext(AuthContext);\r\n  const [date, setDate] = useState(() => new Date().toISOString().slice(0, 10));\r\n  const [rows, setRows] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [search, setSearch] = useState('');\r\n\r\n  useEffect(() => {\r\n    const load = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const { data, error } = await supabase\r\n          .from('reservations_overview')\r\n          .select('*')\r\n          .or(`check_in_date.eq.${date},check_out_date.eq.${date},and(is_current.eq.true,status.eq.checked_in)`);\r\n        if (error) throw error;\r\n        setRows(data || []);\r\n      } catch (e) {\r\n        console.error('Load check-in/out overview failed', e);\r\n        setRows([]);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    load();\r\n  }, [date]);\r\n\r\n  const filtered = useMemo(() => {\r\n    const term = (search || '').trim().toLowerCase();\r\n    if (!term) return rows;\r\n    return rows.filter(r => {\r\n      const guest = (r.guest_name || '').toLowerCase();\r\n      const phone = (r.guest_phone || '').toLowerCase();\r\n      const room = (r.room_label || String(r.room_id || '')).toLowerCase();\r\n      return guest.includes(term) || phone.includes(term) || room.includes(term);\r\n    });\r\n  }, [rows, search]);\r\n\r\n  const arrivals = useMemo(() => (\r\n    filtered.filter(r => r.check_in_date === date && ['pending', 'confirmed'].includes(r.status))\r\n  ), [filtered, date]);\r\n\r\n  const inhouse = useMemo(() => (\r\n    filtered.filter(r => r.is_current && r.status === 'checked_in')\r\n  ), [filtered]);\r\n\r\n  const departures = useMemo(() => (\r\n    filtered.filter(r => r.check_out_date === date && r.status === 'checked_in')\r\n  ), [filtered, date]);\r\n\r\n  const handleCheckIn = async (res) => {\r\n    try {\r\n      const ok = window.confirm(`تأكيد تسجيل دخول النزيل ${res.guest_name || ''} إلى الغرفة ${res.room_label || res.room_id}؟`);\r\n      if (!ok) return;\r\n      const payload = { status: 'checked_in' };\r\n      if (currentUser && currentUser.id) payload.updated_by = currentUser.id;\r\n      const { error } = await supabase.from('reservations').update(payload).eq('id', res.id);\r\n      if (error) throw error;\r\n      // إعادة التحميل\r\n      const { data, error: e2 } = await supabase\r\n        .from('reservations_overview')\r\n        .select('*')\r\n        .or(`check_in_date.eq.${date},check_out_date.eq.${date},and(is_current.eq.true,status.eq.checked_in)`);\r\n      if (!e2) setRows(data || []);\r\n      window.alert('تم تسجيل الدخول بنجاح.');\r\n    } catch (e) {\r\n      console.error('Check-in failed', e);\r\n      window.alert('تعذّر تسجيل الدخول للحجز: ' + (e.message || e));\r\n    }\r\n  };\r\n\r\n  const handleCheckOut = async (res) => {\r\n    try {\r\n      const ok = window.confirm(`تأكيد تسجيل خروج النزيل ${res.guest_name || ''} من الغرفة ${res.room_label || res.room_id}؟`);\r\n      if (!ok) return;\r\n      const payload = { status: 'checked_out' };\r\n      if (currentUser && currentUser.id) payload.updated_by = currentUser.id;\r\n      const { error } = await supabase.from('reservations').update(payload).eq('id', res.id);\r\n      if (error) throw error;\r\n      const { data, error: e2 } = await supabase\r\n        .from('reservations_overview')\r\n        .select('*')\r\n        .or(`check_in_date.eq.${date},check_out_date.eq.${date},and(is_current.eq.true,status.eq.checked_in)`);\r\n      if (!e2) setRows(data || []);\r\n      window.alert('تم تسجيل الخروج بنجاح.');\r\n    } catch (e) {\r\n      console.error('Check-out failed', e);\r\n      window.alert('تعذّر تسجيل الخروج للحجز: ' + (e.message || e));\r\n    }\r\n  };\r\n\r\n  if (!canAccessPage(currentUser, 'checkin-out')) {\r\n    return (\r\n      <div className=\"p-8\" dir=\"rtl\">\r\n        <div className=\"max-w-lg mx-auto bg-red-50 border border-red-200 text-red-700 rounded-lg p-4 text-sm\">\r\n          لا تملك صلاحية الوصول إلى صفحة تسجيل الدخول/الخروج. هذه الصفحة مخصصة للإدارة والاستقبال.\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-8\" dir=\"rtl\">\r\n      <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6\">\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold mb-1\">تسجيل دخول/خروج النزلاء</h2>\r\n          <p className=\"text-sm text-gray-500\">شاشة استقبال مخصصة لوصول ومغادرة النزلاء مع ربط مباشر بالحجوزات.</p>\r\n        </div>\r\n        <div className=\"flex items-center gap-2\">\r\n          <input\r\n            type=\"date\"\r\n            className=\"border rounded px-3 py-2 text-sm\"\r\n            value={date}\r\n            onChange={(e) => setDate(e.target.value)}\r\n          />\r\n          <button\r\n            type=\"button\"\r\n            className=\"border rounded px-3 py-2 bg-white hover:bg-gray-50 text-sm\"\r\n            onClick={() => setDate(new Date().toISOString().slice(0, 10))}\r\n          >\r\n            اليوم\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex flex-wrap items-center gap-3 mb-4\">\r\n        <div className=\"relative flex-1 min-w-[220px]\">\r\n          <span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\">\r\n            <svg className=\"w-4 h-4\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n              <circle cx=\"11\" cy=\"11\" r=\"7\" />\r\n              <path d=\"M21 21l-4.3-4.3\" />\r\n            </svg>\r\n          </span>\r\n          <input\r\n            className=\"border rounded pl-9 pr-3 py-2 w-full text-sm\"\r\n            placeholder=\"بحث بالاسم / الهاتف / الغرفة\"\r\n            value={search}\r\n            onChange={(e) => setSearch(e.target.value)}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6 text-sm\">\r\n        <div className=\"bg-blue-50 border border-blue-200 rounded p-3 flex flex-col\">\r\n          <span className=\"text-xs text-blue-700\">وصول اليوم</span>\r\n          <span className=\"text-2xl font-bold text-blue-700\">{arrivals.length}</span>\r\n        </div>\r\n        <div className=\"bg-emerald-50 border border-emerald-200 rounded p-3 flex flex-col\">\r\n          <span className=\"text-xs text-emerald-700\">مقيمون الآن</span>\r\n          <span className=\"text-2xl font-bold text-emerald-700\">{inhouse.length}</span>\r\n        </div>\r\n        <div className=\"bg-amber-50 border border-amber-200 rounded p-3 flex flex-col\">\r\n          <span className=\"text-xs text-amber-700\">مغادرون اليوم</span>\r\n          <span className=\"text-2xl font-bold text-amber-700\">{departures.length}</span>\r\n        </div>\r\n      </div>\r\n\r\n      {loading ? (\r\n        <div className=\"py-12 text-center text-gray-500\">...جاري التحميل</div>\r\n      ) : (\r\n        <div className=\"space-y-8\">\r\n          <section>\r\n            <div className=\"flex items-center justify-between mb-2\">\r\n              <h3 className=\"text-lg font-semibold\">وصول اليوم</h3>\r\n              <span className=\"text-xs text-gray-500\">الحجوزات المؤكدة / قيد الانتظار بتاريخ اليوم</span>\r\n            </div>\r\n            {arrivals.length === 0 ? (\r\n              <div className=\"text-sm text-gray-500 bg-white rounded border border-dashed border-gray-200 p-4\">لا توجد وصولات مجدولة لهذا اليوم.</div>\r\n            ) : (\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4\">\r\n                {arrivals.map(r => (\r\n                  <CheckInOutCard key={r.id} res={r} type=\"arrival\" onCheckIn={handleCheckIn} />\r\n                ))}\r\n              </div>\r\n            )}\r\n          </section>\r\n\r\n          <section>\r\n            <div className=\"flex items-center justify-between mb-2\">\r\n              <h3 className=\"text-lg font-semibold\">مقيمون الآن</h3>\r\n              <span className=\"text-xs text-gray-500\">كل الحجوزات بحالة تم الدخول وحالية</span>\r\n            </div>\r\n            {inhouse.length === 0 ? (\r\n              <div className=\"text-sm text-gray-500 bg-white rounded border border-dashed border-gray-200 p-4\">لا يوجد نزلاء مقيمون حاليًا حسب التواريخ.</div>\r\n            ) : (\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4\">\r\n                {inhouse.map(r => (\r\n                  <CheckInOutCard key={r.id} res={r} type=\"inhouse\" />\r\n                ))}\r\n              </div>\r\n            )}\r\n          </section>\r\n\r\n          <section>\r\n            <div className=\"flex items-center justify-between mb-2\">\r\n              <h3 className=\"text-lg font-semibold\">مغادرون اليوم</h3>\r\n              <span className=\"text-xs text-gray-500\">الحجوزات التي تاريخ خروجها اليوم</span>\r\n            </div>\r\n            {departures.length === 0 ? (\r\n              <div className=\"text-sm text-gray-500 bg-white rounded border border-dashed border-gray-200 p-4\">لا توجد مغادرات مجدولة لهذا اليوم.</div>\r\n            ) : (\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4\">\r\n                {departures.map(r => (\r\n                  <CheckInOutCard key={r.id} res={r} type=\"departure\" onCheckOut={handleCheckOut} />\r\n                ))}\r\n              </div>\r\n            )}\r\n          </section>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _jsxFileName = \"F:\\\\kelany\\\\src\\\\pages\\\\Accounting.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$();\nimport React, { useEffect, useMemo, useState, useContext } from 'react';\nimport { supabase } from '../supabaseClient';\nimport { AuthContext } from '../App.jsx';\nimport { isManager, isAssistantManager } from '../utils/permissions.js';\nimport CashboxModal from '../components/CashboxModal.jsx';\nimport AccountingIncomeModal from '../components/AccountingIncomeModal.jsx';\nimport AccountingExpenseModal from '../components/AccountingExpenseModal.jsx';\nimport BankAccountsModal from '../components/BankAccountsModal.jsx';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Accounting() {\n  _s();\n  const [activeTab, setActiveTab] = useState('dashboard');\n  const [loading, setLoading] = useState(true);\n  const [stats, setStats] = useState({\n    todayIncome: 0,\n    todayExpense: 0,\n    todayNet: 0,\n    monthIncome: 0,\n    monthExpense: 0,\n    monthNet: 0,\n    receptionPending: 0\n  });\n  const [wallets, setWallets] = useState({\n    cashConfirmed: 0,\n    cashPending: 0,\n    instapayConfirmed: 0,\n    instapayPending: 0,\n    eCashConfirmed: 0,\n    eCashPending: 0\n  });\n  const [showCashbox, setShowCashbox] = useState(false);\n  const [showIncome, setShowIncome] = useState(false);\n  const [showExpense, setShowExpense] = useState(false);\n  const [showBanks, setShowBanks] = useState(false);\n  const currentUser = useContext(AuthContext);\n  const isMgr = isManager(currentUser);\n  const isAsst = isAssistantManager(currentUser);\n  const canViewAdvanced = isMgr || isAsst; // معاملات/شجرة حسابات/تقارير + خزنة/بنوك/إيرادات\n  const canAddExpense = isMgr || isAsst || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'reception';\n  const todayLabel = useMemo(() => {\n    try {\n      return new Date().toLocaleDateString('ar-EG', {\n        weekday: 'long',\n        day: 'numeric',\n        month: 'long',\n        year: 'numeric'\n      });\n    } catch (_) {\n      return '';\n    }\n  }, []);\n  useEffect(() => {\n    async function loadStats() {\n      setLoading(true);\n      try {\n        const today = new Date();\n        const yyyyMmDd = today.toISOString().slice(0, 10);\n        const monthStart = new Date(today.getFullYear(), today.getMonth(), 1).toISOString().slice(0, 10);\n        const {\n          data: tx\n        } = await supabase.from('accounting_transactions').select('tx_date,direction,amount').eq('status', 'confirmed').neq('source_type', 'transfer').gte('tx_date', monthStart).lte('tx_date', yyyyMmDd);\n        let todayIncome = 0;\n        let todayExpense = 0;\n        let monthIncome = 0;\n        let monthExpense = 0;\n        (tx || []).forEach(row => {\n          const amt = Number(row.amount || 0);\n          if (!amt) return;\n          const isIncome = row.direction === 'income';\n          if (row.tx_date === yyyyMmDd) {\n            if (isIncome) todayIncome += amt;else todayExpense += amt;\n          }\n          if (isIncome) monthIncome += amt;else monthExpense += amt;\n        });\n\n        // الرصيد المعلّق لدى الريسبشن (نقدي + محافظ إلكترونية في انتظار التأكيد)\n        const {\n          data: pendingTx\n        } = await supabase.from('accounting_transactions').select('direction,amount,payment_method,status').eq('status', 'pending').in('payment_method', ['cash', 'instapay', 'other']);\n        let receptionPending = 0;\n        (pendingTx || []).forEach(row => {\n          const amt = Number(row.amount || 0);\n          if (!amt) return;\n          if (row.direction === 'income') receptionPending += amt;else receptionPending -= amt;\n        });\n\n        // أرصدة المحافظ المؤكَّدة\n        const {\n          data: walletConfirmedTx\n        } = await supabase.from('accounting_transactions').select('direction,amount,payment_method').eq('status', 'confirmed').in('payment_method', ['cash', 'instapay', 'other']);\n        let cashConfirmed = 0;\n        let instapayConfirmed = 0;\n        let eCashConfirmed = 0;\n        (walletConfirmedTx || []).forEach(row => {\n          const amt = Number(row.amount || 0);\n          if (!amt) return;\n          const signed = row.direction === 'income' ? amt : -amt;\n          if (row.payment_method === 'cash') cashConfirmed += signed;else if (row.payment_method === 'instapay') instapayConfirmed += signed;else eCashConfirmed += signed;\n        });\n\n        // أرصدة المحافظ المعلّقة (من pendingTx)\n        let cashPending = 0;\n        let instapayPending = 0;\n        let eCashPending = 0;\n        (pendingTx || []).forEach(row => {\n          const amt = Number(row.amount || 0);\n          if (!amt) return;\n          const signed = row.direction === 'income' ? amt : -amt;\n          if (row.payment_method === 'cash') cashPending += signed;else if (row.payment_method === 'instapay') instapayPending += signed;else eCashPending += signed;\n        });\n        setStats({\n          todayIncome,\n          todayExpense,\n          todayNet: todayIncome - todayExpense,\n          monthIncome,\n          monthExpense,\n          monthNet: monthIncome - monthExpense,\n          receptionPending\n        });\n        setWallets({\n          cashConfirmed,\n          cashPending,\n          instapayConfirmed,\n          instapayPending,\n          eCashConfirmed,\n          eCashPending\n        });\n      } catch (e) {\n        console.error('loadStats error', e);\n      } finally {\n        setLoading(false);\n      }\n    }\n    loadStats();\n  }, []);\n  const refreshAfterTx = () => {\n    // بعد أي عملية مالية، نعيد تحميل الملخصات\n    try {\n      const evt = new Event('accounting-tx-updated');\n      window.dispatchEvent(evt);\n    } catch (_) {}\n  };\n  useEffect(() => {\n    const handler = () => {\n      // إعادة تحميل نفس المنطق بدون تكرار الكود بالكامل\n      (async () => {\n        try {\n          const today = new Date();\n          const yyyyMmDd = today.toISOString().slice(0, 10);\n          const monthStart = new Date(today.getFullYear(), today.getMonth(), 1).toISOString().slice(0, 10);\n          const {\n            data: tx\n          } = await supabase.from('accounting_transactions').select('tx_date,direction,amount').eq('status', 'confirmed').neq('source_type', 'transfer').gte('tx_date', monthStart).lte('tx_date', yyyyMmDd);\n          let todayIncome = 0;\n          let todayExpense = 0;\n          let monthIncome = 0;\n          let monthExpense = 0;\n          (tx || []).forEach(row => {\n            const amt = Number(row.amount || 0);\n            if (!amt) return;\n            const isIncome = row.direction === 'income';\n            if (row.tx_date === yyyyMmDd) {\n              if (isIncome) todayIncome += amt;else todayExpense += amt;\n            }\n            if (isIncome) monthIncome += amt;else monthExpense += amt;\n          });\n          const {\n            data: pendingTx\n          } = await supabase.from('accounting_transactions').select('direction,amount,payment_method,status').eq('status', 'pending').in('payment_method', ['cash', 'instapay', 'other']);\n          let receptionPending = 0;\n          (pendingTx || []).forEach(row => {\n            const amt = Number(row.amount || 0);\n            if (!amt) return;\n            if (row.direction === 'income') receptionPending += amt;else receptionPending -= amt;\n          });\n          const {\n            data: walletConfirmedTx\n          } = await supabase.from('accounting_transactions').select('direction,amount,payment_method').eq('status', 'confirmed').in('payment_method', ['cash', 'instapay', 'other']);\n          let cashConfirmed = 0;\n          let instapayConfirmed = 0;\n          let eCashConfirmed = 0;\n          (walletConfirmedTx || []).forEach(row => {\n            const amt = Number(row.amount || 0);\n            if (!amt) return;\n            const signed = row.direction === 'income' ? amt : -amt;\n            if (row.payment_method === 'cash') cashConfirmed += signed;else if (row.payment_method === 'instapay') instapayConfirmed += signed;else eCashConfirmed += signed;\n          });\n          let cashPending = 0;\n          let instapayPending = 0;\n          let eCashPending = 0;\n          (pendingTx || []).forEach(row => {\n            const amt = Number(row.amount || 0);\n            if (!amt) return;\n            const signed = row.direction === 'income' ? amt : -amt;\n            if (row.payment_method === 'cash') cashPending += signed;else if (row.payment_method === 'instapay') instapayPending += signed;else eCashPending += signed;\n          });\n          setStats({\n            todayIncome,\n            todayExpense,\n            todayNet: todayIncome - todayExpense,\n            monthIncome,\n            monthExpense,\n            monthNet: monthIncome - monthExpense,\n            receptionPending\n          });\n          setWallets({\n            cashConfirmed,\n            cashPending,\n            instapayConfirmed,\n            instapayPending,\n            eCashConfirmed,\n            eCashPending\n          });\n        } catch (e) {\n          console.error('reload stats error', e);\n        }\n      })();\n    };\n    try {\n      window.addEventListener('accounting-tx-updated', handler);\n    } catch (_) {}\n    return () => {\n      try {\n        window.removeEventListener('accounting-tx-updated', handler);\n      } catch (_) {}\n    };\n  }, []);\n  const renderDashboardTab = () => /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-emerald-50 border border-emerald-100 rounded-lg p-4 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-emerald-700 mb-1\",\n          children: \"\\u0625\\u064A\\u0631\\u0627\\u062F\\u0627\\u062A \\u0627\\u0644\\u064A\\u0648\\u0645\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xl font-bold text-emerald-900\",\n          children: [stats.todayIncome, \" \\u062C\\u0646\\u064A\\u0647\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-rose-50 border border-rose-100 rounded-lg p-4 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-rose-700 mb-1\",\n          children: \"\\u0645\\u0635\\u0631\\u0648\\u0641\\u0627\\u062A \\u0627\\u0644\\u064A\\u0648\\u0645\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xl font-bold text-rose-900\",\n          children: [stats.todayExpense, \" \\u062C\\u0646\\u064A\\u0647\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-blue-50 border border-blue-100 rounded-lg p-4 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-blue-700 mb-1\",\n          children: \"\\u0635\\u0627\\u0641\\u064A \\u0627\\u0644\\u064A\\u0648\\u0645\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xl font-bold text-blue-900\",\n          children: [stats.todayNet, \" \\u062C\\u0646\\u064A\\u0647\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-indigo-50 border border-indigo-100 rounded-lg p-4 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-indigo-700 mb-1\",\n          children: \"\\u0635\\u0627\\u0641\\u064A \\u0627\\u0644\\u0634\\u0647\\u0631 \\u0627\\u0644\\u062D\\u0627\\u0644\\u064A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xl font-bold text-indigo-900\",\n          children: [stats.monthNet, \" \\u062C\\u0646\\u064A\\u0647\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-amber-50 border border-amber-100 rounded-lg p-4 text-center md:col-span-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-amber-700 mb-1\",\n          children: \"\\u0631\\u0635\\u064A\\u062F \\u0627\\u0644\\u0645\\u0628\\u0627\\u0644\\u063A \\u0627\\u0644\\u0645\\u062C\\u0645\\u0651\\u0639\\u0629 \\u0644\\u062F\\u0649 \\u0627\\u0644\\u0631\\u064A\\u0633\\u0628\\u0634\\u0646 (\\u0641\\u064A \\u0627\\u0646\\u062A\\u0638\\u0627\\u0631 \\u0627\\u0644\\u062A\\u0623\\u0643\\u064A\\u062F)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xl font-bold text-amber-900\",\n          children: [stats.receptionPending, \" \\u062C\\u0646\\u064A\\u0647\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-amber-50 border border-amber-100 rounded-lg p-4 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-2xl mb-1\",\n          children: \"\\uD83D\\uDCB0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-amber-700 mb-1\",\n          children: \"\\u0631\\u0635\\u064A\\u062F \\u0627\\u0644\\u0643\\u0627\\u0634 (\\u062E\\u0632\\u0646\\u0629)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-600 mb-1\",\n          children: [\"\\u0645\\u0624\\u0643\\u0651\\u064E\\u062F: \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold text-amber-900\",\n            children: [wallets.cashConfirmed, \" \\u062C\\u0646\\u064A\\u0647\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 63\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-gray-500\",\n          children: [\"\\u0645\\u0639\\u0644\\u0651\\u0642: \", wallets.cashPending, \" \\u062C\\u0646\\u064A\\u0647\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-sky-50 border border-sky-100 rounded-lg p-4 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-2xl mb-1\",\n          children: \"\\uD83D\\uDCF2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-sky-700 mb-1\",\n          children: \"\\u0631\\u0635\\u064A\\u062F \\u0625\\u0646\\u0633\\u062A\\u0627\\u0628\\u0627\\u064A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-600 mb-1\",\n          children: [\"\\u0645\\u0624\\u0643\\u0651\\u064E\\u062F: \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold text-sky-900\",\n            children: [wallets.instapayConfirmed, \" \\u062C\\u0646\\u064A\\u0647\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 63\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-gray-500\",\n          children: [\"\\u0645\\u0639\\u0644\\u0651\\u0642: \", wallets.instapayPending, \" \\u062C\\u0646\\u064A\\u0647\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-purple-50 border border-purple-100 rounded-lg p-4 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-2xl mb-1\",\n          children: \"\\uD83D\\uDCB3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-purple-700 mb-1\",\n          children: \"\\u0631\\u0635\\u064A\\u062F \\u0627\\u0644\\u0643\\u0627\\u0634 \\u0627\\u0644\\u0625\\u0644\\u0643\\u062A\\u0631\\u0648\\u0646\\u064A (\\u0641\\u0648\\u062F\\u0627\\u0641\\u0648\\u0646/\\u0627\\u062A\\u0635\\u0627\\u0644\\u0627\\u062A/\\u0623\\u062E\\u0631\\u0649)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-600 mb-1\",\n          children: [\"\\u0645\\u0624\\u0643\\u0651\\u064E\\u062F: \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold text-purple-900\",\n            children: [wallets.eCashConfirmed, \" \\u062C\\u0646\\u064A\\u0647\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 63\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-gray-500\",\n          children: [\"\\u0645\\u0639\\u0644\\u0651\\u0642: \", wallets.eCashPending, \" \\u062C\\u0646\\u064A\\u0647\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\",\n      children: [canViewAdvanced && /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => setShowCashbox(true),\n        className: \"bg-amber-50 hover:bg-amber-100 border border-amber-200 rounded-lg p-4 flex flex-col items-center justify-center gap-2 transition\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-2xl\",\n          children: \"\\uD83D\\uDCB0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-semibold text-amber-900\",\n          children: \"\\u0625\\u062F\\u0627\\u0631\\u0629 \\u0627\\u0644\\u062E\\u0632\\u0646\\u0629\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 11\n      }, this), canViewAdvanced && /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => setShowIncome(true),\n        className: \"bg-emerald-50 hover:bg-emerald-100 border border-emerald-200 rounded-lg p-4 flex flex-col items-center justify-center gap-2 transition\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-2xl\",\n          children: \"\\uD83D\\uDCC8\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-semibold text-emerald-900\",\n          children: \"\\u062A\\u0633\\u062C\\u064A\\u0644 \\u0625\\u064A\\u0631\\u0627\\u062F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 11\n      }, this), canAddExpense && /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => setShowExpense(true),\n        className: \"bg-rose-50 hover:bg-rose-100 border border-rose-200 rounded-lg p-4 flex flex-col items-center justify-center gap-2 transition\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-2xl\",\n          children: \"\\uD83D\\uDCC9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-semibold text-rose-900\",\n          children: \"\\u062A\\u0633\\u062C\\u064A\\u0644 \\u0645\\u0635\\u0631\\u0648\\u0641\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 11\n      }, this), canViewAdvanced && /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => setShowBanks(true),\n        className: \"bg-sky-50 hover:bg-sky-100 border border-sky-200 rounded-lg p-4 flex flex-col items-center justify-center gap-2 transition\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-2xl\",\n          children: \"\\uD83C\\uDFE6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-semibold text-sky-900\",\n          children: \"\\u062D\\u0633\\u0627\\u0628\\u0627\\u062A \\u0627\\u0644\\u0628\\u0646\\u0648\\u0643\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n  const renderTransactionsTab = () => /*#__PURE__*/_jsxDEV(AccountingTransactionsTab, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 369,\n    columnNumber: 5\n  }, this);\n  const renderAccountsTreeTab = () => /*#__PURE__*/_jsxDEV(AccountingCategoriesTab, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 373,\n    columnNumber: 5\n  }, this);\n  const renderReportsTab = () => /*#__PURE__*/_jsxDEV(AccountingReportsTab, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 377,\n    columnNumber: 5\n  }, this);\n  const renderActiveTab = () => {\n    switch (activeTab) {\n      case 'dashboard':\n        return renderDashboardTab();\n      case 'transactions':\n        return canViewAdvanced ? renderTransactionsTab() : renderDashboardTab();\n      case 'accounts-tree':\n        return canViewAdvanced ? renderAccountsTreeTab() : renderDashboardTab();\n      case 'reports':\n        return canViewAdvanced ? renderReportsTab() : renderDashboardTab();\n      default:\n        return renderDashboardTab();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col gap-6 p-6 bg-gray-50 min-h-screen\",\n    dir: \"rtl\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bg-yellow-400 text-white px-4 py-2 rounded\",\n          children: \"\\u0646\\u0633\\u062E\\u0629 \\u0627\\u062D\\u062A\\u064A\\u0627\\u0637\\u064A\\u0629\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bg-white border rounded p-2\",\n          title: \"\\u0627\\u0644\\u0625\\u0634\\u0639\\u0627\\u0631\\u0627\\u062A\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            role: \"img\",\n            \"aria-label\": \"\\u062A\\u0646\\u0628\\u064A\\u0647\",\n            children: \"\\uD83D\\uDD14\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 77\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-gray-600 text-sm\",\n        children: todayLabel\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 397,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold text-gray-800 mb-1\",\n        children: \"\\u0627\\u0644\\u0646\\u0638\\u0627\\u0645 \\u0627\\u0644\\u0645\\u062D\\u0627\\u0633\\u0628\\u064A \\u0627\\u0644\\u0630\\u0643\\u064A\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-gray-500\",\n        children: \"\\u0625\\u062F\\u0627\\u0631\\u0629 \\u0643\\u0627\\u0645\\u0644\\u0629 \\u0644\\u0644\\u0645\\u0639\\u0644\\u0648\\u0645\\u0627\\u062A \\u0627\\u0644\\u0645\\u0627\\u0644\\u064A\\u0629 \\u0648\\u0627\\u0644\\u0645\\u0639\\u0627\\u0645\\u0644\\u0627\\u062A \\u0627\\u0644\\u064A\\u0648\\u0645\\u064A\\u0629 \\u0644\\u0644\\u0641\\u0646\\u062F\\u0642.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 405,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-wrap gap-2 bg-white rounded-lg p-2 border\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => setActiveTab('dashboard'),\n        className: `px-4 py-2 rounded text-sm ${activeTab === 'dashboard' ? 'bg-blue-600 text-white' : 'bg-gray-50 text-gray-700 hover:bg-gray-100'}`,\n        children: \"\\u0644\\u0648\\u062D\\u0629 \\u0627\\u0644\\u0645\\u0639\\u0644\\u0648\\u0645\\u0627\\u062A\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 9\n      }, this), canViewAdvanced && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => setActiveTab('transactions'),\n          className: `px-4 py-2 rounded text-sm ${activeTab === 'transactions' ? 'bg-blue-600 text-white' : 'bg-gray-50 text-gray-700 hover:bg-gray-100'}`,\n          children: \"\\u0627\\u0644\\u0645\\u0639\\u0627\\u0645\\u0644\\u0627\\u062A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => setActiveTab('accounts-tree'),\n          className: `px-4 py-2 rounded text-sm ${activeTab === 'accounts-tree' ? 'bg-blue-600 text-white' : 'bg-gray-50 text-gray-700 hover:bg-gray-100'}`,\n          children: \"\\u0634\\u062C\\u0631\\u0629 \\u0627\\u0644\\u062D\\u0633\\u0627\\u0628\\u0627\\u062A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => setActiveTab('reports'),\n          className: `px-4 py-2 rounded text-sm ${activeTab === 'reports' ? 'bg-blue-600 text-white' : 'bg-gray-50 text-gray-700 hover:bg-gray-100'}`,\n          children: \"\\u0627\\u0644\\u062A\\u0642\\u0627\\u0631\\u064A\\u0631\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg p-6 text-center text-gray-500 border\",\n      children: \"\\u062C\\u0627\\u0631\\u064A \\u062A\\u062D\\u0645\\u064A\\u0644 \\u0645\\u0644\\u062E\\u0635 \\u0627\\u0644\\u0645\\u062D\\u0627\\u0633\\u0628\\u0629...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 446,\n      columnNumber: 9\n    }, this) : renderActiveTab(), showCashbox && /*#__PURE__*/_jsxDEV(CashboxModal, {\n      onClose: () => setShowCashbox(false),\n      onDone: () => {\n        setShowCashbox(false);\n        refreshAfterTx();\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 452,\n      columnNumber: 9\n    }, this), showIncome && /*#__PURE__*/_jsxDEV(AccountingIncomeModal, {\n      onClose: () => setShowIncome(false),\n      onDone: () => {\n        setShowIncome(false);\n        refreshAfterTx();\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 462,\n      columnNumber: 9\n    }, this), showExpense && /*#__PURE__*/_jsxDEV(AccountingExpenseModal, {\n      onClose: () => setShowExpense(false),\n      onDone: () => {\n        setShowExpense(false);\n        refreshAfterTx();\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 472,\n      columnNumber: 9\n    }, this), showBanks && /*#__PURE__*/_jsxDEV(BankAccountsModal, {\n      onClose: () => setShowBanks(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 482,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 396,\n    columnNumber: 5\n  }, this);\n}\n_s(Accounting, \"HSpJo9oIcj2jC9FDQRACZxTGLtU=\");\n_c = Accounting;\nfunction AccountingTransactionsTab() {\n  _s2();\n  const [rows, setRows] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [search, setSearch] = useState('');\n  const [debounced, setDebounced] = useState('');\n  const [direction, setDirection] = useState('');\n  const [paymentMethod, setPaymentMethod] = useState('');\n  const [fromDate, setFromDate] = useState('');\n  const [toDate, setToDate] = useState('');\n  const [page, setPage] = useState(0);\n  const [pageSize, setPageSize] = useState(20);\n  const [totalCount, setTotalCount] = useState(0);\n  const [categories, setCategories] = useState([]);\n  const [statusFilter, setStatusFilter] = useState('');\n  const [staffUsers, setStaffUsers] = useState([]);\n  const [sourceFilter, setSourceFilter] = useState('');\n  const [refundOnly, setRefundOnly] = useState(false);\n  const currentUser = React.useContext(AuthContext);\n  const canConfirmIncome = isManager(currentUser) || isAssistantManager(currentUser);\n  const canConfirmExpense = isManager(currentUser); // اعتماد المصروفات حصريًا للمدير\n\n  useEffect(() => {\n    const t = setTimeout(() => setDebounced(search), 350);\n    return () => clearTimeout(t);\n  }, [search]);\n  useEffect(() => {\n    const loadCats = async () => {\n      try {\n        const {\n          data\n        } = await supabase.from('accounting_categories').select('id,name,type').eq('active', true).order('type', {\n          ascending: true\n        });\n        setCategories(data || []);\n      } catch (e) {\n        console.error('load accounting categories error', e);\n      }\n    };\n    loadCats();\n  }, []);\n  useEffect(() => {\n    const loadStaff = async () => {\n      try {\n        const {\n          data\n        } = await supabase.from('staff_users_overview').select('id,full_name,username');\n        setStaffUsers(data || []);\n      } catch (e) {\n        console.error('load staff users for accounting error', e);\n      }\n    };\n    loadStaff();\n  }, []);\n  const buildQuery = React.useCallback(() => {\n    const q = supabase.from('accounting_transactions').select('id,tx_date,direction,amount,payment_method,description,source_type,reservation_id,category_id,status,created_at,created_by,confirmed_at,confirmed_by', {\n      count: 'exact'\n    }).order('tx_date', {\n      ascending: false\n    }).order('created_at', {\n      ascending: false\n    });\n\n    // عرض خاص لطلبات استرداد الحجوزات: مصروفات معلّقة مرتبطة بحجوزات\n    if (refundOnly) {\n      q.eq('direction', 'expense');\n      q.eq('status', 'pending');\n      q.eq('source_type', 'reservation');\n    } else {\n      if (direction) q.eq('direction', direction);\n      if (paymentMethod) q.eq('payment_method', paymentMethod);\n      if (statusFilter) q.eq('status', statusFilter);\n      if (sourceFilter) q.eq('source_type', sourceFilter);\n    }\n    if (fromDate) q.gte('tx_date', fromDate);\n    if (toDate) q.lte('tx_date', toDate);\n    const term = (debounced || '').trim();\n    if (term) {\n      q.ilike('description', `%${term}%`);\n    }\n    const from = page * pageSize;\n    const to = from + pageSize - 1;\n    q.range(from, to);\n    return q;\n  }, [debounced, direction, paymentMethod, statusFilter, sourceFilter, fromDate, toDate, page, pageSize, refundOnly]);\n  const load = React.useCallback(async () => {\n    setLoading(true);\n    try {\n      const {\n        data,\n        error,\n        count\n      } = await buildQuery();\n      if (error) throw error;\n      setRows(data || []);\n      setTotalCount(count || 0);\n    } catch (e) {\n      console.error('load accounting transactions error', e);\n      setRows([]);\n      setTotalCount(0);\n    } finally {\n      setLoading(false);\n    }\n  }, [buildQuery]);\n  useEffect(() => {\n    load();\n  }, [load]);\n  useEffect(() => {\n    const handler = () => {\n      load();\n    };\n    try {\n      window.addEventListener('accounting-tx-updated', handler);\n    } catch (_) {}\n    return () => {\n      try {\n        window.removeEventListener('accounting-tx-updated', handler);\n      } catch (_) {}\n    };\n  }, [load]);\n  const catName = id => {\n    if (!id) return '-';\n    const c = categories.find(x => x.id === id);\n    return c ? c.name : '-';\n  };\n  const directionBadge = d => {\n    const common = 'inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium';\n    if (d === 'income') return /*#__PURE__*/_jsxDEV(\"span\", {\n      className: `${common} bg-emerald-50 text-emerald-700 border border-emerald-200`,\n      children: \"\\u0625\\u064A\\u0631\\u0627\\u062F\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 617,\n      columnNumber: 32\n    }, this);\n    if (d === 'expense') return /*#__PURE__*/_jsxDEV(\"span\", {\n      className: `${common} bg-rose-50 text-rose-700 border border-rose-200`,\n      children: \"\\u0645\\u0635\\u0631\\u0648\\u0641\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 618,\n      columnNumber: 33\n    }, this);\n    return null;\n  };\n  const paymentLabel = m => {\n    if (m === 'cash') return 'نقدي (خزنة)';\n    if (m === 'bank') return 'حساب بنكي';\n    if (m === 'instapay') return 'إنستاباي / بطاقة بنكية';\n    // أي قيم قديمة مثل vodafone_cash أو etisalat_cash أو other نعرضها كمحفظة إلكترونية موحدة\n    return 'محفظة إلكترونية';\n  };\n  const staffName = id => {\n    if (!id) return 'غير محدد';\n    const u = staffUsers.find(x => x.id === id);\n    if (!u) return 'مستخدم غير معروف';\n    return u.full_name || u.username || 'مستخدم';\n  };\n  const statusBadge = s => {\n    const common = 'inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium';\n    if (s === 'confirmed') return /*#__PURE__*/_jsxDEV(\"span\", {\n      className: `${common} bg-emerald-50 text-emerald-700 border border-emerald-200`,\n      children: \"\\u0645\\u0624\\u0643\\u0651\\u064E\\u062F\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 639,\n      columnNumber: 35\n    }, this);\n    if (s === 'pending') return /*#__PURE__*/_jsxDEV(\"span\", {\n      className: `${common} bg-amber-50 text-amber-700 border border-amber-200`,\n      children: \"\\u0645\\u0639\\u0644\\u0651\\u0642\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 640,\n      columnNumber: 33\n    }, this);\n    if (s === 'rejected') return /*#__PURE__*/_jsxDEV(\"span\", {\n      className: `${common} bg-rose-50 text-rose-700 border border-rose-200`,\n      children: \"\\u0645\\u0631\\u0641\\u0648\\u0636\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 641,\n      columnNumber: 34\n    }, this);\n    return null;\n  };\n  const isReservationRefund = row => row && row.direction === 'expense' && row.source_type === 'reservation';\n  const handleConfirm = async row => {\n    if (row.direction === 'expense' && !canConfirmExpense) {\n      alert('فقط المدير يمكنه اعتماد المصروفات.');\n      return;\n    }\n    if (row.direction === 'income' && !canConfirmIncome) {\n      alert('فقط المدير أو مساعد المدير يمكنه تأكيد التحصيل.');\n      return;\n    }\n    let selectedPaymentMethod = null;\n    let selectedBankAccountId = null;\n\n    // في حالة اعتماد طلب استرداد حجز، نطلب من المدير اختيار مصدر الصرف الفعلي\n    if (isReservationRefund(row)) {\n      const choice = window.prompt('اعتماد طلب استرداد الحجز:\\n\\n' + 'اختر مصدر صرف مبلغ الاسترداد (اكتب رقم الخيار):\\n' + '1) خزنة نقدية (cash)\\n' + '2) إنستاباي / بطاقة بنكية (instapay)\\n' + '3) محفظة إلكترونية (other)\\n' + '4) حساب بنكي محدد (bank)\\n\\n' + 'اترك الحقل فارغًا لإلغاء العملية.', '1');\n      if (!choice) {\n        alert('تم إلغاء اعتماد طلب الاسترداد؛ لم يتم تعديل المعاملة.');\n        return;\n      }\n      const trimmed = String(choice).trim();\n      if (trimmed === '1') {\n        selectedPaymentMethod = 'cash';\n      } else if (trimmed === '2') {\n        selectedPaymentMethod = 'instapay';\n      } else if (trimmed === '3') {\n        selectedPaymentMethod = 'other';\n      } else if (trimmed === '4') {\n        // تحميل الحسابات البنكية المتاحة للاختيار\n        try {\n          const {\n            data: banks,\n            error: bankError\n          } = await supabase.from('bank_accounts').select('id,bank_name,account_name,active').eq('active', true);\n          if (bankError) throw bankError;\n          const list = banks || [];\n          if (list.length === 0) {\n            alert('لا توجد حسابات بنكية مفعّلة حاليًا لاختيارها كمصدر للصرف.');\n            return;\n          }\n          const optionsText = list.map((b, idx) => `${idx + 1}) ${b.bank_name} — ${b.account_name}`).join('\\n');\n          const bankChoice = window.prompt('اختر الحساب البنكي الذي سيتم منه صرف مبلغ الاسترداد (اكتب رقم السطر):\\n\\n' + optionsText + '\\n\\nاترك الحقل فارغًا لإلغاء العملية.');\n          if (!bankChoice) {\n            alert('تم إلغاء اعتماد طلب الاسترداد؛ لم يتم تعديل المعاملة.');\n            return;\n          }\n          const bankIndex = parseInt(bankChoice, 10);\n          if (!Number.isFinite(bankIndex) || bankIndex < 1 || bankIndex > list.length) {\n            alert('اختيار غير صالح للحساب البنكي؛ لم يتم تعديل المعاملة.');\n            return;\n          }\n          const chosen = list[bankIndex - 1];\n          selectedPaymentMethod = 'bank';\n          selectedBankAccountId = chosen.id;\n        } catch (e) {\n          console.error('load bank accounts for refund confirm error', e);\n          alert('تعذّر تحميل قائمة الحسابات البنكية؛ لم يتم اعتماد طلب الاسترداد.');\n          return;\n        }\n      } else {\n        alert('اختيار غير صحيح؛ لم يتم اعتماد طلب الاسترداد.');\n        return;\n      }\n    } else {\n      const ok = window.confirm('تأكيد استلام هذا المبلغ واعتماده في الخزنة والتقارير؟');\n      if (!ok) return;\n    }\n    try {\n      const payload = {\n        status: 'confirmed',\n        confirmed_at: new Date().toISOString()\n      };\n      // في حالة طلب استرداد، نحدث طريقة الدفع والحساب البنكي حسب اختيار المدير\n      if (isReservationRefund(row) && selectedPaymentMethod) {\n        payload.payment_method = selectedPaymentMethod;\n        payload.bank_account_id = selectedPaymentMethod === 'bank' ? selectedBankAccountId || null : null;\n      }\n      if (currentUser && currentUser.id) {\n        payload.confirmed_by = currentUser.id;\n      }\n      const {\n        error\n      } = await supabase.from('accounting_transactions').update(payload).eq('id', row.id);\n      if (error) throw error;\n      // تحديث الإحصاءات والجدول\n      try {\n        const evt = new Event('accounting-tx-updated');\n        window.dispatchEvent(evt);\n      } catch (_) {}\n      await load();\n    } catch (e) {\n      console.error('confirm transaction error', e);\n      alert('تعذّر تأكيد العملية: ' + (e.message || e));\n    }\n  };\n  const handleReject = async row => {\n    if (row.direction === 'expense' && !canConfirmExpense) {\n      alert('فقط المدير يمكنه رفض المصروفات.');\n      return;\n    }\n    if (row.direction === 'income' && !canConfirmIncome) {\n      alert('فقط المدير أو مساعد المدير يمكنه رفض هذه العملية.');\n      return;\n    }\n    const ok = window.confirm('رفض هذه العملية وعدم احتسابها في الخزنة أو التقارير؟');\n    if (!ok) return;\n    try {\n      const payload = {\n        status: 'rejected',\n        confirmed_at: new Date().toISOString()\n      };\n      if (currentUser && currentUser.id) {\n        payload.confirmed_by = currentUser.id;\n      }\n      const {\n        error\n      } = await supabase.from('accounting_transactions').update(payload).eq('id', row.id);\n      if (error) throw error;\n      try {\n        const evt = new Event('accounting-tx-updated');\n        window.dispatchEvent(evt);\n      } catch (_) {}\n      await load();\n    } catch (e) {\n      console.error('reject transaction error', e);\n      alert('تعذّر رفض العملية: ' + (e.message || e));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-lg border p-4\",\n    dir: \"rtl\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-wrap items-center gap-3 mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative flex-1 min-w-[220px]\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-4 h-4\",\n            viewBox: \"0 0 24 24\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            strokeWidth: \"2\",\n            children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n              cx: \"11\",\n              cy: \"11\",\n              r: \"7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 800,\n              columnNumber: 108\n            }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M21 21l-4.3-4.3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 800,\n              columnNumber: 139\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 800,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 799,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"border rounded pl-9 pr-3 py-2 w-full text-sm\",\n          placeholder: \"\\u0628\\u062D\\u062B \\u0641\\u064A \\u0627\\u0644\\u0648\\u0635\\u0641\",\n          value: search,\n          onChange: e => {\n            setSearch(e.target.value);\n            setPage(0);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 802,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 798,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        className: \"border rounded px-3 py-2 text-sm\",\n        value: direction,\n        onChange: e => {\n          setDirection(e.target.value);\n          setPage(0);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"\\u0643\\u0644 \\u0627\\u0644\\u0623\\u0646\\u0648\\u0627\\u0639\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 814,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"income\",\n          children: \"\\u0625\\u064A\\u0631\\u0627\\u062F\\u0627\\u062A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 815,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"expense\",\n          children: \"\\u0645\\u0635\\u0631\\u0648\\u0641\\u0627\\u062A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 816,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 809,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        className: \"border rounded px-3 py-2 text-sm\",\n        value: paymentMethod,\n        onChange: e => {\n          setPaymentMethod(e.target.value);\n          setPage(0);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"\\u0643\\u0644 \\u0637\\u0631\\u0642 \\u0627\\u0644\\u062F\\u0641\\u0639\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 823,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"cash\",\n          children: \"\\u0646\\u0642\\u062F\\u064A (\\u062E\\u0632\\u0646\\u0629)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 824,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"bank\",\n          children: \"\\u062D\\u0633\\u0627\\u0628 \\u0628\\u0646\\u0643\\u064A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 825,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"instapay\",\n          children: \"\\u0625\\u0646\\u0633\\u062A\\u0627\\u0628\\u0627\\u064A / \\u0628\\u0637\\u0627\\u0642\\u0629 \\u0628\\u0646\\u0643\\u064A\\u0629\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 826,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"other\",\n          children: \"\\u0645\\u062D\\u0641\\u0638\\u0629 \\u0625\\u0644\\u0643\\u062A\\u0631\\u0648\\u0646\\u064A\\u0629\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 827,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 818,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        className: \"border rounded px-3 py-2 text-sm\",\n        value: sourceFilter,\n        onChange: e => {\n          setSourceFilter(e.target.value);\n          setPage(0);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"\\u0643\\u0644 \\u0627\\u0644\\u0645\\u0635\\u0627\\u062F\\u0631\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 834,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"reservation\",\n          children: \"\\u062D\\u062C\\u0648\\u0632\\u0627\\u062A \\u0641\\u0642\\u0637\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 835,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"manual\",\n          children: \"\\u0639\\u0645\\u0644\\u064A\\u0627\\u062A \\u064A\\u062F\\u0648\\u064A\\u0629\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 836,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 829,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        className: \"border rounded px-3 py-2 text-sm\",\n        value: statusFilter,\n        onChange: e => {\n          setStatusFilter(e.target.value);\n          setPage(0);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"\\u0643\\u0644 \\u0627\\u0644\\u062D\\u0627\\u0644\\u0627\\u062A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 843,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"pending\",\n          children: \"\\u0645\\u0639\\u0644\\u0651\\u0642\\u0629\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 844,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"confirmed\",\n          children: \"\\u0645\\u0624\\u0643\\u0651\\u064E\\u062F\\u0629\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 845,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"rejected\",\n          children: \"\\u0645\\u0631\\u0641\\u0648\\u0636\\u0629\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 846,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 838,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        className: \"border rounded px-3 py-2 text-sm\",\n        value: fromDate,\n        onChange: e => {\n          setFromDate(e.target.value);\n          setPage(0);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 848,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        className: \"border rounded px-3 py-2 text-sm\",\n        value: toDate,\n        onChange: e => {\n          setToDate(e.target.value);\n          setPage(0);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 854,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => {\n          setRefundOnly(prev => !prev);\n          setPage(0);\n        },\n        className: `px-3 py-2 rounded text-xs border whitespace-nowrap ${refundOnly ? 'bg-sky-600 text-white border-sky-600' : 'bg-white text-sky-700 border-sky-300 hover:bg-sky-50'}`,\n        children: \"\\u0637\\u0644\\u0628\\u0627\\u062A \\u0627\\u0633\\u062A\\u0631\\u062F\\u0627\\u062F \\u0627\\u0644\\u062D\\u062C\\u0648\\u0632\\u0627\\u062A\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 860,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 797,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"py-12 text-center text-gray-500 text-sm\",\n      children: \"\\u062C\\u0627\\u0631\\u064A \\u062A\\u062D\\u0645\\u064A\\u0644 \\u0627\\u0644\\u0645\\u0639\\u0627\\u0645\\u0644\\u0627\\u062A \\u0627\\u0644\\u0645\\u0627\\u0644\\u064A\\u0629...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 873,\n      columnNumber: 9\n    }, this) : rows.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"py-12 text-center text-gray-400 text-sm\",\n      children: \"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u0645\\u0639\\u0627\\u0645\\u0644\\u0627\\u062A \\u0645\\u0637\\u0627\\u0628\\u0642\\u0629 \\u0644\\u0644\\u0628\\u062D\\u062B \\u0627\\u0644\\u062D\\u0627\\u0644\\u064A.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 875,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"overflow-x-auto border rounded bg-white\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"min-w-full text-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          className: \"bg-gray-50\",\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"text-right\",\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-3 py-2\",\n              children: \"\\u0627\\u0644\\u062A\\u0627\\u0631\\u064A\\u062E\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 881,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-3 py-2\",\n              children: \"\\u0627\\u0644\\u0646\\u0648\\u0639\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 882,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-3 py-2\",\n              children: \"\\u0627\\u0644\\u0641\\u0626\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 883,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-3 py-2\",\n              children: \"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 884,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-3 py-2\",\n              children: \"\\u0637\\u0631\\u064A\\u0642\\u0629 \\u0627\\u0644\\u062F\\u0641\\u0639\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 885,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-3 py-2\",\n              children: \"\\u0627\\u0644\\u062D\\u0627\\u0644\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 886,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-3 py-2\",\n              children: \"\\u0627\\u0644\\u062A\\u062A\\u0628\\u0651\\u0639\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 887,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-3 py-2\",\n              children: \"\\u0627\\u0644\\u0648\\u0635\\u0641\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 888,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-3 py-2\",\n              children: \"\\u0625\\u062C\\u0631\\u0627\\u0621\\u0627\\u062A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 889,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 880,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 879,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: rows.map(r => /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"border-t hover:bg-gray-50\",\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-3 py-2 text-xs text-gray-600 whitespace-nowrap\",\n              children: r.tx_date\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 895,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-3 py-2\",\n              children: directionBadge(r.direction)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 896,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-3 py-2 text-sm\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-col items-start gap-0.5\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: catName(r.category_id)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 899,\n                  columnNumber: 23\n                }, this), isReservationRefund(r) && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-medium bg-sky-50 text-sky-700 border border-sky-200\",\n                  children: \"\\u0627\\u0633\\u062A\\u0631\\u062F\\u0627\\u062F \\u062D\\u062C\\u0632\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 901,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 898,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 897,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: `px-3 py-2 text-sm font-semibold ${r.direction === 'income' ? 'text-emerald-700' : 'text-rose-700'}`,\n              children: Number(r.amount || 0)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 907,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-3 py-2 text-sm text-gray-700\",\n              children: paymentLabel(r.payment_method)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 910,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-3 py-2 text-sm\",\n              children: statusBadge(r.status)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 911,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-3 py-2 text-[11px] text-gray-600 whitespace-nowrap\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"\\u062A\\u062D\\u0635\\u064A\\u0644: \", staffName(r.created_by)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 913,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-[10px] text-gray-400\",\n                children: r.created_at ? new Date(r.created_at).toLocaleString('ar-EG') : ''\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 914,\n                columnNumber: 21\n              }, this), r.status === 'confirmed' && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [\"\\u062A\\u0623\\u0643\\u064A\\u062F: \", staffName(r.confirmed_by)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 919,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-[10px] text-gray-400\",\n                  children: r.confirmed_at ? new Date(r.confirmed_at).toLocaleString('ar-EG') : ''\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 920,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 918,\n                columnNumber: 23\n              }, this), r.status === 'rejected' && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [\"\\u0631\\u0641\\u0636: \", staffName(r.confirmed_by)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 927,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-[10px] text-gray-400\",\n                  children: r.confirmed_at ? new Date(r.confirmed_at).toLocaleString('ar-EG') : ''\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 928,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 926,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 912,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-3 py-2 text-sm max-w-xl whitespace-normal break-words\",\n              children: r.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 934,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-3 py-2 text-xs text-right\",\n              children: r.status === 'pending' && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-col gap-1 items-end\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"px-2 py-1 rounded border text-xs bg-emerald-50 text-emerald-700 border-emerald-300 disabled:opacity-50\",\n                  onClick: () => handleConfirm(r),\n                  disabled: r.direction === 'expense' ? !canConfirmExpense : !canConfirmIncome,\n                  children: r.direction === 'income' ? 'تأكيد الاستلام' : isReservationRefund(r) ? 'اعتماد طلب الاسترداد' : 'تأكيد المصروف'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 938,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"px-2 py-1 rounded border text-xs bg-rose-50 text-rose-700 border-rose-300 disabled:opacity-50\",\n                  onClick: () => handleReject(r),\n                  disabled: r.direction === 'expense' ? !canConfirmExpense : !canConfirmIncome,\n                  children: r.direction === 'income' ? 'رفض التحصيل' : isReservationRefund(r) ? 'رفض طلب الاسترداد' : 'رفض المصروف'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 948,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 937,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 935,\n              columnNumber: 19\n            }, this)]\n          }, r.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 894,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 892,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 878,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 877,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-gray-600\",\n        children: [\"\\u0627\\u0644\\u0646\\u062A\\u0627\\u0626\\u062C: \", rows.length, \" / \\u0627\\u0644\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A: \", totalCount]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 969,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"px-3 py-1 border rounded text-sm\",\n          onClick: () => setPage(p => Math.max(0, p - 1)),\n          disabled: page === 0,\n          children: \"\\u0627\\u0644\\u0633\\u0627\\u0628\\u0642\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 971,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm\",\n          children: [\"\\u0635\\u0641\\u062D\\u0629 \", page + 1]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 978,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"px-3 py-1 border rounded text-sm\",\n          onClick: () => setPage(p => p + 1),\n          disabled: (page + 1) * pageSize >= totalCount,\n          children: \"\\u0627\\u0644\\u062A\\u0627\\u0644\\u064A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 979,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"border rounded px-2 py-1 text-sm\",\n          value: pageSize,\n          onChange: e => {\n            setPageSize(Number(e.target.value));\n            setPage(0);\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: 20,\n            children: \"20\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 991,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: 50,\n            children: \"50\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 992,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 986,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 970,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 968,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 796,\n    columnNumber: 5\n  }, this);\n}\n_s2(AccountingTransactionsTab, \"TTaOGn+omT4YONhzqXIzZy+NLgQ=\");\n_c2 = AccountingTransactionsTab;\nfunction AccountingCategoriesTab() {\n  _s3();\n  const [categories, setCategories] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [name, setName] = useState('');\n  const [type, setType] = useState('income');\n  const [color, setColor] = useState('#16a34a');\n  const [saving, setSaving] = useState(false);\n  const load = async () => {\n    setLoading(true);\n    try {\n      const {\n        data,\n        error\n      } = await supabase.from('accounting_categories').select('id,type,name,color,active').order('type', {\n        ascending: true\n      }).order('name', {\n        ascending: true\n      });\n      if (error) throw error;\n      setCategories(data || []);\n    } catch (e) {\n      console.error('load accounting categories error', e);\n      setCategories([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    load();\n  }, []);\n  const handleAdd = async e => {\n    e.preventDefault();\n    const trimmed = (name || '').trim();\n    if (!trimmed) {\n      alert('يرجى إدخال اسم الفئة.');\n      return;\n    }\n    setSaving(true);\n    try {\n      const payload = {\n        name: trimmed,\n        type,\n        color: color || null,\n        active: true\n      };\n      const {\n        error\n      } = await supabase.from('accounting_categories').insert(payload);\n      if (error) throw error;\n      setName('');\n      await load();\n    } catch (e) {\n      console.error('add accounting category error', e);\n      alert('تعذّر إضافة الفئة.');\n    } finally {\n      setSaving(false);\n    }\n  };\n  const toggleActive = async cat => {\n    try {\n      const {\n        error\n      } = await supabase.from('accounting_categories').update({\n        active: !cat.active\n      }).eq('id', cat.id);\n      if (error) throw error;\n      await load();\n    } catch (e) {\n      console.error('toggle accounting category error', e);\n      alert('تعذّر تحديث حالة الفئة.');\n    }\n  };\n  const incomeCats = categories.filter(c => c.type === 'income');\n  const expenseCats = categories.filter(c => c.type === 'expense');\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-lg border p-4\",\n    dir: \"rtl\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-lg font-semibold text-gray-800 mb-1\",\n        children: \"\\u0634\\u062C\\u0631\\u0629 \\u0627\\u0644\\u062D\\u0633\\u0627\\u0628\\u0627\\u062A \\u0627\\u0644\\u0645\\u0628\\u0633\\u0651\\u0637\\u0629\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1077,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xs text-gray-500\",\n        children: \"\\u0625\\u062F\\u0627\\u0631\\u0629 \\u0641\\u0626\\u0627\\u062A \\u0627\\u0644\\u0625\\u064A\\u0631\\u0627\\u062F\\u0627\\u062A \\u0648\\u0627\\u0644\\u0645\\u0635\\u0631\\u0648\\u0641\\u0627\\u062A \\u0627\\u0644\\u062A\\u064A \\u062A\\u064F\\u0633\\u062A\\u062E\\u062F\\u0645 \\u0641\\u064A \\u0627\\u0644\\u0645\\u0639\\u0627\\u0645\\u0644\\u0627\\u062A \\u0648\\u0627\\u0644\\u062A\\u0642\\u0627\\u0631\\u064A\\u0631.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1078,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1076,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"grid grid-cols-1 md:grid-cols-4 gap-3 mb-5\",\n      onSubmit: handleAdd,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-xs mb-1\",\n          children: \"\\u0646\\u0648\\u0639 \\u0627\\u0644\\u0641\\u0626\\u0629\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1083,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"border rounded px-3 py-2 text-sm w-full\",\n          value: type,\n          onChange: e => setType(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"income\",\n            children: \"\\u0625\\u064A\\u0631\\u0627\\u062F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1089,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"expense\",\n            children: \"\\u0645\\u0635\\u0631\\u0648\\u0641\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1090,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1084,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1082,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-xs mb-1\",\n          children: \"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0641\\u0626\\u0629\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1094,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"border rounded px-3 py-2 text-sm w-full\",\n          value: name,\n          onChange: e => setName(e.target.value),\n          placeholder: \"\\u0645\\u062B\\u0627\\u0644: \\u0625\\u064A\\u062C\\u0627\\u0631 \\u0642\\u0627\\u0639\\u0629 / \\u0643\\u0647\\u0631\\u0628\\u0627\\u0621\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1095,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1093,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-xs mb-1\",\n          children: \"\\u0644\\u0648\\u0646 \\u062A\\u0648\\u0636\\u064A\\u062D\\u064A (\\u0627\\u062E\\u062A\\u064A\\u0627\\u0631\\u064A)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1103,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"color\",\n          className: \"border rounded px-2 py-2 text-sm w-full h-[38px]\",\n          value: color,\n          onChange: e => setColor(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1104,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-end\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"px-4 py-2 rounded bg-emerald-600 text-white text-sm w-full\",\n          disabled: saving,\n          children: saving ? 'جارٍ الإضافة...' : 'إضافة فئة'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1112,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1111,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1081,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"py-10 text-center text-gray-500 text-sm\",\n      children: \"\\u062C\\u0627\\u0631\\u064A \\u062A\\u062D\\u0645\\u064A\\u0644 \\u0627\\u0644\\u0641\\u0626\\u0627\\u062A...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1123,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-2\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-sm font-semibold text-emerald-800\",\n            children: \"\\u0641\\u0626\\u0627\\u062A \\u0627\\u0644\\u0625\\u064A\\u0631\\u0627\\u062F\\u0627\\u062A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1128,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1127,\n          columnNumber: 13\n        }, this), incomeCats.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-gray-400 py-3\",\n          children: \"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u0641\\u0626\\u0627\\u062A \\u0625\\u064A\\u0631\\u0627\\u062F \\u0628\\u0639\\u062F.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1131,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border rounded divide-y bg-white\",\n          children: incomeCats.map(c => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between px-3 py-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"w-3 h-3 rounded-full border\",\n                style: {\n                  backgroundColor: c.color || '#16a34a'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1137,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-gray-800\",\n                children: c.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1141,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1136,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => toggleActive(c),\n              className: `text-xs px-2 py-1 rounded border ${c.active ? 'border-emerald-400 text-emerald-700 bg-emerald-50' : 'border-gray-300 text-gray-500 bg-gray-50'}`,\n              children: c.active ? 'مفعّل' : 'موقوف'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1143,\n              columnNumber: 21\n            }, this)]\n          }, c.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1135,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1133,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1126,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-2\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-sm font-semibold text-rose-800\",\n            children: \"\\u0641\\u0626\\u0627\\u062A \\u0627\\u0644\\u0645\\u0635\\u0631\\u0648\\u0641\\u0627\\u062A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1158,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1157,\n          columnNumber: 13\n        }, this), expenseCats.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-gray-400 py-3\",\n          children: \"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u0641\\u0626\\u0627\\u062A \\u0645\\u0635\\u0631\\u0648\\u0641 \\u0628\\u0639\\u062F.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1161,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border rounded divide-y bg-white\",\n          children: expenseCats.map(c => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between px-3 py-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"w-3 h-3 rounded-full border\",\n                style: {\n                  backgroundColor: c.color || '#ef4444'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1167,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-gray-800\",\n                children: c.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1171,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1166,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => toggleActive(c),\n              className: `text-xs px-2 py-1 rounded border ${c.active ? 'border-emerald-400 text-emerald-700 bg-emerald-50' : 'border-gray-300 text-gray-500 bg-gray-50'}`,\n              children: c.active ? 'مفعّل' : 'موقوف'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1173,\n              columnNumber: 21\n            }, this)]\n          }, c.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1165,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1163,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1156,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1125,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1075,\n    columnNumber: 5\n  }, this);\n}\n_s3(AccountingCategoriesTab, \"WLrZNhY3WnXOanfM2dWAfyYr5fo=\");\n_c3 = AccountingCategoriesTab;\nfunction AccountingReportsTab() {\n  _s4();\n  const [fromDate, setFromDate] = useState('');\n  const [toDate, setToDate] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [summary, setSummary] = useState({\n    income: 0,\n    expense: 0,\n    net: 0\n  });\n  const [byCategory, setByCategory] = useState([]);\n  const [byPayment, setByPayment] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [activeReport, setActiveReport] = useState('overview'); // overview | income-expense | wallets | refunds\n  const [walletSummary, setWalletSummary] = useState({\n    totalIn: 0,\n    totalOut: 0,\n    net: 0,\n    confirmedCount: 0,\n    pendingCount: 0,\n    transferCount: 0\n  });\n  const [walletRows, setWalletRows] = useState([]);\n  const [walletMethodFilter, setWalletMethodFilter] = useState('');\n  const [walletStatusFilter, setWalletStatusFilter] = useState('');\n  const [refundSummary, setRefundSummary] = useState({\n    confirmedTotal: 0,\n    pendingTotal: 0,\n    confirmedCount: 0,\n    pendingCount: 0\n  });\n  const [refundRows, setRefundRows] = useState([]);\n  useEffect(() => {\n    const today = new Date();\n    const yyyyMmDd = today.toISOString().slice(0, 10);\n    const monthStart = new Date(today.getFullYear(), today.getMonth(), 1).toISOString().slice(0, 10);\n    setFromDate(monthStart);\n    setToDate(yyyyMmDd);\n  }, []);\n  useEffect(() => {\n    const loadCats = async () => {\n      try {\n        const {\n          data\n        } = await supabase.from('accounting_categories').select('id,name,type').order('type', {\n          ascending: true\n        }).order('name', {\n          ascending: true\n        });\n        setCategories(data || []);\n      } catch (e) {\n        console.error('load categories for reports error', e);\n      }\n    };\n    loadCats();\n  }, []);\n  const load = async () => {\n    if (!fromDate || !toDate) return;\n    setLoading(true);\n    try {\n      const {\n        data,\n        error\n      } = await supabase.from('accounting_transactions').select('direction,amount,payment_method,category_id,tx_date,status,source_type').eq('status', 'confirmed').neq('source_type', 'transfer').gte('tx_date', fromDate).lte('tx_date', toDate);\n      if (error) throw error;\n      let income = 0;\n      let expense = 0;\n      const catAgg = new Map();\n      const payAgg = new Map();\n      (data || []).forEach(row => {\n        const amt = Number(row.amount || 0);\n        if (!amt) return;\n        const isIncome = row.direction === 'income';\n        if (isIncome) income += amt;else expense += amt;\n        const catKey = row.category_id || 'none';\n        if (!catAgg.has(catKey)) {\n          catAgg.set(catKey, {\n            category_id: row.category_id,\n            income: 0,\n            expense: 0\n          });\n        }\n        const catRow = catAgg.get(catKey);\n        if (isIncome) catRow.income += amt;else catRow.expense += amt;\n        const payKey = row.payment_method || 'other';\n        if (!payAgg.has(payKey)) {\n          payAgg.set(payKey, {\n            payment_method: payKey,\n            income: 0,\n            expense: 0\n          });\n        }\n        const payRow = payAgg.get(payKey);\n        if (isIncome) payRow.income += amt;else payRow.expense += amt;\n      });\n      setSummary({\n        income,\n        expense,\n        net: income - expense\n      });\n      setByCategory(Array.from(catAgg.values()));\n      setByPayment(Array.from(payAgg.values()));\n    } catch (e) {\n      console.error('load accounting reports error', e);\n      setSummary({\n        income: 0,\n        expense: 0,\n        net: 0\n      });\n      setByCategory([]);\n      setByPayment([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const loadWalletReport = async () => {\n    if (!fromDate || !toDate) return;\n    setLoading(true);\n    try {\n      let q = supabase.from('accounting_transactions').select('id,tx_date,direction,amount,payment_method,status,source_type,description,created_at').gte('tx_date', fromDate).lte('tx_date', toDate).in('payment_method', ['cash', 'instapay', 'other']).order('tx_date', {\n        ascending: false\n      }).order('created_at', {\n        ascending: false\n      });\n      if (walletMethodFilter) q = q.eq('payment_method', walletMethodFilter);\n      if (walletStatusFilter) q = q.eq('status', walletStatusFilter);\n      const {\n        data,\n        error\n      } = await q;\n      if (error) throw error;\n      let totalIn = 0;\n      let totalOut = 0;\n      let confirmedCount = 0;\n      let pendingCount = 0;\n      let transferCount = 0;\n      (data || []).forEach(row => {\n        const amt = Number(row.amount || 0);\n        if (!amt) return;\n        const signed = row.direction === 'income' ? amt : -amt;\n        if (signed >= 0) totalIn += signed;else totalOut += -signed;\n        if (row.status === 'confirmed') confirmedCount += 1;else if (row.status === 'pending') pendingCount += 1;\n        if (row.source_type === 'transfer') transferCount += 1;\n      });\n      setWalletSummary({\n        totalIn,\n        totalOut,\n        net: totalIn - totalOut,\n        confirmedCount,\n        pendingCount,\n        transferCount\n      });\n      setWalletRows(data || []);\n    } catch (e) {\n      console.error('load wallet movements report error', e);\n      setWalletSummary({\n        totalIn: 0,\n        totalOut: 0,\n        net: 0,\n        confirmedCount: 0,\n        pendingCount: 0,\n        transferCount: 0\n      });\n      setWalletRows([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const loadRefundReport = async () => {\n    if (!fromDate || !toDate) return;\n    setLoading(true);\n    try {\n      const {\n        data,\n        error\n      } = await supabase.from('accounting_transactions').select('id,tx_date,amount,payment_method,status,source_type,direction,category_id,reservation_id,description').eq('direction', 'expense').eq('source_type', 'reservation').gte('tx_date', fromDate).lte('tx_date', toDate).order('tx_date', {\n        ascending: false\n      }).order('created_at', {\n        ascending: false\n      });\n      if (error) throw error;\n      let confirmedTotal = 0;\n      let pendingTotal = 0;\n      let confirmedCount = 0;\n      let pendingCount = 0;\n      (data || []).forEach(row => {\n        const amt = Number(row.amount || 0) || 0;\n        if (!amt) return;\n        if (row.status === 'confirmed') {\n          confirmedTotal += amt;\n          confirmedCount += 1;\n        } else if (row.status === 'pending') {\n          pendingTotal += amt;\n          pendingCount += 1;\n        }\n      });\n      setRefundSummary({\n        confirmedTotal,\n        pendingTotal,\n        confirmedCount,\n        pendingCount\n      });\n      setRefundRows(data || []);\n    } catch (e) {\n      console.error('load refund report error', e);\n      setRefundSummary({\n        confirmedTotal: 0,\n        pendingTotal: 0,\n        confirmedCount: 0,\n        pendingCount: 0\n      });\n      setRefundRows([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    if (fromDate && toDate) {\n      if (activeReport === 'income-expense') {\n        load();\n      } else if (activeReport === 'wallets') {\n        loadWalletReport();\n      } else if (activeReport === 'refunds') {\n        loadRefundReport();\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [fromDate, toDate, activeReport, walletMethodFilter, walletStatusFilter]);\n  const catName = id => {\n    if (!id) return 'بدون فئة محددة';\n    const c = categories.find(x => x.id === id);\n    return c ? c.name : 'فئة غير معروفة';\n  };\n  const paymentLabel = m => {\n    if (m === 'cash') return 'نقدي (خزنة)';\n    if (m === 'bank') return 'حساب بنكي';\n    if (m === 'instapay') return 'إنستاباي / بطاقة بنكية';\n    return 'محفظة إلكترونية';\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-lg border p-4\",\n    dir: \"rtl\",\n    children: activeReport === 'overview' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4 flex flex-col gap-2\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between flex-wrap gap-2\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-lg font-semibold text-gray-800 mb-1\",\n              children: \"\\u0645\\u0631\\u0643\\u0632 \\u0627\\u0644\\u062A\\u0642\\u0627\\u0631\\u064A\\u0631 \\u0627\\u0644\\u0645\\u062D\\u0627\\u0633\\u0628\\u064A\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1424,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500\",\n              children: \"\\u0627\\u062E\\u062A\\u0631 \\u0646\\u0648\\u0639 \\u0627\\u0644\\u062A\\u0642\\u0631\\u064A\\u0631 \\u0627\\u0644\\u0630\\u064A \\u062A\\u0631\\u064A\\u062F \\u0639\\u0631\\u0636\\u0647 \\u0645\\u0646 \\u0627\\u0644\\u0642\\u0627\\u0626\\u0645\\u0629 \\u0627\\u0644\\u062A\\u0627\\u0644\\u064A\\u0629.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1425,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1423,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1422,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1421,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border rounded-lg bg-gray-50 p-4 flex flex-col gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-1\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm font-semibold text-gray-800\",\n              children: \"\\u0627\\u0644\\u062A\\u0642\\u0627\\u0631\\u064A\\u0631 \\u0627\\u0644\\u0645\\u0627\\u0644\\u064A\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1433,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1432,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"w-full flex items-center justify-between px-3 py-2 rounded border bg-white text-sm hover:bg-emerald-50 hover:border-emerald-300 transition\",\n            onClick: () => setActiveReport('income-expense'),\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u062A\\u0642\\u0631\\u064A\\u0631 \\u0627\\u0644\\u0623\\u0631\\u0628\\u0627\\u062D \\u0648\\u0627\\u0644\\u062E\\u0633\\u0627\\u0626\\u0631 \\u0644\\u0644\\u0641\\u062A\\u0631\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1440,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs text-gray-400\",\n              children: \"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0625\\u064A\\u0631\\u0627\\u062F\\u0627\\u062A \\u0648\\u0627\\u0644\\u0645\\u0635\\u0631\\u0648\\u0641\\u0627\\u062A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1441,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1435,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1431,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border rounded-lg bg-gray-50 p-4 flex flex-col gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-1\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm font-semibold text-gray-800\",\n              children: \"\\u062A\\u0642\\u0627\\u0631\\u064A\\u0631 \\u062A\\u0634\\u063A\\u064A\\u0644\\u064A\\u0629 (\\u0645\\u062D\\u0627\\u0633\\u0628\\u0629)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1447,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1446,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"w-full flex items-center justify-between px-3 py-2 rounded border bg-white text-sm hover:bg-sky-50 hover:border-sky-300 transition\",\n            onClick: () => setActiveReport('wallets'),\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u062A\\u0642\\u0631\\u064A\\u0631 \\u062D\\u0631\\u0643\\u0629 \\u0627\\u0644\\u062E\\u0632\\u0646\\u0629 \\u0648\\u0627\\u0644\\u0645\\u062D\\u0627\\u0641\\u0638\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1454,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs text-gray-400\",\n              children: \"\\u062A\\u062D\\u0644\\u064A\\u0644 \\u0627\\u0644\\u062A\\u062D\\u0635\\u064A\\u0644 \\u0648\\u0627\\u0644\\u0635\\u0631\\u0641 \\u0648\\u0627\\u0644\\u062A\\u062D\\u0648\\u064A\\u0644\\u0627\\u062A \\u062D\\u0633\\u0628 \\u0627\\u0644\\u0645\\u062D\\u0641\\u0638\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1455,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1449,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"w-full flex items-center justify-between px-3 py-2 rounded border bg-white text-sm hover:bg-rose-50 hover:border-rose-300 transition\",\n            onClick: () => setActiveReport('refunds'),\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u062A\\u0642\\u0631\\u064A\\u0631 \\u0627\\u0633\\u062A\\u0631\\u062F\\u0627\\u062F \\u0627\\u0644\\u062D\\u062C\\u0648\\u0632\\u0627\\u062A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1462,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs text-gray-400\",\n              children: \"\\u0645\\u0644\\u062E\\u0635 \\u0628\\u0645\\u0628\\u0627\\u0644\\u063A \\u0648\\u0639\\u062F\\u062F \\u0639\\u0645\\u0644\\u064A\\u0627\\u062A \\u0627\\u0633\\u062A\\u0631\\u062F\\u0627\\u062F \\u0627\\u0644\\u062D\\u062C\\u0648\\u0632\\u0627\\u062A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1463,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1457,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1445,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1430,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : activeReport === 'income-expense' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap items-center justify-between gap-3 mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg font-semibold text-gray-800 mb-1\",\n            children: \"\\u062A\\u0642\\u0631\\u064A\\u0631 \\u0627\\u0644\\u0623\\u0631\\u0628\\u0627\\u062D \\u0648\\u0627\\u0644\\u062E\\u0633\\u0627\\u0626\\u0631 \\u0644\\u0644\\u0641\\u062A\\u0631\\u0629\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1472,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500\",\n            children: \"\\u0645\\u0644\\u062E\\u0635 \\u0627\\u0644\\u0625\\u064A\\u0631\\u0627\\u062F\\u0627\\u062A \\u0648\\u0627\\u0644\\u0645\\u0635\\u0631\\u0648\\u0641\\u0627\\u062A \\u0644\\u0644\\u0641\\u062A\\u0631\\u0629 \\u0627\\u0644\\u0645\\u062E\\u062A\\u0627\\u0631\\u0629\\u060C \\u0645\\u0639 \\u062A\\u0642\\u0633\\u064A\\u0645 \\u062D\\u0633\\u0628 \\u0627\\u0644\\u0641\\u0626\\u0629 \\u0648\\u0637\\u0631\\u064A\\u0642\\u0629 \\u0627\\u0644\\u062F\\u0641\\u0639.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1473,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1471,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap items-center gap-2 text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs text-gray-500\",\n              children: \"\\u0645\\u0646\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1477,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              className: \"border rounded px-3 py-1.5 text-sm\",\n              value: fromDate,\n              onChange: e => setFromDate(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1478,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1476,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs text-gray-500\",\n              children: \"\\u0625\\u0644\\u0649\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1486,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              className: \"border rounded px-3 py-1.5 text-sm\",\n              value: toDate,\n              onChange: e => setToDate(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1487,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1485,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"px-3 py-1.5 rounded border text-xs bg-white hover:bg-gray-50\",\n            onClick: () => setActiveReport('overview'),\n            children: \"\\u0627\\u0644\\u0631\\u062C\\u0648\\u0639 \\u0644\\u0642\\u0627\\u0626\\u0645\\u0629 \\u0627\\u0644\\u062A\\u0642\\u0627\\u0631\\u064A\\u0631\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1494,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1475,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1470,\n        columnNumber: 11\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"py-10 text-center text-gray-500 text-sm\",\n        children: \"\\u062C\\u0627\\u0631\\u064A \\u062A\\u062D\\u0645\\u064A\\u0644 \\u0627\\u0644\\u062A\\u0642\\u0631\\u064A\\u0631...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1505,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-emerald-50 border border-emerald-100 rounded-lg p-4 text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-emerald-700 mb-1\",\n              children: \"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0625\\u064A\\u0631\\u0627\\u062F\\u0627\\u062A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1510,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xl font-bold text-emerald-900\",\n              children: [summary.income, \" \\u062C\\u0646\\u064A\\u0647\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1511,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1509,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-rose-50 border border-rose-100 rounded-lg p-4 text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-rose-700 mb-1\",\n              children: \"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0645\\u0635\\u0631\\u0648\\u0641\\u0627\\u062A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1514,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xl font-bold text-rose-900\",\n              children: [summary.expense, \" \\u062C\\u0646\\u064A\\u0647\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1515,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1513,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-indigo-50 border border-indigo-100 rounded-lg p-4 text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-indigo-700 mb-1\",\n              children: \"\\u0635\\u0627\\u0641\\u064A \\u0627\\u0644\\u0631\\u0628\\u062D / \\u0627\\u0644\\u062E\\u0633\\u0627\\u0631\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1518,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `text-xl font-bold ${summary.net >= 0 ? 'text-indigo-900' : 'text-rose-900'}`,\n              children: [summary.net, \" \\u062C\\u0646\\u064A\\u0647\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1519,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1517,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1508,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 lg:grid-cols-2 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border rounded-lg overflow-hidden\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"px-3 py-2 bg-gray-50 border-b text-sm font-semibold text-gray-700\",\n              children: \"\\u062D\\u0633\\u0628 \\u0627\\u0644\\u0641\\u0626\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1525,\n              columnNumber: 19\n            }, this), byCategory.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"py-6 text-center text-xs text-gray-400\",\n              children: \"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u0645\\u0639\\u0627\\u0645\\u0644\\u0627\\u062A \\u0641\\u064A \\u0647\\u0630\\u0647 \\u0627\\u0644\\u0641\\u062A\\u0631\\u0629.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1527,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"min-w-full text-xs\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                className: \"bg-white\",\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: \"text-right text-gray-600\",\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-3 py-2\",\n                    children: \"\\u0627\\u0644\\u0641\\u0626\\u0629\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1532,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-3 py-2\",\n                    children: \"\\u0625\\u064A\\u0631\\u0627\\u062F\\u0627\\u062A\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1533,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-3 py-2\",\n                    children: \"\\u0645\\u0635\\u0631\\u0648\\u0641\\u0627\\u062A\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1534,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-3 py-2\",\n                    children: \"\\u0635\\u0627\\u0641\\u064A\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1535,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1531,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1530,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: byCategory.map(row => {\n                  const net = (row.income || 0) - (row.expense || 0);\n                  return /*#__PURE__*/_jsxDEV(\"tr\", {\n                    className: \"border-t hover:bg-gray-50\",\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-1.5 text-[11px] text-gray-800\",\n                      children: catName(row.category_id)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1543,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-1.5 text-[11px] text-emerald-700 font-semibold\",\n                      children: row.income || 0\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1544,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-1.5 text-[11px] text-rose-700 font-semibold\",\n                      children: row.expense || 0\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1545,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: `px-3 py-1.5 text-[11px] font-semibold ${net >= 0 ? 'text-indigo-800' : 'text-rose-800'}`,\n                      children: net\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1546,\n                      columnNumber: 31\n                    }, this)]\n                  }, row.category_id || 'none', true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1542,\n                    columnNumber: 29\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1538,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1529,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1524,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border rounded-lg overflow-hidden\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"px-3 py-2 bg-gray-50 border-b text-sm font-semibold text-gray-700\",\n              children: \"\\u062D\\u0633\\u0628 \\u0637\\u0631\\u064A\\u0642\\u0629 \\u0627\\u0644\\u062F\\u0641\\u0639\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1556,\n              columnNumber: 19\n            }, this), byPayment.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"py-6 text-center text-xs text-gray-400\",\n              children: \"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u0645\\u0639\\u0627\\u0645\\u0644\\u0627\\u062A \\u0641\\u064A \\u0647\\u0630\\u0647 \\u0627\\u0644\\u0641\\u062A\\u0631\\u0629.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1558,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"min-w-full text-xs\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                className: \"bg-white\",\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: \"text-right text-gray-600\",\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-3 py-2\",\n                    children: \"\\u0637\\u0631\\u064A\\u0642\\u0629 \\u0627\\u0644\\u062F\\u0641\\u0639\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1563,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-3 py-2\",\n                    children: \"\\u0625\\u064A\\u0631\\u0627\\u062F\\u0627\\u062A\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1564,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-3 py-2\",\n                    children: \"\\u0645\\u0635\\u0631\\u0648\\u0641\\u0627\\u062A\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1565,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-3 py-2\",\n                    children: \"\\u0635\\u0627\\u0641\\u064A\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1566,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1562,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1561,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: byPayment.map(row => {\n                  const net = (row.income || 0) - (row.expense || 0);\n                  return /*#__PURE__*/_jsxDEV(\"tr\", {\n                    className: \"border-t hover:bg-gray-50\",\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-1.5 text-[11px] text-gray-800\",\n                      children: paymentLabel(row.payment_method)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1574,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-1.5 text-[11px] text-emerald-700 font-semibold\",\n                      children: row.income || 0\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1575,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-3 py-1.5 text-[11px] text-rose-700 font-semibold\",\n                      children: row.expense || 0\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1576,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: `px-3 py-1.5 text-[11px] font-semibold ${net >= 0 ? 'text-indigo-800' : 'text-rose-800'}`,\n                      children: net\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1577,\n                      columnNumber: 31\n                    }, this)]\n                  }, row.payment_method, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1573,\n                    columnNumber: 29\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1569,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1560,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1555,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1523,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true) : activeReport === 'wallets' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap items-center justify-between gap-3 mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg font-semibold text-gray-800 mb-1\",\n            children: \"\\u062A\\u0642\\u0631\\u064A\\u0631 \\u062D\\u0631\\u0643\\u0629 \\u0627\\u0644\\u062E\\u0632\\u0646\\u0629 \\u0648\\u0627\\u0644\\u0645\\u062D\\u0627\\u0641\\u0638\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1593,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500\",\n            children: \"\\u062D\\u0631\\u0643\\u0629 \\u0627\\u0644\\u062A\\u062D\\u0635\\u064A\\u0644 \\u0648\\u0627\\u0644\\u0635\\u0631\\u0641 \\u0648\\u0627\\u0644\\u062A\\u062D\\u0648\\u064A\\u0644\\u0627\\u062A \\u0639\\u0644\\u0649 \\u0627\\u0644\\u0643\\u0627\\u0634 \\u0648 Instapay \\u0648\\u0627\\u0644\\u0643\\u0627\\u0634 \\u0627\\u0644\\u0625\\u0644\\u0643\\u062A\\u0631\\u0648\\u0646\\u064A \\u062E\\u0644\\u0627\\u0644 \\u0627\\u0644\\u0641\\u062A\\u0631\\u0629 \\u0627\\u0644\\u0645\\u062E\\u062A\\u0627\\u0631\\u0629.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1594,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1592,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap items-center gap-2 text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs text-gray-500\",\n              children: \"\\u0645\\u0646\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1598,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              className: \"border rounded px-3 py-1.5 text-sm\",\n              value: fromDate,\n              onChange: e => setFromDate(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1599,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1597,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs text-gray-500\",\n              children: \"\\u0625\\u0644\\u0649\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1607,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              className: \"border rounded px-3 py-1.5 text-sm\",\n              value: toDate,\n              onChange: e => setToDate(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1608,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1606,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            className: \"border rounded px-2 py-1.5 text-xs\",\n            value: walletMethodFilter,\n            onChange: e => setWalletMethodFilter(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"\\u0643\\u0644 \\u0627\\u0644\\u0645\\u062D\\u0627\\u0641\\u0638\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1620,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"cash\",\n              children: \"\\u0646\\u0642\\u062F\\u064A (\\u062E\\u0632\\u0646\\u0629)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1621,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"instapay\",\n              children: \"\\u0625\\u0646\\u0633\\u062A\\u0627\\u0628\\u0627\\u064A / \\u0628\\u0637\\u0627\\u0642\\u0629 \\u0628\\u0646\\u0643\\u064A\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1622,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"other\",\n              children: \"\\u0645\\u062D\\u0641\\u0638\\u0629 \\u0625\\u0644\\u0643\\u062A\\u0631\\u0648\\u0646\\u064A\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1623,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1615,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            className: \"border rounded px-2 py-1.5 text-xs\",\n            value: walletStatusFilter,\n            onChange: e => setWalletStatusFilter(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"\\u0643\\u0644 \\u0627\\u0644\\u062D\\u0627\\u0644\\u0627\\u062A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1630,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"pending\",\n              children: \"\\u0645\\u0639\\u0644\\u0651\\u0642\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1631,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"confirmed\",\n              children: \"\\u0645\\u0624\\u0643\\u062F\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1632,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"rejected\",\n              children: \"\\u0645\\u0631\\u0641\\u0648\\u0636\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1633,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1625,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"px-3 py-1.5 rounded border text-xs bg-white hover:bg-gray-50\",\n            onClick: () => setActiveReport('overview'),\n            children: \"\\u0627\\u0644\\u0631\\u062C\\u0648\\u0639 \\u0644\\u0642\\u0627\\u0626\\u0645\\u0629 \\u0627\\u0644\\u062A\\u0642\\u0627\\u0631\\u064A\\u0631\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1635,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1596,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1591,\n        columnNumber: 11\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"py-10 text-center text-gray-500 text-sm\",\n        children: \"\\u062C\\u0627\\u0631\\u064A \\u062A\\u062D\\u0645\\u064A\\u0644 \\u0627\\u0644\\u062A\\u0642\\u0631\\u064A\\u0631...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1646,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-emerald-50 border border-emerald-100 rounded-lg p-4 text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-emerald-700 mb-1\",\n              children: \"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0645\\u0628\\u0627\\u0644\\u063A \\u0627\\u0644\\u062F\\u0627\\u062E\\u0644\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1651,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xl font-bold text-emerald-900\",\n              children: [walletSummary.totalIn, \" \\u062C\\u0646\\u064A\\u0647\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1652,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1650,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-rose-50 border border-rose-100 rounded-lg p-4 text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-rose-700 mb-1\",\n              children: \"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0645\\u0628\\u0627\\u0644\\u063A \\u0627\\u0644\\u062E\\u0627\\u0631\\u062C\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1655,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xl font-bold text-rose-900\",\n              children: [walletSummary.totalOut, \" \\u062C\\u0646\\u064A\\u0647\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1656,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1654,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-indigo-50 border border-indigo-100 rounded-lg p-4 text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-indigo-700 mb-1\",\n              children: \"\\u0635\\u0627\\u0641\\u064A \\u0627\\u0644\\u062D\\u0631\\u0643\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1659,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `text-xl font-bold ${walletSummary.net >= 0 ? 'text-indigo-900' : 'text-rose-900'}`,\n              children: [walletSummary.net, \" \\u062C\\u0646\\u064A\\u0647\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1660,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1658,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-purple-50 border border-purple-100 rounded-lg p-4 text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-purple-700 mb-1\",\n              children: \"\\u0639\\u062F\\u062F \\u0627\\u0644\\u062A\\u062D\\u0648\\u064A\\u0644\\u0627\\u062A \\u0627\\u0644\\u062F\\u0627\\u062E\\u0644\\u064A\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1663,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xl font-bold text-purple-900\",\n              children: walletSummary.transferCount\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1664,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1662,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1649,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-sky-50 border border-sky-100 rounded-lg p-4 text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-sky-700 mb-1\",\n              children: \"\\u0639\\u062F\\u062F \\u0627\\u0644\\u0639\\u0645\\u0644\\u064A\\u0627\\u062A \\u0627\\u0644\\u0645\\u0624\\u0643\\u062F\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1670,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xl font-bold text-sky-900\",\n              children: walletSummary.confirmedCount\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1671,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1669,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-amber-50 border border-amber-100 rounded-lg p-4 text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-amber-700 mb-1\",\n              children: \"\\u0639\\u062F\\u062F \\u0627\\u0644\\u0639\\u0645\\u0644\\u064A\\u0627\\u062A \\u0627\\u0644\\u0645\\u0639\\u0644\\u0651\\u0642\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1674,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xl font-bold text-amber-900\",\n              children: walletSummary.pendingCount\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1675,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1673,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-50 border border-gray-200 rounded-lg p-4 text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-gray-700 mb-1\",\n              children: \"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0639\\u062F\\u062F \\u0627\\u0644\\u062D\\u0631\\u0643\\u0627\\u062A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1678,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xl font-bold text-gray-900\",\n              children: walletRows.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1679,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1677,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1668,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border rounded-lg overflow-hidden\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-3 py-2 bg-gray-50 border-b text-sm font-semibold text-gray-700 flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u062A\\u0641\\u0627\\u0635\\u064A\\u0644 \\u062D\\u0631\\u0643\\u0627\\u062A \\u0627\\u0644\\u062E\\u0632\\u0646\\u0629 \\u0648\\u0627\\u0644\\u0645\\u062D\\u0627\\u0641\\u0638\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1685,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-[11px] text-gray-400\",\n              children: [\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0633\\u062C\\u0644\\u0627\\u062A: \", walletRows.length]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1686,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1684,\n            columnNumber: 17\n          }, this), walletRows.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"py-6 text-center text-xs text-gray-400\",\n            children: \"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u062D\\u0631\\u0643\\u0627\\u062A \\u0645\\u0637\\u0627\\u0628\\u0642\\u0629 \\u0644\\u0644\\u0641\\u0644\\u0627\\u062A\\u0631 \\u0627\\u0644\\u062D\\u0627\\u0644\\u064A\\u0629.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1689,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"overflow-x-auto\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"min-w-full text-xs\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                className: \"bg-white\",\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: \"text-right text-gray-600\",\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-3 py-2\",\n                    children: \"\\u0627\\u0644\\u062A\\u0627\\u0631\\u064A\\u062E\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1695,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-3 py-2\",\n                    children: \"\\u0627\\u0644\\u0646\\u0648\\u0639\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1696,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-3 py-2\",\n                    children: \"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1697,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-3 py-2\",\n                    children: \"\\u0627\\u0644\\u0645\\u062D\\u0641\\u0638\\u0629\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1698,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-3 py-2\",\n                    children: \"\\u0627\\u0644\\u062D\\u0627\\u0644\\u0629\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1699,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-3 py-2\",\n                    children: \"\\u0627\\u0644\\u0645\\u0635\\u062F\\u0631\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1700,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-3 py-2\",\n                    children: \"\\u0627\\u0644\\u0648\\u0635\\u0641\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1701,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1694,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1693,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: walletRows.map(row => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: \"border-t hover:bg-gray-50\",\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-3 py-1.5 whitespace-nowrap text-[11px] text-gray-700\",\n                    children: row.tx_date\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1707,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: `px-3 py-1.5 text-[11px] font-semibold ${row.direction === 'income' ? 'text-emerald-700' : 'text-rose-700'}`,\n                    children: row.direction === 'income' ? 'دخول' : 'خروج'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1708,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-3 py-1.5 text-[11px] text-gray-800 font-semibold\",\n                    children: Number(row.amount || 0)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1711,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-3 py-1.5 text-[11px] text-gray-700\",\n                    children: paymentLabel(row.payment_method)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1712,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-3 py-1.5 text-[11px] text-gray-700\",\n                    children: row.status === 'confirmed' ? 'مؤكدة' : row.status === 'pending' ? 'معلّقة' : 'مرفوضة'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1713,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-3 py-1.5 text-[11px] text-gray-700\",\n                    children: row.source_type === 'transfer' ? 'تحويل داخلي' : row.source_type === 'reservation' ? 'من الحجوزات' : 'عملية يدوية'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1714,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-3 py-1.5 text-[11px] text-gray-700 max-w-xs whitespace-normal break-words\",\n                    children: row.description\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1717,\n                    columnNumber: 29\n                  }, this)]\n                }, row.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1706,\n                  columnNumber: 27\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1704,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1692,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1691,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1683,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap items-center justify-between gap-3 mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg font-semibold text-gray-800 mb-1\",\n            children: \"\\u062A\\u0642\\u0631\\u064A\\u0631 \\u0627\\u0633\\u062A\\u0631\\u062F\\u0627\\u062F \\u0627\\u0644\\u062D\\u062C\\u0648\\u0632\\u0627\\u062A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1732,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500\",\n            children: \"\\u0645\\u0644\\u062E\\u0635 \\u0627\\u0633\\u062A\\u0631\\u062F\\u0627\\u062F\\u0627\\u062A \\u0627\\u0644\\u062D\\u062C\\u0648\\u0632\\u0627\\u062A (\\u0645\\u0635\\u0631\\u0648\\u0641\\u0627\\u062A \\u0645\\u0631\\u062A\\u0628\\u0637\\u0629 \\u0628\\u0627\\u0644\\u062D\\u062C\\u0648\\u0632\\u0627\\u062A) \\u062E\\u0644\\u0627\\u0644 \\u0627\\u0644\\u0641\\u062A\\u0631\\u0629 \\u0627\\u0644\\u0645\\u062E\\u062A\\u0627\\u0631\\u0629.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1733,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1731,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap items-center gap-2 text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs text-gray-500\",\n              children: \"\\u0645\\u0646\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1737,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              className: \"border rounded px-3 py-1.5 text-sm\",\n              value: fromDate,\n              onChange: e => setFromDate(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1738,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1736,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs text-gray-500\",\n              children: \"\\u0625\\u0644\\u0649\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1746,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              className: \"border rounded px-3 py-1.5 text-sm\",\n              value: toDate,\n              onChange: e => setToDate(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1747,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1745,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"px-3 py-1.5 rounded border text-xs bg-white hover:bg-gray-50\",\n            onClick: () => setActiveReport('overview'),\n            children: \"\\u0627\\u0644\\u0631\\u062C\\u0648\\u0639 \\u0644\\u0642\\u0627\\u0626\\u0645\\u0629 \\u0627\\u0644\\u062A\\u0642\\u0627\\u0631\\u064A\\u0631\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1754,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1735,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1730,\n        columnNumber: 11\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"py-10 text-center text-gray-500 text-sm\",\n        children: \"\\u062C\\u0627\\u0631\\u064A \\u062A\\u062D\\u0645\\u064A\\u0644 \\u0627\\u0644\\u062A\\u0642\\u0631\\u064A\\u0631...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1765,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-rose-50 border border-rose-100 rounded-lg p-4 text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-rose-700 mb-1\",\n              children: \"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0633\\u062A\\u0631\\u062F\\u0627\\u062F\\u0627\\u062A \\u0645\\u0624\\u0643\\u062F\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1770,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xl font-bold text-rose-900\",\n              children: [refundSummary.confirmedTotal, \" \\u062C\\u0646\\u064A\\u0647\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1771,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1769,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-amber-50 border border-amber-100 rounded-lg p-4 text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-amber-700 mb-1\",\n              children: \"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0633\\u062A\\u0631\\u062F\\u0627\\u062F\\u0627\\u062A \\u0645\\u0639\\u0644\\u0651\\u0642\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1774,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xl font-bold text-amber-900\",\n              children: [refundSummary.pendingTotal, \" \\u062C\\u0646\\u064A\\u0647\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1775,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1773,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-rose-50 border border-rose-100 rounded-lg p-4 text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-rose-700 mb-1\",\n              children: \"\\u0639\\u062F\\u062F \\u0627\\u0644\\u0639\\u0645\\u0644\\u064A\\u0627\\u062A \\u0627\\u0644\\u0645\\u0624\\u0643\\u062F\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1778,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xl font-bold text-rose-900\",\n              children: refundSummary.confirmedCount\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1779,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1777,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-amber-50 border border-amber-100 rounded-lg p-4 text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-amber-700 mb-1\",\n              children: \"\\u0639\\u062F\\u062F \\u0627\\u0644\\u0639\\u0645\\u0644\\u064A\\u0627\\u062A \\u0627\\u0644\\u0645\\u0639\\u0644\\u0651\\u0642\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1782,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xl font-bold text-amber-900\",\n              children: refundSummary.pendingCount\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1783,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1781,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1768,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border rounded-lg overflow-hidden\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-3 py-2 bg-gray-50 border-b text-sm font-semibold text-gray-700 flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u062A\\u0641\\u0627\\u0635\\u064A\\u0644 \\u0639\\u0645\\u0644\\u064A\\u0627\\u062A \\u0627\\u0633\\u062A\\u0631\\u062F\\u0627\\u062F \\u0627\\u0644\\u062D\\u062C\\u0648\\u0632\\u0627\\u062A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1789,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-[11px] text-gray-400\",\n              children: [\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0633\\u062C\\u0644\\u0627\\u062A: \", refundRows.length]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1790,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1788,\n            columnNumber: 17\n          }, this), refundRows.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"py-6 text-center text-xs text-gray-400\",\n            children: \"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u0639\\u0645\\u0644\\u064A\\u0627\\u062A \\u0627\\u0633\\u062A\\u0631\\u062F\\u0627\\u062F \\u0645\\u0637\\u0627\\u0628\\u0642\\u0629 \\u0644\\u0644\\u0641\\u062A\\u0631\\u0629 \\u0627\\u0644\\u0645\\u062E\\u062A\\u0627\\u0631\\u0629.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1793,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"overflow-x-auto\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"min-w-full text-xs\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                className: \"bg-white\",\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: \"text-right text-gray-600\",\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-3 py-2\",\n                    children: \"\\u0627\\u0644\\u062A\\u0627\\u0631\\u064A\\u062E\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1799,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-3 py-2\",\n                    children: \"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1800,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-3 py-2\",\n                    children: \"\\u0637\\u0631\\u064A\\u0642\\u0629 \\u0627\\u0644\\u062F\\u0641\\u0639 / \\u0627\\u0644\\u0645\\u062D\\u0641\\u0638\\u0629\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1801,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-3 py-2\",\n                    children: \"\\u0627\\u0644\\u062D\\u0627\\u0644\\u0629\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1802,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-3 py-2\",\n                    children: \"\\u0627\\u0644\\u0648\\u0635\\u0641\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1803,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1798,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1797,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: refundRows.map(row => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: \"border-t hover:bg-gray-50\",\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-3 py-1.5 whitespace-nowrap text-[11px] text-gray-700\",\n                    children: row.tx_date\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1809,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-3 py-1.5 text-[11px] text-rose-700 font-semibold\",\n                    children: Number(row.amount || 0)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1810,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-3 py-1.5 text-[11px] text-gray-700\",\n                    children: paymentLabel(row.payment_method)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1811,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-3 py-1.5 text-[11px] text-gray-700\",\n                    children: row.status === 'confirmed' ? 'مؤكدة' : row.status === 'pending' ? 'معلّقة' : 'مرفوضة'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1812,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-3 py-1.5 text-[11px] text-gray-700 max-w-xs whitespace-normal break-words\",\n                    children: row.description\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1813,\n                    columnNumber: 29\n                  }, this)]\n                }, row.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1808,\n                  columnNumber: 27\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1806,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1796,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1795,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1787,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1418,\n    columnNumber: 5\n  }, this);\n}\n_s4(AccountingReportsTab, \"6VrSzGIc++xb2/AVscnivbUX0E8=\");\n_c4 = AccountingReportsTab;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"Accounting\");\n$RefreshReg$(_c2, \"AccountingTransactionsTab\");\n$RefreshReg$(_c3, \"AccountingCategoriesTab\");\n$RefreshReg$(_c4, \"AccountingReportsTab\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","useContext","supabase","AuthContext","isManager","isAssistantManager","CashboxModal","AccountingIncomeModal","AccountingExpenseModal","BankAccountsModal","jsxDEV","_jsxDEV","Fragment","_Fragment","Accounting","_s","activeTab","setActiveTab","loading","setLoading","stats","setStats","todayIncome","todayExpense","todayNet","monthIncome","monthExpense","monthNet","receptionPending","wallets","setWallets","cashConfirmed","cashPending","instapayConfirmed","instapayPending","eCashConfirmed","eCashPending","showCashbox","setShowCashbox","showIncome","setShowIncome","showExpense","setShowExpense","showBanks","setShowBanks","currentUser","isMgr","isAsst","canViewAdvanced","canAddExpense","role","todayLabel","Date","toLocaleDateString","weekday","day","month","year","_","loadStats","today","yyyyMmDd","toISOString","slice","monthStart","getFullYear","getMonth","data","tx","from","select","eq","neq","gte","lte","forEach","row","amt","Number","amount","isIncome","direction","tx_date","pendingTx","in","walletConfirmedTx","signed","payment_method","e","console","error","refreshAfterTx","evt","Event","window","dispatchEvent","handler","addEventListener","removeEventListener","renderDashboardTab","children","className","fileName","_jsxFileName","lineNumber","columnNumber","type","onClick","renderTransactionsTab","AccountingTransactionsTab","renderAccountsTreeTab","AccountingCategoriesTab","renderReportsTab","AccountingReportsTab","renderActiveTab","dir","title","onClose","onDone","_c","_s2","rows","setRows","search","setSearch","debounced","setDebounced","setDirection","paymentMethod","setPaymentMethod","fromDate","setFromDate","toDate","setToDate","page","setPage","pageSize","setPageSize","totalCount","setTotalCount","categories","setCategories","statusFilter","setStatusFilter","staffUsers","setStaffUsers","sourceFilter","setSourceFilter","refundOnly","setRefundOnly","canConfirmIncome","canConfirmExpense","t","setTimeout","clearTimeout","loadCats","order","ascending","loadStaff","buildQuery","useCallback","q","count","term","trim","ilike","to","range","load","catName","id","c","find","x","name","directionBadge","d","common","paymentLabel","m","staffName","u","full_name","username","statusBadge","s","isReservationRefund","source_type","handleConfirm","alert","selectedPaymentMethod","selectedBankAccountId","choice","prompt","trimmed","String","banks","bankError","list","length","optionsText","map","b","idx","bank_name","account_name","join","bankChoice","bankIndex","parseInt","isFinite","chosen","ok","confirm","payload","status","confirmed_at","bank_account_id","confirmed_by","update","message","handleReject","viewBox","fill","stroke","strokeWidth","cx","cy","r","placeholder","value","onChange","target","prev","category_id","created_by","created_at","toLocaleString","description","disabled","p","Math","max","_c2","_s3","setName","setType","color","setColor","saving","setSaving","handleAdd","preventDefault","active","insert","toggleActive","cat","incomeCats","filter","expenseCats","onSubmit","style","backgroundColor","_c3","_s4","summary","setSummary","income","expense","net","byCategory","setByCategory","byPayment","setByPayment","activeReport","setActiveReport","walletSummary","setWalletSummary","totalIn","totalOut","confirmedCount","pendingCount","transferCount","walletRows","setWalletRows","walletMethodFilter","setWalletMethodFilter","walletStatusFilter","setWalletStatusFilter","refundSummary","setRefundSummary","confirmedTotal","pendingTotal","refundRows","setRefundRows","catAgg","Map","payAgg","catKey","has","set","catRow","get","payKey","payRow","Array","values","loadWalletReport","loadRefundReport","_c4","$RefreshReg$"],"sources":["F:/kelany/src/pages/Accounting.jsx"],"sourcesContent":["import React, { useEffect, useMemo, useState, useContext } from 'react';\r\nimport { supabase } from '../supabaseClient';\r\nimport { AuthContext } from '../App.jsx';\r\nimport { isManager, isAssistantManager } from '../utils/permissions.js';\r\nimport CashboxModal from '../components/CashboxModal.jsx';\r\nimport AccountingIncomeModal from '../components/AccountingIncomeModal.jsx';\r\nimport AccountingExpenseModal from '../components/AccountingExpenseModal.jsx';\r\nimport BankAccountsModal from '../components/BankAccountsModal.jsx';\r\n\r\nexport default function Accounting() {\r\n  const [activeTab, setActiveTab] = useState('dashboard');\r\n  const [loading, setLoading] = useState(true);\r\n  const [stats, setStats] = useState({\r\n    todayIncome: 0,\r\n    todayExpense: 0,\r\n    todayNet: 0,\r\n    monthIncome: 0,\r\n    monthExpense: 0,\r\n    monthNet: 0,\r\n    receptionPending: 0,\r\n  });\r\n  const [wallets, setWallets] = useState({\r\n    cashConfirmed: 0,\r\n    cashPending: 0,\r\n    instapayConfirmed: 0,\r\n    instapayPending: 0,\r\n    eCashConfirmed: 0,\r\n    eCashPending: 0,\r\n  });\r\n\r\n  const [showCashbox, setShowCashbox] = useState(false);\r\n  const [showIncome, setShowIncome] = useState(false);\r\n  const [showExpense, setShowExpense] = useState(false);\r\n  const [showBanks, setShowBanks] = useState(false);\r\n\r\n  const currentUser = useContext(AuthContext);\r\n  const isMgr = isManager(currentUser);\r\n  const isAsst = isAssistantManager(currentUser);\r\n  const canViewAdvanced = isMgr || isAsst; // معاملات/شجرة حسابات/تقارير + خزنة/بنوك/إيرادات\r\n  const canAddExpense = isMgr || isAsst || (currentUser?.role === 'reception');\r\n\r\n  const todayLabel = useMemo(() => {\r\n    try {\r\n      return new Date().toLocaleDateString('ar-EG', {\r\n        weekday: 'long',\r\n        day: 'numeric',\r\n        month: 'long',\r\n        year: 'numeric',\r\n      });\r\n    } catch (_) {\r\n      return '';\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    async function loadStats() {\r\n      setLoading(true);\r\n      try {\r\n        const today = new Date();\r\n        const yyyyMmDd = today.toISOString().slice(0, 10);\r\n        const monthStart = new Date(today.getFullYear(), today.getMonth(), 1).toISOString().slice(0, 10);\r\n\r\n        const { data: tx } = await supabase\r\n          .from('accounting_transactions')\r\n          .select('tx_date,direction,amount')\r\n          .eq('status', 'confirmed')\r\n          .neq('source_type', 'transfer')\r\n          .gte('tx_date', monthStart)\r\n          .lte('tx_date', yyyyMmDd);\r\n\r\n        let todayIncome = 0;\r\n        let todayExpense = 0;\r\n        let monthIncome = 0;\r\n        let monthExpense = 0;\r\n\r\n        (tx || []).forEach((row) => {\r\n          const amt = Number(row.amount || 0);\r\n          if (!amt) return;\r\n          const isIncome = row.direction === 'income';\r\n          if (row.tx_date === yyyyMmDd) {\r\n            if (isIncome) todayIncome += amt; else todayExpense += amt;\r\n          }\r\n          if (isIncome) monthIncome += amt; else monthExpense += amt;\r\n        });\r\n\r\n        // الرصيد المعلّق لدى الريسبشن (نقدي + محافظ إلكترونية في انتظار التأكيد)\r\n        const { data: pendingTx } = await supabase\r\n          .from('accounting_transactions')\r\n          .select('direction,amount,payment_method,status')\r\n          .eq('status', 'pending')\r\n          .in('payment_method', ['cash', 'instapay', 'other']);\r\n\r\n        let receptionPending = 0;\r\n        (pendingTx || []).forEach((row) => {\r\n          const amt = Number(row.amount || 0);\r\n          if (!amt) return;\r\n          if (row.direction === 'income') receptionPending += amt;\r\n          else receptionPending -= amt;\r\n        });\r\n\r\n        // أرصدة المحافظ المؤكَّدة\r\n        const { data: walletConfirmedTx } = await supabase\r\n          .from('accounting_transactions')\r\n          .select('direction,amount,payment_method')\r\n          .eq('status', 'confirmed')\r\n          .in('payment_method', ['cash', 'instapay', 'other']);\r\n\r\n        let cashConfirmed = 0;\r\n        let instapayConfirmed = 0;\r\n        let eCashConfirmed = 0;\r\n        (walletConfirmedTx || []).forEach((row) => {\r\n          const amt = Number(row.amount || 0);\r\n          if (!amt) return;\r\n          const signed = row.direction === 'income' ? amt : -amt;\r\n          if (row.payment_method === 'cash') cashConfirmed += signed;\r\n          else if (row.payment_method === 'instapay') instapayConfirmed += signed;\r\n          else eCashConfirmed += signed;\r\n        });\r\n\r\n        // أرصدة المحافظ المعلّقة (من pendingTx)\r\n        let cashPending = 0;\r\n        let instapayPending = 0;\r\n        let eCashPending = 0;\r\n        (pendingTx || []).forEach((row) => {\r\n          const amt = Number(row.amount || 0);\r\n          if (!amt) return;\r\n          const signed = row.direction === 'income' ? amt : -amt;\r\n          if (row.payment_method === 'cash') cashPending += signed;\r\n          else if (row.payment_method === 'instapay') instapayPending += signed;\r\n          else eCashPending += signed;\r\n        });\r\n\r\n        setStats({\r\n          todayIncome,\r\n          todayExpense,\r\n          todayNet: todayIncome - todayExpense,\r\n          monthIncome,\r\n          monthExpense,\r\n          monthNet: monthIncome - monthExpense,\r\n          receptionPending,\r\n        });\r\n        setWallets({\r\n          cashConfirmed,\r\n          cashPending,\r\n          instapayConfirmed,\r\n          instapayPending,\r\n          eCashConfirmed,\r\n          eCashPending,\r\n        });\r\n      } catch (e) {\r\n        console.error('loadStats error', e);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n\r\n    loadStats();\r\n  }, []);\r\n\r\n  const refreshAfterTx = () => {\r\n    // بعد أي عملية مالية، نعيد تحميل الملخصات\r\n    try {\r\n      const evt = new Event('accounting-tx-updated');\r\n      window.dispatchEvent(evt);\r\n    } catch (_) {}\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handler = () => {\r\n      // إعادة تحميل نفس المنطق بدون تكرار الكود بالكامل\r\n      (async () => {\r\n        try {\r\n          const today = new Date();\r\n          const yyyyMmDd = today.toISOString().slice(0, 10);\r\n          const monthStart = new Date(today.getFullYear(), today.getMonth(), 1).toISOString().slice(0, 10);\r\n          const { data: tx } = await supabase\r\n            .from('accounting_transactions')\r\n            .select('tx_date,direction,amount')\r\n            .eq('status', 'confirmed')\r\n            .neq('source_type', 'transfer')\r\n            .gte('tx_date', monthStart)\r\n            .lte('tx_date', yyyyMmDd);\r\n\r\n          let todayIncome = 0;\r\n          let todayExpense = 0;\r\n          let monthIncome = 0;\r\n          let monthExpense = 0;\r\n\r\n          (tx || []).forEach((row) => {\r\n            const amt = Number(row.amount || 0);\r\n            if (!amt) return;\r\n            const isIncome = row.direction === 'income';\r\n            if (row.tx_date === yyyyMmDd) {\r\n              if (isIncome) todayIncome += amt; else todayExpense += amt;\r\n            }\r\n            if (isIncome) monthIncome += amt; else monthExpense += amt;\r\n          });\r\n\r\n          const { data: pendingTx } = await supabase\r\n            .from('accounting_transactions')\r\n            .select('direction,amount,payment_method,status')\r\n            .eq('status', 'pending')\r\n            .in('payment_method', ['cash', 'instapay', 'other']);\r\n\r\n          let receptionPending = 0;\r\n          (pendingTx || []).forEach((row) => {\r\n            const amt = Number(row.amount || 0);\r\n            if (!amt) return;\r\n            if (row.direction === 'income') receptionPending += amt;\r\n            else receptionPending -= amt;\r\n          });\r\n\r\n          const { data: walletConfirmedTx } = await supabase\r\n            .from('accounting_transactions')\r\n            .select('direction,amount,payment_method')\r\n            .eq('status', 'confirmed')\r\n            .in('payment_method', ['cash', 'instapay', 'other']);\r\n\r\n          let cashConfirmed = 0;\r\n          let instapayConfirmed = 0;\r\n          let eCashConfirmed = 0;\r\n          (walletConfirmedTx || []).forEach((row) => {\r\n            const amt = Number(row.amount || 0);\r\n            if (!amt) return;\r\n            const signed = row.direction === 'income' ? amt : -amt;\r\n            if (row.payment_method === 'cash') cashConfirmed += signed;\r\n            else if (row.payment_method === 'instapay') instapayConfirmed += signed;\r\n            else eCashConfirmed += signed;\r\n          });\r\n\r\n          let cashPending = 0;\r\n          let instapayPending = 0;\r\n          let eCashPending = 0;\r\n          (pendingTx || []).forEach((row) => {\r\n            const amt = Number(row.amount || 0);\r\n            if (!amt) return;\r\n            const signed = row.direction === 'income' ? amt : -amt;\r\n            if (row.payment_method === 'cash') cashPending += signed;\r\n            else if (row.payment_method === 'instapay') instapayPending += signed;\r\n            else eCashPending += signed;\r\n          });\r\n\r\n          setStats({\r\n            todayIncome,\r\n            todayExpense,\r\n            todayNet: todayIncome - todayExpense,\r\n            monthIncome,\r\n            monthExpense,\r\n            monthNet: monthIncome - monthExpense,\r\n            receptionPending,\r\n          });\r\n          setWallets({\r\n            cashConfirmed,\r\n            cashPending,\r\n            instapayConfirmed,\r\n            instapayPending,\r\n            eCashConfirmed,\r\n            eCashPending,\r\n          });\r\n        } catch (e) {\r\n          console.error('reload stats error', e);\r\n        }\r\n      })();\r\n    };\r\n\r\n    try {\r\n      window.addEventListener('accounting-tx-updated', handler);\r\n    } catch (_) {}\r\n    return () => {\r\n      try { window.removeEventListener('accounting-tx-updated', handler); } catch (_) {}\r\n    };\r\n  }, []);\r\n\r\n  const renderDashboardTab = () => (\r\n    <>\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\">\r\n        <div className=\"bg-emerald-50 border border-emerald-100 rounded-lg p-4 text-center\">\r\n          <div className=\"text-xs text-emerald-700 mb-1\">إيرادات اليوم</div>\r\n          <div className=\"text-xl font-bold text-emerald-900\">{stats.todayIncome} جنيه</div>\r\n        </div>\r\n        <div className=\"bg-rose-50 border border-rose-100 rounded-lg p-4 text-center\">\r\n          <div className=\"text-xs text-rose-700 mb-1\">مصروفات اليوم</div>\r\n          <div className=\"text-xl font-bold text-rose-900\">{stats.todayExpense} جنيه</div>\r\n        </div>\r\n        <div className=\"bg-blue-50 border border-blue-100 rounded-lg p-4 text-center\">\r\n          <div className=\"text-xs text-blue-700 mb-1\">صافي اليوم</div>\r\n          <div className=\"text-xl font-bold text-blue-900\">{stats.todayNet} جنيه</div>\r\n        </div>\r\n        <div className=\"bg-indigo-50 border border-indigo-100 rounded-lg p-4 text-center\">\r\n          <div className=\"text-xs text-indigo-700 mb-1\">صافي الشهر الحالي</div>\r\n          <div className=\"text-xl font-bold text-indigo-900\">{stats.monthNet} جنيه</div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\">\r\n        <div className=\"bg-amber-50 border border-amber-100 rounded-lg p-4 text-center md:col-span-2\">\r\n          <div className=\"text-xs text-amber-700 mb-1\">رصيد المبالغ المجمّعة لدى الريسبشن (في انتظار التأكيد)</div>\r\n          <div className=\"text-xl font-bold text-amber-900\">{stats.receptionPending} جنيه</div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\">\r\n        <div className=\"bg-amber-50 border border-amber-100 rounded-lg p-4 text-center\">\r\n          <div className=\"text-2xl mb-1\">💰</div>\r\n          <div className=\"text-xs text-amber-700 mb-1\">رصيد الكاش (خزنة)</div>\r\n          <div className=\"text-sm text-gray-600 mb-1\">مؤكَّد: <span className=\"font-semibold text-amber-900\">{wallets.cashConfirmed} جنيه</span></div>\r\n          <div className=\"text-xs text-gray-500\">معلّق: {wallets.cashPending} جنيه</div>\r\n        </div>\r\n        <div className=\"bg-sky-50 border border-sky-100 rounded-lg p-4 text-center\">\r\n          <div className=\"text-2xl mb-1\">📲</div>\r\n          <div className=\"text-xs text-sky-700 mb-1\">رصيد إنستاباي</div>\r\n          <div className=\"text-sm text-gray-600 mb-1\">مؤكَّد: <span className=\"font-semibold text-sky-900\">{wallets.instapayConfirmed} جنيه</span></div>\r\n          <div className=\"text-xs text-gray-500\">معلّق: {wallets.instapayPending} جنيه</div>\r\n        </div>\r\n        <div className=\"bg-purple-50 border border-purple-100 rounded-lg p-4 text-center\">\r\n          <div className=\"text-2xl mb-1\">💳</div>\r\n          <div className=\"text-xs text-purple-700 mb-1\">رصيد الكاش الإلكتروني (فودافون/اتصالات/أخرى)</div>\r\n          <div className=\"text-sm text-gray-600 mb-1\">مؤكَّد: <span className=\"font-semibold text-purple-900\">{wallets.eCashConfirmed} جنيه</span></div>\r\n          <div className=\"text-xs text-gray-500\">معلّق: {wallets.eCashPending} جنيه</div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\">\r\n        {canViewAdvanced && (\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => setShowCashbox(true)}\r\n            className=\"bg-amber-50 hover:bg-amber-100 border border-amber-200 rounded-lg p-4 flex flex-col items-center justify-center gap-2 transition\"\r\n          >\r\n            <span className=\"text-2xl\">💰</span>\r\n            <span className=\"font-semibold text-amber-900\">إدارة الخزنة</span>\r\n          </button>\r\n        )}\r\n        {canViewAdvanced && (\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => setShowIncome(true)}\r\n            className=\"bg-emerald-50 hover:bg-emerald-100 border border-emerald-200 rounded-lg p-4 flex flex-col items-center justify-center gap-2 transition\"\r\n          >\r\n            <span className=\"text-2xl\">📈</span>\r\n            <span className=\"font-semibold text-emerald-900\">تسجيل إيراد</span>\r\n          </button>\r\n        )}\r\n        {canAddExpense && (\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => setShowExpense(true)}\r\n            className=\"bg-rose-50 hover:bg-rose-100 border border-rose-200 rounded-lg p-4 flex flex-col items-center justify-center gap-2 transition\"\r\n          >\r\n            <span className=\"text-2xl\">📉</span>\r\n            <span className=\"font-semibold text-rose-900\">تسجيل مصروف</span>\r\n          </button>\r\n        )}\r\n        {canViewAdvanced && (\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => setShowBanks(true)}\r\n            className=\"bg-sky-50 hover:bg-sky-100 border border-sky-200 rounded-lg p-4 flex flex-col items-center justify-center gap-2 transition\"\r\n          >\r\n            <span className=\"text-2xl\">🏦</span>\r\n            <span className=\"font-semibold text-sky-900\">حسابات البنوك</span>\r\n          </button>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n\r\n  const renderTransactionsTab = () => (\r\n    <AccountingTransactionsTab />\r\n  );\r\n\r\n  const renderAccountsTreeTab = () => (\r\n    <AccountingCategoriesTab />\r\n  );\r\n\r\n  const renderReportsTab = () => (\r\n    <AccountingReportsTab />\r\n  );\r\n\r\n  const renderActiveTab = () => {\r\n    switch (activeTab) {\r\n      case 'dashboard':\r\n        return renderDashboardTab();\r\n      case 'transactions':\r\n        return canViewAdvanced ? renderTransactionsTab() : renderDashboardTab();\r\n      case 'accounts-tree':\r\n        return canViewAdvanced ? renderAccountsTreeTab() : renderDashboardTab();\r\n      case 'reports':\r\n        return canViewAdvanced ? renderReportsTab() : renderDashboardTab();\r\n      default:\r\n        return renderDashboardTab();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col gap-6 p-6 bg-gray-50 min-h-screen\" dir=\"rtl\">\r\n      <div className=\"flex justify-between items-center\">\r\n        <div className=\"flex gap-2\">\r\n          <button className=\"bg-yellow-400 text-white px-4 py-2 rounded\">نسخة احتياطية</button>\r\n          <button className=\"bg-white border rounded p-2\" title=\"الإشعارات\"><span role=\"img\" aria-label=\"تنبيه\">🔔</span></button>\r\n        </div>\r\n        <div className=\"text-gray-600 text-sm\">{todayLabel}</div>\r\n      </div>\r\n\r\n      <div>\r\n        <h1 className=\"text-2xl font-bold text-gray-800 mb-1\">النظام المحاسبي الذكي</h1>\r\n        <p className=\"text-sm text-gray-500\">إدارة كاملة للمعلومات المالية والمعاملات اليومية للفندق.</p>\r\n      </div>\r\n\r\n      <div className=\"flex flex-wrap gap-2 bg-white rounded-lg p-2 border\">\r\n        <button\r\n          type=\"button\"\r\n          onClick={() => setActiveTab('dashboard')}\r\n          className={`px-4 py-2 rounded text-sm ${activeTab === 'dashboard' ? 'bg-blue-600 text-white' : 'bg-gray-50 text-gray-700 hover:bg-gray-100'}`}\r\n        >\r\n          لوحة المعلومات\r\n        </button>\r\n        {canViewAdvanced && (\r\n          <>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setActiveTab('transactions')}\r\n              className={`px-4 py-2 rounded text-sm ${activeTab === 'transactions' ? 'bg-blue-600 text-white' : 'bg-gray-50 text-gray-700 hover:bg-gray-100'}`}\r\n            >\r\n              المعاملات\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setActiveTab('accounts-tree')}\r\n              className={`px-4 py-2 rounded text-sm ${activeTab === 'accounts-tree' ? 'bg-blue-600 text-white' : 'bg-gray-50 text-gray-700 hover:bg-gray-100'}`}\r\n            >\r\n              شجرة الحسابات\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setActiveTab('reports')}\r\n              className={`px-4 py-2 rounded text-sm ${activeTab === 'reports' ? 'bg-blue-600 text-white' : 'bg-gray-50 text-gray-700 hover:bg-gray-100'}`}\r\n            >\r\n              التقارير\r\n            </button>\r\n          </>\r\n        )}\r\n      </div>\r\n\r\n      {loading ? (\r\n        <div className=\"bg-white rounded-lg p-6 text-center text-gray-500 border\">جاري تحميل ملخص المحاسبة...</div>\r\n      ) : (\r\n        renderActiveTab()\r\n      )}\r\n\r\n      {showCashbox && (\r\n        <CashboxModal\r\n          onClose={() => setShowCashbox(false)}\r\n          onDone={() => {\r\n            setShowCashbox(false);\r\n            refreshAfterTx();\r\n          }}\r\n        />\r\n      )}\r\n\r\n      {showIncome && (\r\n        <AccountingIncomeModal\r\n          onClose={() => setShowIncome(false)}\r\n          onDone={() => {\r\n            setShowIncome(false);\r\n            refreshAfterTx();\r\n          }}\r\n        />\r\n      )}\r\n\r\n      {showExpense && (\r\n        <AccountingExpenseModal\r\n          onClose={() => setShowExpense(false)}\r\n          onDone={() => {\r\n            setShowExpense(false);\r\n            refreshAfterTx();\r\n          }}\r\n        />\r\n      )}\r\n\r\n      {showBanks && (\r\n        <BankAccountsModal\r\n          onClose={() => setShowBanks(false)}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction AccountingTransactionsTab() {\r\n  const [rows, setRows] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [search, setSearch] = useState('');\r\n  const [debounced, setDebounced] = useState('');\r\n  const [direction, setDirection] = useState('');\r\n  const [paymentMethod, setPaymentMethod] = useState('');\r\n  const [fromDate, setFromDate] = useState('');\r\n  const [toDate, setToDate] = useState('');\r\n  const [page, setPage] = useState(0);\r\n  const [pageSize, setPageSize] = useState(20);\r\n  const [totalCount, setTotalCount] = useState(0);\r\n  const [categories, setCategories] = useState([]);\r\n  const [statusFilter, setStatusFilter] = useState('');\r\n  const [staffUsers, setStaffUsers] = useState([]);\r\n  const [sourceFilter, setSourceFilter] = useState('');\r\n  const [refundOnly, setRefundOnly] = useState(false);\r\n\r\n  const currentUser = React.useContext(AuthContext);\r\n  const canConfirmIncome = isManager(currentUser) || isAssistantManager(currentUser);\r\n  const canConfirmExpense = isManager(currentUser); // اعتماد المصروفات حصريًا للمدير\r\n\r\n  useEffect(() => {\r\n    const t = setTimeout(() => setDebounced(search), 350);\r\n    return () => clearTimeout(t);\r\n  }, [search]);\r\n\r\n  useEffect(() => {\r\n    const loadCats = async () => {\r\n      try {\r\n        const { data } = await supabase\r\n          .from('accounting_categories')\r\n          .select('id,name,type')\r\n          .eq('active', true)\r\n          .order('type', { ascending: true });\r\n        setCategories(data || []);\r\n      } catch (e) {\r\n        console.error('load accounting categories error', e);\r\n      }\r\n    };\r\n    loadCats();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const loadStaff = async () => {\r\n      try {\r\n        const { data } = await supabase\r\n          .from('staff_users_overview')\r\n          .select('id,full_name,username');\r\n        setStaffUsers(data || []);\r\n      } catch (e) {\r\n        console.error('load staff users for accounting error', e);\r\n      }\r\n    };\r\n    loadStaff();\r\n  }, []);\r\n\r\n  const buildQuery = React.useCallback(() => {\r\n    const q = supabase\r\n      .from('accounting_transactions')\r\n      .select('id,tx_date,direction,amount,payment_method,description,source_type,reservation_id,category_id,status,created_at,created_by,confirmed_at,confirmed_by', { count: 'exact' })\r\n      .order('tx_date', { ascending: false })\r\n      .order('created_at', { ascending: false });\r\n\r\n    // عرض خاص لطلبات استرداد الحجوزات: مصروفات معلّقة مرتبطة بحجوزات\r\n    if (refundOnly) {\r\n      q.eq('direction', 'expense');\r\n      q.eq('status', 'pending');\r\n      q.eq('source_type', 'reservation');\r\n    } else {\r\n      if (direction) q.eq('direction', direction);\r\n      if (paymentMethod) q.eq('payment_method', paymentMethod);\r\n      if (statusFilter) q.eq('status', statusFilter);\r\n      if (sourceFilter) q.eq('source_type', sourceFilter);\r\n    }\r\n    if (fromDate) q.gte('tx_date', fromDate);\r\n    if (toDate) q.lte('tx_date', toDate);\r\n\r\n    const term = (debounced || '').trim();\r\n    if (term) {\r\n      q.ilike('description', `%${term}%`);\r\n    }\r\n\r\n    const from = page * pageSize;\r\n    const to = from + pageSize - 1;\r\n    q.range(from, to);\r\n    return q;\r\n  }, [debounced, direction, paymentMethod, statusFilter, sourceFilter, fromDate, toDate, page, pageSize, refundOnly]);\r\n\r\n  const load = React.useCallback(async () => {\r\n    setLoading(true);\r\n    try {\r\n      const { data, error, count } = await buildQuery();\r\n      if (error) throw error;\r\n      setRows(data || []);\r\n      setTotalCount(count || 0);\r\n    } catch (e) {\r\n      console.error('load accounting transactions error', e);\r\n      setRows([]);\r\n      setTotalCount(0);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [buildQuery]);\r\n\r\n  useEffect(() => { load(); }, [load]);\r\n\r\n  useEffect(() => {\r\n    const handler = () => {\r\n      load();\r\n    };\r\n    try {\r\n      window.addEventListener('accounting-tx-updated', handler);\r\n    } catch (_) {}\r\n    return () => {\r\n      try { window.removeEventListener('accounting-tx-updated', handler); } catch (_) {}\r\n    };\r\n  }, [load]);\r\n\r\n  const catName = (id) => {\r\n    if (!id) return '-';\r\n    const c = categories.find((x) => x.id === id);\r\n    return c ? c.name : '-';\r\n  };\r\n\r\n  const directionBadge = (d) => {\r\n    const common = 'inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium';\r\n    if (d === 'income') return <span className={`${common} bg-emerald-50 text-emerald-700 border border-emerald-200`}>إيراد</span>;\r\n    if (d === 'expense') return <span className={`${common} bg-rose-50 text-rose-700 border border-rose-200`}>مصروف</span>;\r\n    return null;\r\n  };\r\n\r\n  const paymentLabel = (m) => {\r\n    if (m === 'cash') return 'نقدي (خزنة)';\r\n    if (m === 'bank') return 'حساب بنكي';\r\n    if (m === 'instapay') return 'إنستاباي / بطاقة بنكية';\r\n    // أي قيم قديمة مثل vodafone_cash أو etisalat_cash أو other نعرضها كمحفظة إلكترونية موحدة\r\n    return 'محفظة إلكترونية';\r\n  };\r\n\r\n  const staffName = (id) => {\r\n    if (!id) return 'غير محدد';\r\n    const u = staffUsers.find((x) => x.id === id);\r\n    if (!u) return 'مستخدم غير معروف';\r\n    return u.full_name || u.username || 'مستخدم';\r\n  };\r\n\r\n  const statusBadge = (s) => {\r\n    const common = 'inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium';\r\n    if (s === 'confirmed') return <span className={`${common} bg-emerald-50 text-emerald-700 border border-emerald-200`}>مؤكَّد</span>;\r\n    if (s === 'pending') return <span className={`${common} bg-amber-50 text-amber-700 border border-amber-200`}>معلّق</span>;\r\n    if (s === 'rejected') return <span className={`${common} bg-rose-50 text-rose-700 border border-rose-200`}>مرفوض</span>;\r\n    return null;\r\n  };\r\n\r\n  const isReservationRefund = (row) => (\r\n    row && row.direction === 'expense' && row.source_type === 'reservation'\r\n  );\r\n\r\n  const handleConfirm = async (row) => {\r\n    if (row.direction === 'expense' && !canConfirmExpense) {\r\n      alert('فقط المدير يمكنه اعتماد المصروفات.');\r\n      return;\r\n    }\r\n    if (row.direction === 'income' && !canConfirmIncome) {\r\n      alert('فقط المدير أو مساعد المدير يمكنه تأكيد التحصيل.');\r\n      return;\r\n    }\r\n    let selectedPaymentMethod = null;\r\n    let selectedBankAccountId = null;\r\n\r\n    // في حالة اعتماد طلب استرداد حجز، نطلب من المدير اختيار مصدر الصرف الفعلي\r\n    if (isReservationRefund(row)) {\r\n      const choice = window.prompt(\r\n        'اعتماد طلب استرداد الحجز:\\n\\n' +\r\n        'اختر مصدر صرف مبلغ الاسترداد (اكتب رقم الخيار):\\n' +\r\n        '1) خزنة نقدية (cash)\\n' +\r\n        '2) إنستاباي / بطاقة بنكية (instapay)\\n' +\r\n        '3) محفظة إلكترونية (other)\\n' +\r\n        '4) حساب بنكي محدد (bank)\\n\\n' +\r\n        'اترك الحقل فارغًا لإلغاء العملية.',\r\n        '1'\r\n      );\r\n      if (!choice) {\r\n        alert('تم إلغاء اعتماد طلب الاسترداد؛ لم يتم تعديل المعاملة.');\r\n        return;\r\n      }\r\n      const trimmed = String(choice).trim();\r\n      if (trimmed === '1') {\r\n        selectedPaymentMethod = 'cash';\r\n      } else if (trimmed === '2') {\r\n        selectedPaymentMethod = 'instapay';\r\n      } else if (trimmed === '3') {\r\n        selectedPaymentMethod = 'other';\r\n      } else if (trimmed === '4') {\r\n        // تحميل الحسابات البنكية المتاحة للاختيار\r\n        try {\r\n          const { data: banks, error: bankError } = await supabase\r\n            .from('bank_accounts')\r\n            .select('id,bank_name,account_name,active')\r\n            .eq('active', true);\r\n          if (bankError) throw bankError;\r\n          const list = banks || [];\r\n          if (list.length === 0) {\r\n            alert('لا توجد حسابات بنكية مفعّلة حاليًا لاختيارها كمصدر للصرف.');\r\n            return;\r\n          }\r\n          const optionsText = list\r\n            .map((b, idx) => `${idx + 1}) ${b.bank_name} — ${b.account_name}`)\r\n            .join('\\n');\r\n          const bankChoice = window.prompt(\r\n            'اختر الحساب البنكي الذي سيتم منه صرف مبلغ الاسترداد (اكتب رقم السطر):\\n\\n' +\r\n            optionsText +\r\n            '\\n\\nاترك الحقل فارغًا لإلغاء العملية.'\r\n          );\r\n          if (!bankChoice) {\r\n            alert('تم إلغاء اعتماد طلب الاسترداد؛ لم يتم تعديل المعاملة.');\r\n            return;\r\n          }\r\n          const bankIndex = parseInt(bankChoice, 10);\r\n          if (!Number.isFinite(bankIndex) || bankIndex < 1 || bankIndex > list.length) {\r\n            alert('اختيار غير صالح للحساب البنكي؛ لم يتم تعديل المعاملة.');\r\n            return;\r\n          }\r\n          const chosen = list[bankIndex - 1];\r\n          selectedPaymentMethod = 'bank';\r\n          selectedBankAccountId = chosen.id;\r\n        } catch (e) {\r\n          console.error('load bank accounts for refund confirm error', e);\r\n          alert('تعذّر تحميل قائمة الحسابات البنكية؛ لم يتم اعتماد طلب الاسترداد.');\r\n          return;\r\n        }\r\n      } else {\r\n        alert('اختيار غير صحيح؛ لم يتم اعتماد طلب الاسترداد.');\r\n        return;\r\n      }\r\n    } else {\r\n      const ok = window.confirm('تأكيد استلام هذا المبلغ واعتماده في الخزنة والتقارير؟');\r\n      if (!ok) return;\r\n    }\r\n    try {\r\n      const payload = {\r\n        status: 'confirmed',\r\n        confirmed_at: new Date().toISOString(),\r\n      };\r\n      // في حالة طلب استرداد، نحدث طريقة الدفع والحساب البنكي حسب اختيار المدير\r\n      if (isReservationRefund(row) && selectedPaymentMethod) {\r\n        payload.payment_method = selectedPaymentMethod;\r\n        payload.bank_account_id = selectedPaymentMethod === 'bank' ? (selectedBankAccountId || null) : null;\r\n      }\r\n      if (currentUser && currentUser.id) {\r\n        payload.confirmed_by = currentUser.id;\r\n      }\r\n      const { error } = await supabase\r\n        .from('accounting_transactions')\r\n        .update(payload)\r\n        .eq('id', row.id);\r\n      if (error) throw error;\r\n      // تحديث الإحصاءات والجدول\r\n      try {\r\n        const evt = new Event('accounting-tx-updated');\r\n        window.dispatchEvent(evt);\r\n      } catch (_) {}\r\n      await load();\r\n    } catch (e) {\r\n      console.error('confirm transaction error', e);\r\n      alert('تعذّر تأكيد العملية: ' + (e.message || e));\r\n    }\r\n  };\r\n\r\n  const handleReject = async (row) => {\r\n    if (row.direction === 'expense' && !canConfirmExpense) {\r\n      alert('فقط المدير يمكنه رفض المصروفات.');\r\n      return;\r\n    }\r\n    if (row.direction === 'income' && !canConfirmIncome) {\r\n      alert('فقط المدير أو مساعد المدير يمكنه رفض هذه العملية.');\r\n      return;\r\n    }\r\n    const ok = window.confirm('رفض هذه العملية وعدم احتسابها في الخزنة أو التقارير؟');\r\n    if (!ok) return;\r\n    try {\r\n      const payload = {\r\n        status: 'rejected',\r\n        confirmed_at: new Date().toISOString(),\r\n      };\r\n      if (currentUser && currentUser.id) {\r\n        payload.confirmed_by = currentUser.id;\r\n      }\r\n      const { error } = await supabase\r\n        .from('accounting_transactions')\r\n        .update(payload)\r\n        .eq('id', row.id);\r\n      if (error) throw error;\r\n      try {\r\n        const evt = new Event('accounting-tx-updated');\r\n        window.dispatchEvent(evt);\r\n      } catch (_) {}\r\n      await load();\r\n    } catch (e) {\r\n      console.error('reject transaction error', e);\r\n      alert('تعذّر رفض العملية: ' + (e.message || e));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg border p-4\" dir=\"rtl\">\r\n      <div className=\"flex flex-wrap items-center gap-3 mb-4\">\r\n        <div className=\"relative flex-1 min-w-[220px]\">\r\n          <span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\">\r\n            <svg className=\"w-4 h-4\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\"><circle cx=\"11\" cy=\"11\" r=\"7\"/><path d=\"M21 21l-4.3-4.3\"/></svg>\r\n          </span>\r\n          <input\r\n            className=\"border rounded pl-9 pr-3 py-2 w-full text-sm\"\r\n            placeholder=\"بحث في الوصف\"\r\n            value={search}\r\n            onChange={(e) => { setSearch(e.target.value); setPage(0); }}\r\n          />\r\n        </div>\r\n        <select\r\n          className=\"border rounded px-3 py-2 text-sm\"\r\n          value={direction}\r\n          onChange={(e) => { setDirection(e.target.value); setPage(0); }}\r\n        >\r\n          <option value=\"\">كل الأنواع</option>\r\n          <option value=\"income\">إيرادات</option>\r\n          <option value=\"expense\">مصروفات</option>\r\n        </select>\r\n        <select\r\n          className=\"border rounded px-3 py-2 text-sm\"\r\n          value={paymentMethod}\r\n          onChange={(e) => { setPaymentMethod(e.target.value); setPage(0); }}\r\n        >\r\n          <option value=\"\">كل طرق الدفع</option>\r\n          <option value=\"cash\">نقدي (خزنة)</option>\r\n          <option value=\"bank\">حساب بنكي</option>\r\n          <option value=\"instapay\">إنستاباي / بطاقة بنكية</option>\r\n          <option value=\"other\">محفظة إلكترونية</option>\r\n        </select>\r\n        <select\r\n          className=\"border rounded px-3 py-2 text-sm\"\r\n          value={sourceFilter}\r\n          onChange={(e) => { setSourceFilter(e.target.value); setPage(0); }}\r\n        >\r\n          <option value=\"\">كل المصادر</option>\r\n          <option value=\"reservation\">حجوزات فقط</option>\r\n          <option value=\"manual\">عمليات يدوية</option>\r\n        </select>\r\n        <select\r\n          className=\"border rounded px-3 py-2 text-sm\"\r\n          value={statusFilter}\r\n          onChange={(e) => { setStatusFilter(e.target.value); setPage(0); }}\r\n        >\r\n          <option value=\"\">كل الحالات</option>\r\n          <option value=\"pending\">معلّقة</option>\r\n          <option value=\"confirmed\">مؤكَّدة</option>\r\n          <option value=\"rejected\">مرفوضة</option>\r\n        </select>\r\n        <input\r\n          type=\"date\"\r\n          className=\"border rounded px-3 py-2 text-sm\"\r\n          value={fromDate}\r\n          onChange={(e) => { setFromDate(e.target.value); setPage(0); }}\r\n        />\r\n        <input\r\n          type=\"date\"\r\n          className=\"border rounded px-3 py-2 text-sm\"\r\n          value={toDate}\r\n          onChange={(e) => { setToDate(e.target.value); setPage(0); }}\r\n        />\r\n        <button\r\n          type=\"button\"\r\n          onClick={() => {\r\n            setRefundOnly((prev) => !prev);\r\n            setPage(0);\r\n          }}\r\n          className={`px-3 py-2 rounded text-xs border whitespace-nowrap ${refundOnly ? 'bg-sky-600 text-white border-sky-600' : 'bg-white text-sky-700 border-sky-300 hover:bg-sky-50'}`}\r\n        >\r\n          طلبات استرداد الحجوزات\r\n        </button>\r\n      </div>\r\n\r\n      {loading ? (\r\n        <div className=\"py-12 text-center text-gray-500 text-sm\">جاري تحميل المعاملات المالية...</div>\r\n      ) : rows.length === 0 ? (\r\n        <div className=\"py-12 text-center text-gray-400 text-sm\">لا توجد معاملات مطابقة للبحث الحالي.</div>\r\n      ) : (\r\n        <div className=\"overflow-x-auto border rounded bg-white\">\r\n          <table className=\"min-w-full text-sm\">\r\n            <thead className=\"bg-gray-50\">\r\n              <tr className=\"text-right\">\r\n                <th className=\"px-3 py-2\">التاريخ</th>\r\n                <th className=\"px-3 py-2\">النوع</th>\r\n                <th className=\"px-3 py-2\">الفئة</th>\r\n                <th className=\"px-3 py-2\">المبلغ</th>\r\n                <th className=\"px-3 py-2\">طريقة الدفع</th>\r\n                <th className=\"px-3 py-2\">الحالة</th>\r\n                <th className=\"px-3 py-2\">التتبّع</th>\r\n                <th className=\"px-3 py-2\">الوصف</th>\r\n                <th className=\"px-3 py-2\">إجراءات</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {rows.map((r) => (\r\n                <tr key={r.id} className=\"border-t hover:bg-gray-50\">\r\n                  <td className=\"px-3 py-2 text-xs text-gray-600 whitespace-nowrap\">{r.tx_date}</td>\r\n                  <td className=\"px-3 py-2\">{directionBadge(r.direction)}</td>\r\n                  <td className=\"px-3 py-2 text-sm\">\r\n                    <div className=\"flex flex-col items-start gap-0.5\">\r\n                      <span>{catName(r.category_id)}</span>\r\n                      {isReservationRefund(r) && (\r\n                        <span className=\"inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-medium bg-sky-50 text-sky-700 border border-sky-200\">\r\n                          استرداد حجز\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n                  </td>\r\n                  <td className={`px-3 py-2 text-sm font-semibold ${r.direction === 'income' ? 'text-emerald-700' : 'text-rose-700'}`}>\r\n                    {Number(r.amount || 0)}\r\n                  </td>\r\n                  <td className=\"px-3 py-2 text-sm text-gray-700\">{paymentLabel(r.payment_method)}</td>\r\n                  <td className=\"px-3 py-2 text-sm\">{statusBadge(r.status)}</td>\r\n                  <td className=\"px-3 py-2 text-[11px] text-gray-600 whitespace-nowrap\">\r\n                    <div>تحصيل: {staffName(r.created_by)}</div>\r\n                    <div className=\"text-[10px] text-gray-400\">\r\n                      {r.created_at ? new Date(r.created_at).toLocaleString('ar-EG') : ''}\r\n                    </div>\r\n                    {r.status === 'confirmed' && (\r\n                      <div className=\"mt-1\">\r\n                        <div>تأكيد: {staffName(r.confirmed_by)}</div>\r\n                        <div className=\"text-[10px] text-gray-400\">\r\n                          {r.confirmed_at ? new Date(r.confirmed_at).toLocaleString('ar-EG') : ''}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                    {r.status === 'rejected' && (\r\n                      <div className=\"mt-1\">\r\n                        <div>رفض: {staffName(r.confirmed_by)}</div>\r\n                        <div className=\"text-[10px] text-gray-400\">\r\n                          {r.confirmed_at ? new Date(r.confirmed_at).toLocaleString('ar-EG') : ''}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </td>\r\n                  <td className=\"px-3 py-2 text-sm max-w-xl whitespace-normal break-words\">{r.description}</td>\r\n                  <td className=\"px-3 py-2 text-xs text-right\">\r\n                    {r.status === 'pending' && (\r\n                      <div className=\"flex flex-col gap-1 items-end\">\r\n                        <button\r\n                          type=\"button\"\r\n                          className=\"px-2 py-1 rounded border text-xs bg-emerald-50 text-emerald-700 border-emerald-300 disabled:opacity-50\"\r\n                          onClick={() => handleConfirm(r)}\r\n                          disabled={r.direction === 'expense' ? !canConfirmExpense : !canConfirmIncome}\r\n                        >\r\n                          {r.direction === 'income'\r\n                            ? 'تأكيد الاستلام'\r\n                            : (isReservationRefund(r) ? 'اعتماد طلب الاسترداد' : 'تأكيد المصروف')}\r\n                        </button>\r\n                        <button\r\n                          type=\"button\"\r\n                          className=\"px-2 py-1 rounded border text-xs bg-rose-50 text-rose-700 border-rose-300 disabled:opacity-50\"\r\n                          onClick={() => handleReject(r)}\r\n                          disabled={r.direction === 'expense' ? !canConfirmExpense : !canConfirmIncome}\r\n                        >\r\n                          {r.direction === 'income'\r\n                            ? 'رفض التحصيل'\r\n                            : (isReservationRefund(r) ? 'رفض طلب الاسترداد' : 'رفض المصروف')}\r\n                        </button>\r\n                      </div>\r\n                    )}\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"flex items-center justify-between mt-4\">\r\n        <div className=\"text-sm text-gray-600\">النتائج: {rows.length} / الإجمالي: {totalCount}</div>\r\n        <div className=\"flex items-center gap-2\">\r\n          <button\r\n            className=\"px-3 py-1 border rounded text-sm\"\r\n            onClick={() => setPage((p) => Math.max(0, p - 1))}\r\n            disabled={page === 0}\r\n          >\r\n            السابق\r\n          </button>\r\n          <span className=\"text-sm\">صفحة {page + 1}</span>\r\n          <button\r\n            className=\"px-3 py-1 border rounded text-sm\"\r\n            onClick={() => setPage((p) => p + 1)}\r\n            disabled={(page + 1) * pageSize >= totalCount}\r\n          >\r\n            التالي\r\n          </button>\r\n          <select\r\n            className=\"border rounded px-2 py-1 text-sm\"\r\n            value={pageSize}\r\n            onChange={(e) => { setPageSize(Number(e.target.value)); setPage(0); }}\r\n          >\r\n            <option value={20}>20</option>\r\n            <option value={50}>50</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction AccountingCategoriesTab() {\r\n  const [categories, setCategories] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [name, setName] = useState('');\r\n  const [type, setType] = useState('income');\r\n  const [color, setColor] = useState('#16a34a');\r\n  const [saving, setSaving] = useState(false);\r\n\r\n  const load = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('accounting_categories')\r\n        .select('id,type,name,color,active')\r\n        .order('type', { ascending: true })\r\n        .order('name', { ascending: true });\r\n      if (error) throw error;\r\n      setCategories(data || []);\r\n    } catch (e) {\r\n      console.error('load accounting categories error', e);\r\n      setCategories([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    load();\r\n  }, []);\r\n\r\n  const handleAdd = async (e) => {\r\n    e.preventDefault();\r\n    const trimmed = (name || '').trim();\r\n    if (!trimmed) {\r\n      alert('يرجى إدخال اسم الفئة.');\r\n      return;\r\n    }\r\n    setSaving(true);\r\n    try {\r\n      const payload = {\r\n        name: trimmed,\r\n        type,\r\n        color: color || null,\r\n        active: true,\r\n      };\r\n      const { error } = await supabase.from('accounting_categories').insert(payload);\r\n      if (error) throw error;\r\n      setName('');\r\n      await load();\r\n    } catch (e) {\r\n      console.error('add accounting category error', e);\r\n      alert('تعذّر إضافة الفئة.');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const toggleActive = async (cat) => {\r\n    try {\r\n      const { error } = await supabase\r\n        .from('accounting_categories')\r\n        .update({ active: !cat.active })\r\n        .eq('id', cat.id);\r\n      if (error) throw error;\r\n      await load();\r\n    } catch (e) {\r\n      console.error('toggle accounting category error', e);\r\n      alert('تعذّر تحديث حالة الفئة.');\r\n    }\r\n  };\r\n\r\n  const incomeCats = categories.filter((c) => c.type === 'income');\r\n  const expenseCats = categories.filter((c) => c.type === 'expense');\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg border p-4\" dir=\"rtl\">\r\n      <div className=\"mb-4\">\r\n        <h2 className=\"text-lg font-semibold text-gray-800 mb-1\">شجرة الحسابات المبسّطة</h2>\r\n        <p className=\"text-xs text-gray-500\">إدارة فئات الإيرادات والمصروفات التي تُستخدم في المعاملات والتقارير.</p>\r\n      </div>\r\n\r\n      <form className=\"grid grid-cols-1 md:grid-cols-4 gap-3 mb-5\" onSubmit={handleAdd}>\r\n        <div>\r\n          <label className=\"block text-xs mb-1\">نوع الفئة</label>\r\n          <select\r\n            className=\"border rounded px-3 py-2 text-sm w-full\"\r\n            value={type}\r\n            onChange={(e) => setType(e.target.value)}\r\n          >\r\n            <option value=\"income\">إيراد</option>\r\n            <option value=\"expense\">مصروف</option>\r\n          </select>\r\n        </div>\r\n        <div>\r\n          <label className=\"block text-xs mb-1\">اسم الفئة</label>\r\n          <input\r\n            className=\"border rounded px-3 py-2 text-sm w-full\"\r\n            value={name}\r\n            onChange={(e) => setName(e.target.value)}\r\n            placeholder=\"مثال: إيجار قاعة / كهرباء\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <label className=\"block text-xs mb-1\">لون توضيحي (اختياري)</label>\r\n          <input\r\n            type=\"color\"\r\n            className=\"border rounded px-2 py-2 text-sm w-full h-[38px]\"\r\n            value={color}\r\n            onChange={(e) => setColor(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className=\"flex items-end\">\r\n          <button\r\n            type=\"submit\"\r\n            className=\"px-4 py-2 rounded bg-emerald-600 text-white text-sm w-full\"\r\n            disabled={saving}\r\n          >\r\n            {saving ? 'جارٍ الإضافة...' : 'إضافة فئة'}\r\n          </button>\r\n        </div>\r\n      </form>\r\n\r\n      {loading ? (\r\n        <div className=\"py-10 text-center text-gray-500 text-sm\">جاري تحميل الفئات...</div>\r\n      ) : (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n          <div>\r\n            <div className=\"flex items-center justify-between mb-2\">\r\n              <h3 className=\"text-sm font-semibold text-emerald-800\">فئات الإيرادات</h3>\r\n            </div>\r\n            {incomeCats.length === 0 ? (\r\n              <div className=\"text-xs text-gray-400 py-3\">لا توجد فئات إيراد بعد.</div>\r\n            ) : (\r\n              <div className=\"border rounded divide-y bg-white\">\r\n                {incomeCats.map((c) => (\r\n                  <div key={c.id} className=\"flex items-center justify-between px-3 py-2\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <span\r\n                        className=\"w-3 h-3 rounded-full border\"\r\n                        style={{ backgroundColor: c.color || '#16a34a' }}\r\n                      />\r\n                      <span className=\"text-sm text-gray-800\">{c.name}</span>\r\n                    </div>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => toggleActive(c)}\r\n                      className={`text-xs px-2 py-1 rounded border ${c.active ? 'border-emerald-400 text-emerald-700 bg-emerald-50' : 'border-gray-300 text-gray-500 bg-gray-50'}`}\r\n                    >\r\n                      {c.active ? 'مفعّل' : 'موقوف'}\r\n                    </button>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div>\r\n            <div className=\"flex items-center justify-between mb-2\">\r\n              <h3 className=\"text-sm font-semibold text-rose-800\">فئات المصروفات</h3>\r\n            </div>\r\n            {expenseCats.length === 0 ? (\r\n              <div className=\"text-xs text-gray-400 py-3\">لا توجد فئات مصروف بعد.</div>\r\n            ) : (\r\n              <div className=\"border rounded divide-y bg-white\">\r\n                {expenseCats.map((c) => (\r\n                  <div key={c.id} className=\"flex items-center justify-between px-3 py-2\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <span\r\n                        className=\"w-3 h-3 rounded-full border\"\r\n                        style={{ backgroundColor: c.color || '#ef4444' }}\r\n                      />\r\n                      <span className=\"text-sm text-gray-800\">{c.name}</span>\r\n                    </div>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => toggleActive(c)}\r\n                      className={`text-xs px-2 py-1 rounded border ${c.active ? 'border-emerald-400 text-emerald-700 bg-emerald-50' : 'border-gray-300 text-gray-500 bg-gray-50'}`}\r\n                    >\r\n                      {c.active ? 'مفعّل' : 'موقوف'}\r\n                    </button>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction AccountingReportsTab() {\r\n  const [fromDate, setFromDate] = useState('');\r\n  const [toDate, setToDate] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [summary, setSummary] = useState({ income: 0, expense: 0, net: 0 });\r\n  const [byCategory, setByCategory] = useState([]);\r\n  const [byPayment, setByPayment] = useState([]);\r\n  const [categories, setCategories] = useState([]);\r\n  const [activeReport, setActiveReport] = useState('overview'); // overview | income-expense | wallets | refunds\r\n  const [walletSummary, setWalletSummary] = useState({\r\n    totalIn: 0,\r\n    totalOut: 0,\r\n    net: 0,\r\n    confirmedCount: 0,\r\n    pendingCount: 0,\r\n    transferCount: 0,\r\n  });\r\n  const [walletRows, setWalletRows] = useState([]);\r\n  const [walletMethodFilter, setWalletMethodFilter] = useState('');\r\n  const [walletStatusFilter, setWalletStatusFilter] = useState('');\r\n  const [refundSummary, setRefundSummary] = useState({\r\n    confirmedTotal: 0,\r\n    pendingTotal: 0,\r\n    confirmedCount: 0,\r\n    pendingCount: 0,\r\n  });\r\n  const [refundRows, setRefundRows] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const today = new Date();\r\n    const yyyyMmDd = today.toISOString().slice(0, 10);\r\n    const monthStart = new Date(today.getFullYear(), today.getMonth(), 1).toISOString().slice(0, 10);\r\n    setFromDate(monthStart);\r\n    setToDate(yyyyMmDd);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const loadCats = async () => {\r\n      try {\r\n        const { data } = await supabase\r\n          .from('accounting_categories')\r\n          .select('id,name,type')\r\n          .order('type', { ascending: true })\r\n          .order('name', { ascending: true });\r\n        setCategories(data || []);\r\n      } catch (e) {\r\n        console.error('load categories for reports error', e);\r\n      }\r\n    };\r\n    loadCats();\r\n  }, []);\r\n\r\n  const load = async () => {\r\n    if (!fromDate || !toDate) return;\r\n    setLoading(true);\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('accounting_transactions')\r\n        .select('direction,amount,payment_method,category_id,tx_date,status,source_type')\r\n        .eq('status', 'confirmed')\r\n        .neq('source_type', 'transfer')\r\n        .gte('tx_date', fromDate)\r\n        .lte('tx_date', toDate);\r\n      if (error) throw error;\r\n\r\n      let income = 0;\r\n      let expense = 0;\r\n      const catAgg = new Map();\r\n      const payAgg = new Map();\r\n\r\n      (data || []).forEach((row) => {\r\n        const amt = Number(row.amount || 0);\r\n        if (!amt) return;\r\n        const isIncome = row.direction === 'income';\r\n        if (isIncome) income += amt; else expense += amt;\r\n\r\n        const catKey = row.category_id || 'none';\r\n        if (!catAgg.has(catKey)) {\r\n          catAgg.set(catKey, { category_id: row.category_id, income: 0, expense: 0 });\r\n        }\r\n        const catRow = catAgg.get(catKey);\r\n        if (isIncome) catRow.income += amt; else catRow.expense += amt;\r\n\r\n        const payKey = row.payment_method || 'other';\r\n        if (!payAgg.has(payKey)) {\r\n          payAgg.set(payKey, { payment_method: payKey, income: 0, expense: 0 });\r\n        }\r\n        const payRow = payAgg.get(payKey);\r\n        if (isIncome) payRow.income += amt; else payRow.expense += amt;\r\n      });\r\n\r\n      setSummary({ income, expense, net: income - expense });\r\n      setByCategory(Array.from(catAgg.values()));\r\n      setByPayment(Array.from(payAgg.values()));\r\n    } catch (e) {\r\n      console.error('load accounting reports error', e);\r\n      setSummary({ income: 0, expense: 0, net: 0 });\r\n      setByCategory([]);\r\n      setByPayment([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadWalletReport = async () => {\r\n    if (!fromDate || !toDate) return;\r\n    setLoading(true);\r\n    try {\r\n      let q = supabase\r\n        .from('accounting_transactions')\r\n        .select('id,tx_date,direction,amount,payment_method,status,source_type,description,created_at')\r\n        .gte('tx_date', fromDate)\r\n        .lte('tx_date', toDate)\r\n        .in('payment_method', ['cash', 'instapay', 'other'])\r\n        .order('tx_date', { ascending: false })\r\n        .order('created_at', { ascending: false });\r\n\r\n      if (walletMethodFilter) q = q.eq('payment_method', walletMethodFilter);\r\n      if (walletStatusFilter) q = q.eq('status', walletStatusFilter);\r\n\r\n      const { data, error } = await q;\r\n      if (error) throw error;\r\n\r\n      let totalIn = 0;\r\n      let totalOut = 0;\r\n      let confirmedCount = 0;\r\n      let pendingCount = 0;\r\n      let transferCount = 0;\r\n\r\n      (data || []).forEach((row) => {\r\n        const amt = Number(row.amount || 0);\r\n        if (!amt) return;\r\n        const signed = row.direction === 'income' ? amt : -amt;\r\n        if (signed >= 0) totalIn += signed; else totalOut += -signed;\r\n        if (row.status === 'confirmed') confirmedCount += 1;\r\n        else if (row.status === 'pending') pendingCount += 1;\r\n        if (row.source_type === 'transfer') transferCount += 1;\r\n      });\r\n\r\n      setWalletSummary({\r\n        totalIn,\r\n        totalOut,\r\n        net: totalIn - totalOut,\r\n        confirmedCount,\r\n        pendingCount,\r\n        transferCount,\r\n      });\r\n      setWalletRows(data || []);\r\n    } catch (e) {\r\n      console.error('load wallet movements report error', e);\r\n      setWalletSummary({ totalIn: 0, totalOut: 0, net: 0, confirmedCount: 0, pendingCount: 0, transferCount: 0 });\r\n      setWalletRows([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadRefundReport = async () => {\r\n    if (!fromDate || !toDate) return;\r\n    setLoading(true);\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('accounting_transactions')\r\n        .select('id,tx_date,amount,payment_method,status,source_type,direction,category_id,reservation_id,description')\r\n        .eq('direction', 'expense')\r\n        .eq('source_type', 'reservation')\r\n        .gte('tx_date', fromDate)\r\n        .lte('tx_date', toDate)\r\n        .order('tx_date', { ascending: false })\r\n        .order('created_at', { ascending: false });\r\n      if (error) throw error;\r\n\r\n      let confirmedTotal = 0;\r\n      let pendingTotal = 0;\r\n      let confirmedCount = 0;\r\n      let pendingCount = 0;\r\n\r\n      (data || []).forEach((row) => {\r\n        const amt = Number(row.amount || 0) || 0;\r\n        if (!amt) return;\r\n        if (row.status === 'confirmed') {\r\n          confirmedTotal += amt;\r\n          confirmedCount += 1;\r\n        } else if (row.status === 'pending') {\r\n          pendingTotal += amt;\r\n          pendingCount += 1;\r\n        }\r\n      });\r\n\r\n      setRefundSummary({ confirmedTotal, pendingTotal, confirmedCount, pendingCount });\r\n      setRefundRows(data || []);\r\n    } catch (e) {\r\n      console.error('load refund report error', e);\r\n      setRefundSummary({ confirmedTotal: 0, pendingTotal: 0, confirmedCount: 0, pendingCount: 0 });\r\n      setRefundRows([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (fromDate && toDate) {\r\n      if (activeReport === 'income-expense') {\r\n        load();\r\n      } else if (activeReport === 'wallets') {\r\n        loadWalletReport();\r\n      } else if (activeReport === 'refunds') {\r\n        loadRefundReport();\r\n      }\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [fromDate, toDate, activeReport, walletMethodFilter, walletStatusFilter]);\r\n\r\n  const catName = (id) => {\r\n    if (!id) return 'بدون فئة محددة';\r\n    const c = categories.find((x) => x.id === id);\r\n    return c ? c.name : 'فئة غير معروفة';\r\n  };\r\n\r\n  const paymentLabel = (m) => {\r\n    if (m === 'cash') return 'نقدي (خزنة)';\r\n    if (m === 'bank') return 'حساب بنكي';\r\n    if (m === 'instapay') return 'إنستاباي / بطاقة بنكية';\r\n    return 'محفظة إلكترونية';\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg border p-4\" dir=\"rtl\">\r\n      {activeReport === 'overview' ? (\r\n        <>\r\n          <div className=\"mb-4 flex flex-col gap-2\">\r\n            <div className=\"flex items-center justify-between flex-wrap gap-2\">\r\n              <div>\r\n                <h2 className=\"text-lg font-semibold text-gray-800 mb-1\">مركز التقارير المحاسبية</h2>\r\n                <p className=\"text-xs text-gray-500\">اختر نوع التقرير الذي تريد عرضه من القائمة التالية.</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <div className=\"border rounded-lg bg-gray-50 p-4 flex flex-col gap-3\">\r\n              <div className=\"flex items-center justify-between mb-1\">\r\n                <div className=\"text-sm font-semibold text-gray-800\">التقارير المالية</div>\r\n              </div>\r\n              <button\r\n                type=\"button\"\r\n                className=\"w-full flex items-center justify-between px-3 py-2 rounded border bg-white text-sm hover:bg-emerald-50 hover:border-emerald-300 transition\"\r\n                onClick={() => setActiveReport('income-expense')}\r\n              >\r\n                <span>تقرير الأرباح والخسائر للفترة</span>\r\n                <span className=\"text-xs text-gray-400\">إجمالي الإيرادات والمصروفات</span>\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"border rounded-lg bg-gray-50 p-4 flex flex-col gap-3\">\r\n              <div className=\"flex items-center justify-between mb-1\">\r\n                <div className=\"text-sm font-semibold text-gray-800\">تقارير تشغيلية (محاسبة)</div>\r\n              </div>\r\n              <button\r\n                type=\"button\"\r\n                className=\"w-full flex items-center justify-between px-3 py-2 rounded border bg-white text-sm hover:bg-sky-50 hover:border-sky-300 transition\"\r\n                onClick={() => setActiveReport('wallets')}\r\n              >\r\n                <span>تقرير حركة الخزنة والمحافظ</span>\r\n                <span className=\"text-xs text-gray-400\">تحليل التحصيل والصرف والتحويلات حسب المحفظة</span>\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"w-full flex items-center justify-between px-3 py-2 rounded border bg-white text-sm hover:bg-rose-50 hover:border-rose-300 transition\"\r\n                onClick={() => setActiveReport('refunds')}\r\n              >\r\n                <span>تقرير استرداد الحجوزات</span>\r\n                <span className=\"text-xs text-gray-400\">ملخص بمبالغ وعدد عمليات استرداد الحجوزات</span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </>\r\n      ) : activeReport === 'income-expense' ? (\r\n        <>\r\n          <div className=\"flex flex-wrap items-center justify-between gap-3 mb-4\">\r\n            <div>\r\n              <h2 className=\"text-lg font-semibold text-gray-800 mb-1\">تقرير الأرباح والخسائر للفترة</h2>\r\n              <p className=\"text-xs text-gray-500\">ملخص الإيرادات والمصروفات للفترة المختارة، مع تقسيم حسب الفئة وطريقة الدفع.</p>\r\n            </div>\r\n            <div className=\"flex flex-wrap items-center gap-2 text-sm\">\r\n              <div className=\"flex items-center gap-1\">\r\n                <span className=\"text-xs text-gray-500\">من</span>\r\n                <input\r\n                  type=\"date\"\r\n                  className=\"border rounded px-3 py-1.5 text-sm\"\r\n                  value={fromDate}\r\n                  onChange={(e) => setFromDate(e.target.value)}\r\n                />\r\n              </div>\r\n              <div className=\"flex items-center gap-1\">\r\n                <span className=\"text-xs text-gray-500\">إلى</span>\r\n                <input\r\n                  type=\"date\"\r\n                  className=\"border rounded px-3 py-1.5 text-sm\"\r\n                  value={toDate}\r\n                  onChange={(e) => setToDate(e.target.value)}\r\n                />\r\n              </div>\r\n              <button\r\n                type=\"button\"\r\n                className=\"px-3 py-1.5 rounded border text-xs bg-white hover:bg-gray-50\"\r\n                onClick={() => setActiveReport('overview')}\r\n              >\r\n                الرجوع لقائمة التقارير\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {loading ? (\r\n            <div className=\"py-10 text-center text-gray-500 text-sm\">جاري تحميل التقرير...</div>\r\n          ) : (\r\n            <>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\">\r\n                <div className=\"bg-emerald-50 border border-emerald-100 rounded-lg p-4 text-center\">\r\n                  <div className=\"text-xs text-emerald-700 mb-1\">إجمالي الإيرادات</div>\r\n                  <div className=\"text-xl font-bold text-emerald-900\">{summary.income} جنيه</div>\r\n                </div>\r\n                <div className=\"bg-rose-50 border border-rose-100 rounded-lg p-4 text-center\">\r\n                  <div className=\"text-xs text-rose-700 mb-1\">إجمالي المصروفات</div>\r\n                  <div className=\"text-xl font-bold text-rose-900\">{summary.expense} جنيه</div>\r\n                </div>\r\n                <div className=\"bg-indigo-50 border border-indigo-100 rounded-lg p-4 text-center\">\r\n                  <div className=\"text-xs text-indigo-700 mb-1\">صافي الربح / الخسارة</div>\r\n                  <div className={`text-xl font-bold ${summary.net >= 0 ? 'text-indigo-900' : 'text-rose-900'}`}>{summary.net} جنيه</div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\r\n                <div className=\"border rounded-lg overflow-hidden\">\r\n                  <div className=\"px-3 py-2 bg-gray-50 border-b text-sm font-semibold text-gray-700\">حسب الفئة</div>\r\n                  {byCategory.length === 0 ? (\r\n                    <div className=\"py-6 text-center text-xs text-gray-400\">لا توجد معاملات في هذه الفترة.</div>\r\n                  ) : (\r\n                    <table className=\"min-w-full text-xs\">\r\n                      <thead className=\"bg-white\">\r\n                        <tr className=\"text-right text-gray-600\">\r\n                          <th className=\"px-3 py-2\">الفئة</th>\r\n                          <th className=\"px-3 py-2\">إيرادات</th>\r\n                          <th className=\"px-3 py-2\">مصروفات</th>\r\n                          <th className=\"px-3 py-2\">صافي</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {byCategory.map((row) => {\r\n                          const net = (row.income || 0) - (row.expense || 0);\r\n                          return (\r\n                            <tr key={row.category_id || 'none'} className=\"border-t hover:bg-gray-50\">\r\n                              <td className=\"px-3 py-1.5 text-[11px] text-gray-800\">{catName(row.category_id)}</td>\r\n                              <td className=\"px-3 py-1.5 text-[11px] text-emerald-700 font-semibold\">{row.income || 0}</td>\r\n                              <td className=\"px-3 py-1.5 text-[11px] text-rose-700 font-semibold\">{row.expense || 0}</td>\r\n                              <td className={`px-3 py-1.5 text-[11px] font-semibold ${net >= 0 ? 'text-indigo-800' : 'text-rose-800'}`}>{net}</td>\r\n                            </tr>\r\n                          );\r\n                        })}\r\n                      </tbody>\r\n                    </table>\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"border rounded-lg overflow-hidden\">\r\n                  <div className=\"px-3 py-2 bg-gray-50 border-b text-sm font-semibold text-gray-700\">حسب طريقة الدفع</div>\r\n                  {byPayment.length === 0 ? (\r\n                    <div className=\"py-6 text-center text-xs text-gray-400\">لا توجد معاملات في هذه الفترة.</div>\r\n                  ) : (\r\n                    <table className=\"min-w-full text-xs\">\r\n                      <thead className=\"bg-white\">\r\n                        <tr className=\"text-right text-gray-600\">\r\n                          <th className=\"px-3 py-2\">طريقة الدفع</th>\r\n                          <th className=\"px-3 py-2\">إيرادات</th>\r\n                          <th className=\"px-3 py-2\">مصروفات</th>\r\n                          <th className=\"px-3 py-2\">صافي</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {byPayment.map((row) => {\r\n                          const net = (row.income || 0) - (row.expense || 0);\r\n                          return (\r\n                            <tr key={row.payment_method} className=\"border-t hover:bg-gray-50\">\r\n                              <td className=\"px-3 py-1.5 text-[11px] text-gray-800\">{paymentLabel(row.payment_method)}</td>\r\n                              <td className=\"px-3 py-1.5 text-[11px] text-emerald-700 font-semibold\">{row.income || 0}</td>\r\n                              <td className=\"px-3 py-1.5 text-[11px] text-rose-700 font-semibold\">{row.expense || 0}</td>\r\n                              <td className={`px-3 py-1.5 text-[11px] font-semibold ${net >= 0 ? 'text-indigo-800' : 'text-rose-800'}`}>{net}</td>\r\n                            </tr>\r\n                          );\r\n                        })}\r\n                      </tbody>\r\n                    </table>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </>\r\n          )}\r\n        </>\r\n      ) : activeReport === 'wallets' ? (\r\n        <>\r\n          <div className=\"flex flex-wrap items-center justify-between gap-3 mb-4\">\r\n            <div>\r\n              <h2 className=\"text-lg font-semibold text-gray-800 mb-1\">تقرير حركة الخزنة والمحافظ</h2>\r\n              <p className=\"text-xs text-gray-500\">حركة التحصيل والصرف والتحويلات على الكاش و Instapay والكاش الإلكتروني خلال الفترة المختارة.</p>\r\n            </div>\r\n            <div className=\"flex flex-wrap items-center gap-2 text-sm\">\r\n              <div className=\"flex items-center gap-1\">\r\n                <span className=\"text-xs text-gray-500\">من</span>\r\n                <input\r\n                  type=\"date\"\r\n                  className=\"border rounded px-3 py-1.5 text-sm\"\r\n                  value={fromDate}\r\n                  onChange={(e) => setFromDate(e.target.value)}\r\n                />\r\n              </div>\r\n              <div className=\"flex items-center gap-1\">\r\n                <span className=\"text-xs text-gray-500\">إلى</span>\r\n                <input\r\n                  type=\"date\"\r\n                  className=\"border rounded px-3 py-1.5 text-sm\"\r\n                  value={toDate}\r\n                  onChange={(e) => setToDate(e.target.value)}\r\n                />\r\n              </div>\r\n              <select\r\n                className=\"border rounded px-2 py-1.5 text-xs\"\r\n                value={walletMethodFilter}\r\n                onChange={(e) => setWalletMethodFilter(e.target.value)}\r\n              >\r\n                <option value=\"\">كل المحافظ</option>\r\n                <option value=\"cash\">نقدي (خزنة)</option>\r\n                <option value=\"instapay\">إنستاباي / بطاقة بنكية</option>\r\n                <option value=\"other\">محفظة إلكترونية</option>\r\n              </select>\r\n              <select\r\n                className=\"border rounded px-2 py-1.5 text-xs\"\r\n                value={walletStatusFilter}\r\n                onChange={(e) => setWalletStatusFilter(e.target.value)}\r\n              >\r\n                <option value=\"\">كل الحالات</option>\r\n                <option value=\"pending\">معلّقة</option>\r\n                <option value=\"confirmed\">مؤكدة</option>\r\n                <option value=\"rejected\">مرفوضة</option>\r\n              </select>\r\n              <button\r\n                type=\"button\"\r\n                className=\"px-3 py-1.5 rounded border text-xs bg-white hover:bg-gray-50\"\r\n                onClick={() => setActiveReport('overview')}\r\n              >\r\n                الرجوع لقائمة التقارير\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {loading ? (\r\n            <div className=\"py-10 text-center text-gray-500 text-sm\">جاري تحميل التقرير...</div>\r\n          ) : (\r\n            <>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\">\r\n                <div className=\"bg-emerald-50 border border-emerald-100 rounded-lg p-4 text-center\">\r\n                  <div className=\"text-xs text-emerald-700 mb-1\">إجمالي المبالغ الداخلة</div>\r\n                  <div className=\"text-xl font-bold text-emerald-900\">{walletSummary.totalIn} جنيه</div>\r\n                </div>\r\n                <div className=\"bg-rose-50 border border-rose-100 rounded-lg p-4 text-center\">\r\n                  <div className=\"text-xs text-rose-700 mb-1\">إجمالي المبالغ الخارجة</div>\r\n                  <div className=\"text-xl font-bold text-rose-900\">{walletSummary.totalOut} جنيه</div>\r\n                </div>\r\n                <div className=\"bg-indigo-50 border border-indigo-100 rounded-lg p-4 text-center\">\r\n                  <div className=\"text-xs text-indigo-700 mb-1\">صافي الحركة</div>\r\n                  <div className={`text-xl font-bold ${walletSummary.net >= 0 ? 'text-indigo-900' : 'text-rose-900'}`}>{walletSummary.net} جنيه</div>\r\n                </div>\r\n                <div className=\"bg-purple-50 border border-purple-100 rounded-lg p-4 text-center\">\r\n                  <div className=\"text-xs text-purple-700 mb-1\">عدد التحويلات الداخلية</div>\r\n                  <div className=\"text-xl font-bold text-purple-900\">{walletSummary.transferCount}</div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\">\r\n                <div className=\"bg-sky-50 border border-sky-100 rounded-lg p-4 text-center\">\r\n                  <div className=\"text-xs text-sky-700 mb-1\">عدد العمليات المؤكدة</div>\r\n                  <div className=\"text-xl font-bold text-sky-900\">{walletSummary.confirmedCount}</div>\r\n                </div>\r\n                <div className=\"bg-amber-50 border border-amber-100 rounded-lg p-4 text-center\">\r\n                  <div className=\"text-xs text-amber-700 mb-1\">عدد العمليات المعلّقة</div>\r\n                  <div className=\"text-xl font-bold text-amber-900\">{walletSummary.pendingCount}</div>\r\n                </div>\r\n                <div className=\"bg-gray-50 border border-gray-200 rounded-lg p-4 text-center\">\r\n                  <div className=\"text-xs text-gray-700 mb-1\">إجمالي عدد الحركات</div>\r\n                  <div className=\"text-xl font-bold text-gray-900\">{walletRows.length}</div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"border rounded-lg overflow-hidden\">\r\n                <div className=\"px-3 py-2 bg-gray-50 border-b text-sm font-semibold text-gray-700 flex items-center justify-between\">\r\n                  <span>تفاصيل حركات الخزنة والمحافظ</span>\r\n                  <span className=\"text-[11px] text-gray-400\">إجمالي السجلات: {walletRows.length}</span>\r\n                </div>\r\n                {walletRows.length === 0 ? (\r\n                  <div className=\"py-6 text-center text-xs text-gray-400\">لا توجد حركات مطابقة للفلاتر الحالية.</div>\r\n                ) : (\r\n                  <div className=\"overflow-x-auto\">\r\n                    <table className=\"min-w-full text-xs\">\r\n                      <thead className=\"bg-white\">\r\n                        <tr className=\"text-right text-gray-600\">\r\n                          <th className=\"px-3 py-2\">التاريخ</th>\r\n                          <th className=\"px-3 py-2\">النوع</th>\r\n                          <th className=\"px-3 py-2\">المبلغ</th>\r\n                          <th className=\"px-3 py-2\">المحفظة</th>\r\n                          <th className=\"px-3 py-2\">الحالة</th>\r\n                          <th className=\"px-3 py-2\">المصدر</th>\r\n                          <th className=\"px-3 py-2\">الوصف</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {walletRows.map((row) => (\r\n                          <tr key={row.id} className=\"border-t hover:bg-gray-50\">\r\n                            <td className=\"px-3 py-1.5 whitespace-nowrap text-[11px] text-gray-700\">{row.tx_date}</td>\r\n                            <td className={`px-3 py-1.5 text-[11px] font-semibold ${row.direction === 'income' ? 'text-emerald-700' : 'text-rose-700'}`}>\r\n                              {row.direction === 'income' ? 'دخول' : 'خروج'}\r\n                            </td>\r\n                            <td className=\"px-3 py-1.5 text-[11px] text-gray-800 font-semibold\">{Number(row.amount || 0)}</td>\r\n                            <td className=\"px-3 py-1.5 text-[11px] text-gray-700\">{paymentLabel(row.payment_method)}</td>\r\n                            <td className=\"px-3 py-1.5 text-[11px] text-gray-700\">{row.status === 'confirmed' ? 'مؤكدة' : row.status === 'pending' ? 'معلّقة' : 'مرفوضة'}</td>\r\n                            <td className=\"px-3 py-1.5 text-[11px] text-gray-700\">\r\n                              {row.source_type === 'transfer' ? 'تحويل داخلي' : row.source_type === 'reservation' ? 'من الحجوزات' : 'عملية يدوية'}\r\n                            </td>\r\n                            <td className=\"px-3 py-1.5 text-[11px] text-gray-700 max-w-xs whitespace-normal break-words\">{row.description}</td>\r\n                          </tr>\r\n                        ))}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </>\r\n          )}\r\n        </>\r\n      ) : (\r\n        <>\r\n          <div className=\"flex flex-wrap items-center justify-between gap-3 mb-4\">\r\n            <div>\r\n              <h2 className=\"text-lg font-semibold text-gray-800 mb-1\">تقرير استرداد الحجوزات</h2>\r\n              <p className=\"text-xs text-gray-500\">ملخص استردادات الحجوزات (مصروفات مرتبطة بالحجوزات) خلال الفترة المختارة.</p>\r\n            </div>\r\n            <div className=\"flex flex-wrap items-center gap-2 text-sm\">\r\n              <div className=\"flex items-center gap-1\">\r\n                <span className=\"text-xs text-gray-500\">من</span>\r\n                <input\r\n                  type=\"date\"\r\n                  className=\"border rounded px-3 py-1.5 text-sm\"\r\n                  value={fromDate}\r\n                  onChange={(e) => setFromDate(e.target.value)}\r\n                />\r\n              </div>\r\n              <div className=\"flex items-center gap-1\">\r\n                <span className=\"text-xs text-gray-500\">إلى</span>\r\n                <input\r\n                  type=\"date\"\r\n                  className=\"border rounded px-3 py-1.5 text-sm\"\r\n                  value={toDate}\r\n                  onChange={(e) => setToDate(e.target.value)}\r\n                />\r\n              </div>\r\n              <button\r\n                type=\"button\"\r\n                className=\"px-3 py-1.5 rounded border text-xs bg-white hover:bg-gray-50\"\r\n                onClick={() => setActiveReport('overview')}\r\n              >\r\n                الرجوع لقائمة التقارير\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {loading ? (\r\n            <div className=\"py-10 text-center text-gray-500 text-sm\">جاري تحميل التقرير...</div>\r\n          ) : (\r\n            <>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\">\r\n                <div className=\"bg-rose-50 border border-rose-100 rounded-lg p-4 text-center\">\r\n                  <div className=\"text-xs text-rose-700 mb-1\">إجمالي استردادات مؤكدة</div>\r\n                  <div className=\"text-xl font-bold text-rose-900\">{refundSummary.confirmedTotal} جنيه</div>\r\n                </div>\r\n                <div className=\"bg-amber-50 border border-amber-100 rounded-lg p-4 text-center\">\r\n                  <div className=\"text-xs text-amber-700 mb-1\">إجمالي استردادات معلّقة</div>\r\n                  <div className=\"text-xl font-bold text-amber-900\">{refundSummary.pendingTotal} جنيه</div>\r\n                </div>\r\n                <div className=\"bg-rose-50 border border-rose-100 rounded-lg p-4 text-center\">\r\n                  <div className=\"text-xs text-rose-700 mb-1\">عدد العمليات المؤكدة</div>\r\n                  <div className=\"text-xl font-bold text-rose-900\">{refundSummary.confirmedCount}</div>\r\n                </div>\r\n                <div className=\"bg-amber-50 border border-amber-100 rounded-lg p-4 text-center\">\r\n                  <div className=\"text-xs text-amber-700 mb-1\">عدد العمليات المعلّقة</div>\r\n                  <div className=\"text-xl font-bold text-amber-900\">{refundSummary.pendingCount}</div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"border rounded-lg overflow-hidden\">\r\n                <div className=\"px-3 py-2 bg-gray-50 border-b text-sm font-semibold text-gray-700 flex items-center justify-between\">\r\n                  <span>تفاصيل عمليات استرداد الحجوزات</span>\r\n                  <span className=\"text-[11px] text-gray-400\">إجمالي السجلات: {refundRows.length}</span>\r\n                </div>\r\n                {refundRows.length === 0 ? (\r\n                  <div className=\"py-6 text-center text-xs text-gray-400\">لا توجد عمليات استرداد مطابقة للفترة المختارة.</div>\r\n                ) : (\r\n                  <div className=\"overflow-x-auto\">\r\n                    <table className=\"min-w-full text-xs\">\r\n                      <thead className=\"bg-white\">\r\n                        <tr className=\"text-right text-gray-600\">\r\n                          <th className=\"px-3 py-2\">التاريخ</th>\r\n                          <th className=\"px-3 py-2\">المبلغ</th>\r\n                          <th className=\"px-3 py-2\">طريقة الدفع / المحفظة</th>\r\n                          <th className=\"px-3 py-2\">الحالة</th>\r\n                          <th className=\"px-3 py-2\">الوصف</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {refundRows.map((row) => (\r\n                          <tr key={row.id} className=\"border-t hover:bg-gray-50\">\r\n                            <td className=\"px-3 py-1.5 whitespace-nowrap text-[11px] text-gray-700\">{row.tx_date}</td>\r\n                            <td className=\"px-3 py-1.5 text-[11px] text-rose-700 font-semibold\">{Number(row.amount || 0)}</td>\r\n                            <td className=\"px-3 py-1.5 text-[11px] text-gray-700\">{paymentLabel(row.payment_method)}</td>\r\n                            <td className=\"px-3 py-1.5 text-[11px] text-gray-700\">{row.status === 'confirmed' ? 'مؤكدة' : row.status === 'pending' ? 'معلّقة' : 'مرفوضة'}</td>\r\n                            <td className=\"px-3 py-1.5 text-[11px] text-gray-700 max-w-xs whitespace-normal break-words\">{row.description}</td>\r\n                          </tr>\r\n                        ))}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </>\r\n          )}\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
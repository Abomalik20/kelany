{"ast":null,"code":"var _jsxFileName = \"F:\\\\kelany\\\\src\\\\pages\\\\Accounting.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { supabase } from '../supabaseClient';\nimport CashboxModal from '../components/CashboxModal.jsx';\nimport AccountingIncomeModal from '../components/AccountingIncomeModal.jsx';\nimport AccountingExpenseModal from '../components/AccountingExpenseModal.jsx';\nimport BankAccountsModal from '../components/BankAccountsModal.jsx';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Accounting() {\n  _s();\n  const [activeTab, setActiveTab] = useState('dashboard');\n  const [loading, setLoading] = useState(true);\n  const [stats, setStats] = useState({\n    todayIncome: 0,\n    todayExpense: 0,\n    todayNet: 0,\n    monthIncome: 0,\n    monthExpense: 0,\n    monthNet: 0\n  });\n  const [showCashbox, setShowCashbox] = useState(false);\n  const [showIncome, setShowIncome] = useState(false);\n  const [showExpense, setShowExpense] = useState(false);\n  const [showBanks, setShowBanks] = useState(false);\n  const todayLabel = useMemo(() => {\n    try {\n      return new Date().toLocaleDateString('ar-EG', {\n        weekday: 'long',\n        day: 'numeric',\n        month: 'long',\n        year: 'numeric'\n      });\n    } catch (_) {\n      return '';\n    }\n  }, []);\n  useEffect(() => {\n    async function loadStats() {\n      setLoading(true);\n      try {\n        const today = new Date();\n        const yyyyMmDd = today.toISOString().slice(0, 10);\n        const monthStart = new Date(today.getFullYear(), today.getMonth(), 1).toISOString().slice(0, 10);\n        const {\n          data: tx\n        } = await supabase.from('accounting_transactions').select('tx_date,direction,amount').gte('tx_date', monthStart).lte('tx_date', yyyyMmDd);\n        let todayIncome = 0;\n        let todayExpense = 0;\n        let monthIncome = 0;\n        let monthExpense = 0;\n        (tx || []).forEach(row => {\n          const amt = Number(row.amount || 0);\n          if (!amt) return;\n          const isIncome = row.direction === 'income';\n          if (row.tx_date === yyyyMmDd) {\n            if (isIncome) todayIncome += amt;else todayExpense += amt;\n          }\n          if (isIncome) monthIncome += amt;else monthExpense += amt;\n        });\n        setStats({\n          todayIncome,\n          todayExpense,\n          todayNet: todayIncome - todayExpense,\n          monthIncome,\n          monthExpense,\n          monthNet: monthIncome - monthExpense\n        });\n      } catch (e) {\n        console.error('loadStats error', e);\n      } finally {\n        setLoading(false);\n      }\n    }\n    loadStats();\n  }, []);\n  const refreshAfterTx = () => {\n    // بعد أي عملية مالية، نعيد تحميل الملخصات\n    try {\n      const evt = new Event('accounting-tx-updated');\n      window.dispatchEvent(evt);\n    } catch (_) {}\n  };\n  useEffect(() => {\n    const handler = () => {\n      // إعادة تحميل نفس المنطق بدون تكرار الكود بالكامل\n      (async () => {\n        try {\n          const today = new Date();\n          const yyyyMmDd = today.toISOString().slice(0, 10);\n          const monthStart = new Date(today.getFullYear(), today.getMonth(), 1).toISOString().slice(0, 10);\n          const {\n            data: tx\n          } = await supabase.from('accounting_transactions').select('tx_date,direction,amount').gte('tx_date', monthStart).lte('tx_date', yyyyMmDd);\n          let todayIncome = 0;\n          let todayExpense = 0;\n          let monthIncome = 0;\n          let monthExpense = 0;\n          (tx || []).forEach(row => {\n            const amt = Number(row.amount || 0);\n            if (!amt) return;\n            const isIncome = row.direction === 'income';\n            if (row.tx_date === yyyyMmDd) {\n              if (isIncome) todayIncome += amt;else todayExpense += amt;\n            }\n            if (isIncome) monthIncome += amt;else monthExpense += amt;\n          });\n          setStats({\n            todayIncome,\n            todayExpense,\n            todayNet: todayIncome - todayExpense,\n            monthIncome,\n            monthExpense,\n            monthNet: monthIncome - monthExpense\n          });\n        } catch (e) {\n          console.error('reload stats error', e);\n        }\n      })();\n    };\n    try {\n      window.addEventListener('accounting-tx-updated', handler);\n    } catch (_) {}\n    return () => {\n      try {\n        window.removeEventListener('accounting-tx-updated', handler);\n      } catch (_) {}\n    };\n  }, []);\n  const renderDashboardTab = () => /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-emerald-50 border border-emerald-100 rounded-lg p-4 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-emerald-700 mb-1\",\n          children: \"\\u0625\\u064A\\u0631\\u0627\\u062F\\u0627\\u062A \\u0627\\u0644\\u064A\\u0648\\u0645\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xl font-bold text-emerald-900\",\n          children: [stats.todayIncome, \" \\u062C\\u0646\\u064A\\u0647\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-rose-50 border border-rose-100 rounded-lg p-4 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-rose-700 mb-1\",\n          children: \"\\u0645\\u0635\\u0631\\u0648\\u0641\\u0627\\u062A \\u0627\\u0644\\u064A\\u0648\\u0645\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xl font-bold text-rose-900\",\n          children: [stats.todayExpense, \" \\u062C\\u0646\\u064A\\u0647\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-blue-50 border border-blue-100 rounded-lg p-4 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-blue-700 mb-1\",\n          children: \"\\u0635\\u0627\\u0641\\u064A \\u0627\\u0644\\u064A\\u0648\\u0645\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xl font-bold text-blue-900\",\n          children: [stats.todayNet, \" \\u062C\\u0646\\u064A\\u0647\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-indigo-50 border border-indigo-100 rounded-lg p-4 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-indigo-700 mb-1\",\n          children: \"\\u0635\\u0627\\u0641\\u064A \\u0627\\u0644\\u0634\\u0647\\u0631 \\u0627\\u0644\\u062D\\u0627\\u0644\\u064A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xl font-bold text-indigo-900\",\n          children: [stats.monthNet, \" \\u062C\\u0646\\u064A\\u0647\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => setShowCashbox(true),\n        className: \"bg-amber-50 hover:bg-amber-100 border border-amber-200 rounded-lg p-4 flex flex-col items-center justify-center gap-2 transition\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-2xl\",\n          children: \"\\uD83D\\uDCB0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-semibold text-amber-900\",\n          children: \"\\u0625\\u062F\\u0627\\u0631\\u0629 \\u0627\\u0644\\u062E\\u0632\\u0646\\u0629\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => setShowIncome(true),\n        className: \"bg-emerald-50 hover:bg-emerald-100 border border-emerald-200 rounded-lg p-4 flex flex-col items-center justify-center gap-2 transition\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-2xl\",\n          children: \"\\uD83D\\uDCC8\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-semibold text-emerald-900\",\n          children: \"\\u062A\\u0633\\u062C\\u064A\\u0644 \\u0625\\u064A\\u0631\\u0627\\u062F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => setShowExpense(true),\n        className: \"bg-rose-50 hover:bg-rose-100 border border-rose-200 rounded-lg p-4 flex flex-col items-center justify-center gap-2 transition\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-2xl\",\n          children: \"\\uD83D\\uDCC9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-semibold text-rose-900\",\n          children: \"\\u062A\\u0633\\u062C\\u064A\\u0644 \\u0645\\u0635\\u0631\\u0648\\u0641\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => setShowBanks(true),\n        className: \"bg-sky-50 hover:bg-sky-100 border border-sky-200 rounded-lg p-4 flex flex-col items-center justify-center gap-2 transition\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-2xl\",\n          children: \"\\uD83C\\uDFE6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-semibold text-sky-900\",\n          children: \"\\u062D\\u0633\\u0627\\u0628\\u0627\\u062A \\u0627\\u0644\\u0628\\u0646\\u0648\\u0643\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n  const renderTransactionsTab = () => /*#__PURE__*/_jsxDEV(AccountingTransactionsTab, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 203,\n    columnNumber: 5\n  }, this);\n  const renderAccountsTreeTab = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-sm text-gray-500 p-4 bg-white rounded-lg border\",\n    children: \"\\u0633\\u064A\\u062A\\u0645 \\u0647\\u0646\\u0627 \\u0639\\u0631\\u0636 \\u0641\\u0626\\u0627\\u062A \\u0627\\u0644\\u0625\\u064A\\u0631\\u0627\\u062F\\u0627\\u062A \\u0648\\u0627\\u0644\\u0645\\u0635\\u0631\\u0648\\u0641\\u0627\\u062A \\u0628\\u0634\\u0643\\u0644 \\u0645\\u0646\\u0638\\u0645 (\\u0634\\u062C\\u0631\\u0629 \\u0645\\u0628\\u0633\\u0637\\u0629) \\u0645\\u0639 \\u0625\\u0645\\u0643\\u0627\\u0646\\u064A\\u0629 \\u0625\\u0636\\u0627\\u0641\\u0629 \\u0641\\u0626\\u0627\\u062A \\u062C\\u062F\\u064A\\u062F\\u0629.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 207,\n    columnNumber: 5\n  }, this);\n  const renderReportsTab = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-sm text-gray-500 p-4 bg-white rounded-lg border\",\n    children: \"\\u0633\\u064A\\u062A\\u0645 \\u0647\\u0646\\u0627 \\u0644\\u0627\\u062D\\u0642\\u064B\\u0627 \\u0625\\u0636\\u0627\\u0641\\u0629 \\u0627\\u0644\\u062A\\u0642\\u0627\\u0631\\u064A\\u0631 \\u0627\\u0644\\u0645\\u0627\\u0644\\u064A\\u0629 (\\u0642\\u0627\\u0626\\u0645\\u0629 \\u0627\\u0644\\u062F\\u062E\\u0644\\u060C \\u0645\\u0644\\u062E\\u0635 \\u0641\\u062A\\u0631\\u0629\\u060C \\u0625\\u0644\\u062E).\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 213,\n    columnNumber: 5\n  }, this);\n  const renderActiveTab = () => {\n    switch (activeTab) {\n      case 'dashboard':\n        return renderDashboardTab();\n      case 'transactions':\n        return renderTransactionsTab();\n      case 'accounts-tree':\n        return renderAccountsTreeTab();\n      case 'reports':\n        return renderReportsTab();\n      default:\n        return renderDashboardTab();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col gap-6 p-6 bg-gray-50 min-h-screen\",\n    dir: \"rtl\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bg-yellow-400 text-white px-4 py-2 rounded\",\n          children: \"\\u0646\\u0633\\u062E\\u0629 \\u0627\\u062D\\u062A\\u064A\\u0627\\u0637\\u064A\\u0629\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bg-white border rounded p-2\",\n          title: \"\\u0627\\u0644\\u0625\\u0634\\u0639\\u0627\\u0631\\u0627\\u062A\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            role: \"img\",\n            \"aria-label\": \"\\u062A\\u0646\\u0628\\u064A\\u0647\",\n            children: \"\\uD83D\\uDD14\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 77\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-gray-600 text-sm\",\n        children: todayLabel\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold text-gray-800 mb-1\",\n        children: \"\\u0627\\u0644\\u0646\\u0638\\u0627\\u0645 \\u0627\\u0644\\u0645\\u062D\\u0627\\u0633\\u0628\\u064A \\u0627\\u0644\\u0630\\u0643\\u064A\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-gray-500\",\n        children: \"\\u0625\\u062F\\u0627\\u0631\\u0629 \\u0643\\u0627\\u0645\\u0644\\u0629 \\u0644\\u0644\\u0645\\u0639\\u0644\\u0648\\u0645\\u0627\\u062A \\u0627\\u0644\\u0645\\u0627\\u0644\\u064A\\u0629 \\u0648\\u0627\\u0644\\u0645\\u0639\\u0627\\u0645\\u0644\\u0627\\u062A \\u0627\\u0644\\u064A\\u0648\\u0645\\u064A\\u0629 \\u0644\\u0644\\u0641\\u0646\\u062F\\u0642.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-wrap gap-2 bg-white rounded-lg p-2 border\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => setActiveTab('dashboard'),\n        className: `px-4 py-2 rounded text-sm ${activeTab === 'dashboard' ? 'bg-blue-600 text-white' : 'bg-gray-50 text-gray-700 hover:bg-gray-100'}`,\n        children: \"\\u0644\\u0648\\u062D\\u0629 \\u0627\\u0644\\u0645\\u0639\\u0644\\u0648\\u0645\\u0627\\u062A\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => setActiveTab('transactions'),\n        className: `px-4 py-2 rounded text-sm ${activeTab === 'transactions' ? 'bg-blue-600 text-white' : 'bg-gray-50 text-gray-700 hover:bg-gray-100'}`,\n        children: \"\\u0627\\u0644\\u0645\\u0639\\u0627\\u0645\\u0644\\u0627\\u062A\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => setActiveTab('accounts-tree'),\n        className: `px-4 py-2 rounded text-sm ${activeTab === 'accounts-tree' ? 'bg-blue-600 text-white' : 'bg-gray-50 text-gray-700 hover:bg-gray-100'}`,\n        children: \"\\u0634\\u062C\\u0631\\u0629 \\u0627\\u0644\\u062D\\u0633\\u0627\\u0628\\u0627\\u062A\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => setActiveTab('reports'),\n        className: `px-4 py-2 rounded text-sm ${activeTab === 'reports' ? 'bg-blue-600 text-white' : 'bg-gray-50 text-gray-700 hover:bg-gray-100'}`,\n        children: \"\\u0627\\u0644\\u062A\\u0642\\u0627\\u0631\\u064A\\u0631\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg p-6 text-center text-gray-500 border\",\n      children: \"\\u062C\\u0627\\u0631\\u064A \\u062A\\u062D\\u0645\\u064A\\u0644 \\u0645\\u0644\\u062E\\u0635 \\u0627\\u0644\\u0645\\u062D\\u0627\\u0633\\u0628\\u0629...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 9\n    }, this) : renderActiveTab(), showCashbox && /*#__PURE__*/_jsxDEV(CashboxModal, {\n      onClose: () => setShowCashbox(false),\n      onDone: () => {\n        setShowCashbox(false);\n        refreshAfterTx();\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 9\n    }, this), showIncome && /*#__PURE__*/_jsxDEV(AccountingIncomeModal, {\n      onClose: () => setShowIncome(false),\n      onDone: () => {\n        setShowIncome(false);\n        refreshAfterTx();\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 9\n    }, this), showExpense && /*#__PURE__*/_jsxDEV(AccountingExpenseModal, {\n      onClose: () => setShowExpense(false),\n      onDone: () => {\n        setShowExpense(false);\n        refreshAfterTx();\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 9\n    }, this), showBanks && /*#__PURE__*/_jsxDEV(BankAccountsModal, {\n      onClose: () => setShowBanks(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 234,\n    columnNumber: 5\n  }, this);\n}\n_s(Accounting, \"bl13d7oYbnfPYHeUNc4rBQosrQo=\");\n_c = Accounting;\nfunction AccountingTransactionsTab() {\n  _s2();\n  const [rows, setRows] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [search, setSearch] = useState('');\n  const [debounced, setDebounced] = useState('');\n  const [direction, setDirection] = useState('');\n  const [paymentMethod, setPaymentMethod] = useState('');\n  const [fromDate, setFromDate] = useState('');\n  const [toDate, setToDate] = useState('');\n  const [page, setPage] = useState(0);\n  const [pageSize, setPageSize] = useState(20);\n  const [totalCount, setTotalCount] = useState(0);\n  const [categories, setCategories] = useState([]);\n  useEffect(() => {\n    const t = setTimeout(() => setDebounced(search), 350);\n    return () => clearTimeout(t);\n  }, [search]);\n  useEffect(() => {\n    const loadCats = async () => {\n      try {\n        const {\n          data\n        } = await supabase.from('accounting_categories').select('id,name,type').eq('active', true).order('type', {\n          ascending: true\n        });\n        setCategories(data || []);\n      } catch (e) {\n        console.error('load accounting categories error', e);\n      }\n    };\n    loadCats();\n  }, []);\n  const buildQuery = React.useCallback(() => {\n    const q = supabase.from('accounting_transactions').select('id,tx_date,direction,amount,payment_method,description,source_type,reservation_id,category_id', {\n      count: 'exact'\n    }).order('tx_date', {\n      ascending: false\n    }).order('created_at', {\n      ascending: false\n    });\n    if (direction) q.eq('direction', direction);\n    if (paymentMethod) q.eq('payment_method', paymentMethod);\n    if (fromDate) q.gte('tx_date', fromDate);\n    if (toDate) q.lte('tx_date', toDate);\n    const term = (debounced || '').trim();\n    if (term) {\n      q.ilike('description', `%${term}%`);\n    }\n    const from = page * pageSize;\n    const to = from + pageSize - 1;\n    q.range(from, to);\n    return q;\n  }, [debounced, direction, paymentMethod, fromDate, toDate, page, pageSize]);\n  const load = React.useCallback(async () => {\n    setLoading(true);\n    try {\n      const {\n        data,\n        error,\n        count\n      } = await buildQuery();\n      if (error) throw error;\n      setRows(data || []);\n      setTotalCount(count || 0);\n    } catch (e) {\n      console.error('load accounting transactions error', e);\n      setRows([]);\n      setTotalCount(0);\n    } finally {\n      setLoading(false);\n    }\n  }, [buildQuery]);\n  useEffect(() => {\n    load();\n  }, [load]);\n  useEffect(() => {\n    const handler = () => {\n      load();\n    };\n    try {\n      window.addEventListener('accounting-tx-updated', handler);\n    } catch (_) {}\n    return () => {\n      try {\n        window.removeEventListener('accounting-tx-updated', handler);\n      } catch (_) {}\n    };\n  }, [load]);\n  const catName = id => {\n    if (!id) return '-';\n    const c = categories.find(x => x.id === id);\n    return c ? c.name : '-';\n  };\n  const directionBadge = d => {\n    const common = 'inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium';\n    if (d === 'income') return /*#__PURE__*/_jsxDEV(\"span\", {\n      className: `${common} bg-emerald-50 text-emerald-700 border border-emerald-200`,\n      children: \"\\u0625\\u064A\\u0631\\u0627\\u062F\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 32\n    }, this);\n    if (d === 'expense') return /*#__PURE__*/_jsxDEV(\"span\", {\n      className: `${common} bg-rose-50 text-rose-700 border border-rose-200`,\n      children: \"\\u0645\\u0635\\u0631\\u0648\\u0641\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 33\n    }, this);\n    return null;\n  };\n  const paymentLabel = m => {\n    switch (m) {\n      case 'cash':\n        return 'نقدي (خزنة)';\n      case 'bank':\n        return 'حساب بنكي';\n      case 'instapay':\n        return 'إنستاباي';\n      case 'vodafone_cash':\n        return 'فودافون كاش';\n      case 'etisalat_cash':\n        return 'اتصالات كاش';\n      default:\n        return 'أخرى';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-lg border p-4\",\n    dir: \"rtl\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-wrap items-center gap-3 mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative flex-1 min-w-[220px]\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-4 h-4\",\n            viewBox: \"0 0 24 24\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            strokeWidth: \"2\",\n            children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n              cx: \"11\",\n              cy: \"11\",\n              r: \"7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 108\n            }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M21 21l-4.3-4.3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 139\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 441,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 440,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"border rounded pl-9 pr-3 py-2 w-full text-sm\",\n          placeholder: \"\\u0628\\u062D\\u062B \\u0641\\u064A \\u0627\\u0644\\u0648\\u0635\\u0641\",\n          value: search,\n          onChange: e => {\n            setSearch(e.target.value);\n            setPage(0);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        className: \"border rounded px-3 py-2 text-sm\",\n        value: direction,\n        onChange: e => {\n          setDirection(e.target.value);\n          setPage(0);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"\\u0643\\u0644 \\u0627\\u0644\\u0623\\u0646\\u0648\\u0627\\u0639\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 455,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"income\",\n          children: \"\\u0625\\u064A\\u0631\\u0627\\u062F\\u0627\\u062A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"expense\",\n          children: \"\\u0645\\u0635\\u0631\\u0648\\u0641\\u0627\\u062A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 450,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        className: \"border rounded px-3 py-2 text-sm\",\n        value: paymentMethod,\n        onChange: e => {\n          setPaymentMethod(e.target.value);\n          setPage(0);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"\\u0643\\u0644 \\u0637\\u0631\\u0642 \\u0627\\u0644\\u062F\\u0641\\u0639\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"cash\",\n          children: \"\\u0646\\u0642\\u062F\\u064A (\\u062E\\u0632\\u0646\\u0629)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 465,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"bank\",\n          children: \"\\u062D\\u0633\\u0627\\u0628 \\u0628\\u0646\\u0643\\u064A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 466,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"instapay\",\n          children: \"\\u0625\\u0646\\u0633\\u062A\\u0627\\u0628\\u0627\\u064A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"vodafone_cash\",\n          children: \"\\u0641\\u0648\\u062F\\u0627\\u0641\\u0648\\u0646 \\u0643\\u0627\\u0634\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"etisalat_cash\",\n          children: \"\\u0627\\u062A\\u0635\\u0627\\u0644\\u0627\\u062A \\u0643\\u0627\\u0634\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"other\",\n          children: \"\\u0623\\u062E\\u0631\\u0649\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 459,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        className: \"border rounded px-3 py-2 text-sm\",\n        value: fromDate,\n        onChange: e => {\n          setFromDate(e.target.value);\n          setPage(0);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 472,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        className: \"border rounded px-3 py-2 text-sm\",\n        value: toDate,\n        onChange: e => {\n          setToDate(e.target.value);\n          setPage(0);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 478,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 438,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"py-12 text-center text-gray-500 text-sm\",\n      children: \"\\u062C\\u0627\\u0631\\u064A \\u062A\\u062D\\u0645\\u064A\\u0644 \\u0627\\u0644\\u0645\\u0639\\u0627\\u0645\\u0644\\u0627\\u062A \\u0627\\u0644\\u0645\\u0627\\u0644\\u064A\\u0629...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 487,\n      columnNumber: 9\n    }, this) : rows.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"py-12 text-center text-gray-400 text-sm\",\n      children: \"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u0645\\u0639\\u0627\\u0645\\u0644\\u0627\\u062A \\u0645\\u0637\\u0627\\u0628\\u0642\\u0629 \\u0644\\u0644\\u0628\\u062D\\u062B \\u0627\\u0644\\u062D\\u0627\\u0644\\u064A.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 489,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"overflow-x-auto border rounded bg-white\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"min-w-full text-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          className: \"bg-gray-50\",\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"text-right\",\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-3 py-2\",\n              children: \"\\u0627\\u0644\\u062A\\u0627\\u0631\\u064A\\u062E\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 495,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-3 py-2\",\n              children: \"\\u0627\\u0644\\u0646\\u0648\\u0639\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 496,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-3 py-2\",\n              children: \"\\u0627\\u0644\\u0641\\u0626\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-3 py-2\",\n              children: \"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 498,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-3 py-2\",\n              children: \"\\u0637\\u0631\\u064A\\u0642\\u0629 \\u0627\\u0644\\u062F\\u0641\\u0639\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 499,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"px-3 py-2\",\n              children: \"\\u0627\\u0644\\u0648\\u0635\\u0641\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 500,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 494,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 493,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: rows.map(r => /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"border-t hover:bg-gray-50\",\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-3 py-2 text-xs text-gray-600 whitespace-nowrap\",\n              children: r.tx_date\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 506,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-3 py-2\",\n              children: directionBadge(r.direction)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 507,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-3 py-2 text-sm\",\n              children: catName(r.category_id)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 508,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: `px-3 py-2 text-sm font-semibold ${r.direction === 'income' ? 'text-emerald-700' : 'text-rose-700'}`,\n              children: Number(r.amount || 0)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 509,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-3 py-2 text-sm text-gray-700\",\n              children: paymentLabel(r.payment_method)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 512,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-3 py-2 text-sm max-w-xl whitespace-normal break-words\",\n              children: r.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 513,\n              columnNumber: 19\n            }, this)]\n          }, r.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 505,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 503,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 492,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 491,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-gray-600\",\n        children: [\"\\u0627\\u0644\\u0646\\u062A\\u0627\\u0626\\u062C: \", rows.length, \" / \\u0627\\u0644\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A: \", totalCount]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 522,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"px-3 py-1 border rounded text-sm\",\n          onClick: () => setPage(p => Math.max(0, p - 1)),\n          disabled: page === 0,\n          children: \"\\u0627\\u0644\\u0633\\u0627\\u0628\\u0642\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 524,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm\",\n          children: [\"\\u0635\\u0641\\u062D\\u0629 \", page + 1]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 531,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"px-3 py-1 border rounded text-sm\",\n          onClick: () => setPage(p => p + 1),\n          disabled: (page + 1) * pageSize >= totalCount,\n          children: \"\\u0627\\u0644\\u062A\\u0627\\u0644\\u064A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 532,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"border rounded px-2 py-1 text-sm\",\n          value: pageSize,\n          onChange: e => {\n            setPageSize(Number(e.target.value));\n            setPage(0);\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: 20,\n            children: \"20\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 544,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: 50,\n            children: \"50\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 545,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 539,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 523,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 521,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 437,\n    columnNumber: 5\n  }, this);\n}\n_s2(AccountingTransactionsTab, \"4sifRy7x0SuudbYtC9jGu9Pjiyw=\");\n_c2 = AccountingTransactionsTab;\nvar _c, _c2;\n$RefreshReg$(_c, \"Accounting\");\n$RefreshReg$(_c2, \"AccountingTransactionsTab\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","supabase","CashboxModal","AccountingIncomeModal","AccountingExpenseModal","BankAccountsModal","jsxDEV","_jsxDEV","Fragment","_Fragment","Accounting","_s","activeTab","setActiveTab","loading","setLoading","stats","setStats","todayIncome","todayExpense","todayNet","monthIncome","monthExpense","monthNet","showCashbox","setShowCashbox","showIncome","setShowIncome","showExpense","setShowExpense","showBanks","setShowBanks","todayLabel","Date","toLocaleDateString","weekday","day","month","year","_","loadStats","today","yyyyMmDd","toISOString","slice","monthStart","getFullYear","getMonth","data","tx","from","select","gte","lte","forEach","row","amt","Number","amount","isIncome","direction","tx_date","e","console","error","refreshAfterTx","evt","Event","window","dispatchEvent","handler","addEventListener","removeEventListener","renderDashboardTab","children","className","fileName","_jsxFileName","lineNumber","columnNumber","type","onClick","renderTransactionsTab","AccountingTransactionsTab","renderAccountsTreeTab","renderReportsTab","renderActiveTab","dir","title","role","onClose","onDone","_c","_s2","rows","setRows","search","setSearch","debounced","setDebounced","setDirection","paymentMethod","setPaymentMethod","fromDate","setFromDate","toDate","setToDate","page","setPage","pageSize","setPageSize","totalCount","setTotalCount","categories","setCategories","t","setTimeout","clearTimeout","loadCats","eq","order","ascending","buildQuery","useCallback","q","count","term","trim","ilike","to","range","load","catName","id","c","find","x","name","directionBadge","d","common","paymentLabel","m","viewBox","fill","stroke","strokeWidth","cx","cy","r","placeholder","value","onChange","target","length","map","category_id","payment_method","description","p","Math","max","disabled","_c2","$RefreshReg$"],"sources":["F:/kelany/src/pages/Accounting.jsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\r\nimport { supabase } from '../supabaseClient';\r\nimport CashboxModal from '../components/CashboxModal.jsx';\r\nimport AccountingIncomeModal from '../components/AccountingIncomeModal.jsx';\r\nimport AccountingExpenseModal from '../components/AccountingExpenseModal.jsx';\r\nimport BankAccountsModal from '../components/BankAccountsModal.jsx';\r\n\r\nexport default function Accounting() {\r\n  const [activeTab, setActiveTab] = useState('dashboard');\r\n  const [loading, setLoading] = useState(true);\r\n  const [stats, setStats] = useState({\r\n    todayIncome: 0,\r\n    todayExpense: 0,\r\n    todayNet: 0,\r\n    monthIncome: 0,\r\n    monthExpense: 0,\r\n    monthNet: 0,\r\n  });\r\n\r\n  const [showCashbox, setShowCashbox] = useState(false);\r\n  const [showIncome, setShowIncome] = useState(false);\r\n  const [showExpense, setShowExpense] = useState(false);\r\n  const [showBanks, setShowBanks] = useState(false);\r\n\r\n  const todayLabel = useMemo(() => {\r\n    try {\r\n      return new Date().toLocaleDateString('ar-EG', {\r\n        weekday: 'long',\r\n        day: 'numeric',\r\n        month: 'long',\r\n        year: 'numeric',\r\n      });\r\n    } catch (_) {\r\n      return '';\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    async function loadStats() {\r\n      setLoading(true);\r\n      try {\r\n        const today = new Date();\r\n        const yyyyMmDd = today.toISOString().slice(0, 10);\r\n        const monthStart = new Date(today.getFullYear(), today.getMonth(), 1).toISOString().slice(0, 10);\r\n\r\n        const { data: tx } = await supabase\r\n          .from('accounting_transactions')\r\n          .select('tx_date,direction,amount')\r\n          .gte('tx_date', monthStart)\r\n          .lte('tx_date', yyyyMmDd);\r\n\r\n        let todayIncome = 0;\r\n        let todayExpense = 0;\r\n        let monthIncome = 0;\r\n        let monthExpense = 0;\r\n\r\n        (tx || []).forEach((row) => {\r\n          const amt = Number(row.amount || 0);\r\n          if (!amt) return;\r\n          const isIncome = row.direction === 'income';\r\n          if (row.tx_date === yyyyMmDd) {\r\n            if (isIncome) todayIncome += amt; else todayExpense += amt;\r\n          }\r\n          if (isIncome) monthIncome += amt; else monthExpense += amt;\r\n        });\r\n\r\n        setStats({\r\n          todayIncome,\r\n          todayExpense,\r\n          todayNet: todayIncome - todayExpense,\r\n          monthIncome,\r\n          monthExpense,\r\n          monthNet: monthIncome - monthExpense,\r\n        });\r\n      } catch (e) {\r\n        console.error('loadStats error', e);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n\r\n    loadStats();\r\n  }, []);\r\n\r\n  const refreshAfterTx = () => {\r\n    // بعد أي عملية مالية، نعيد تحميل الملخصات\r\n    try {\r\n      const evt = new Event('accounting-tx-updated');\r\n      window.dispatchEvent(evt);\r\n    } catch (_) {}\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handler = () => {\r\n      // إعادة تحميل نفس المنطق بدون تكرار الكود بالكامل\r\n      (async () => {\r\n        try {\r\n          const today = new Date();\r\n          const yyyyMmDd = today.toISOString().slice(0, 10);\r\n          const monthStart = new Date(today.getFullYear(), today.getMonth(), 1).toISOString().slice(0, 10);\r\n          const { data: tx } = await supabase\r\n            .from('accounting_transactions')\r\n            .select('tx_date,direction,amount')\r\n            .gte('tx_date', monthStart)\r\n            .lte('tx_date', yyyyMmDd);\r\n\r\n          let todayIncome = 0;\r\n          let todayExpense = 0;\r\n          let monthIncome = 0;\r\n          let monthExpense = 0;\r\n\r\n          (tx || []).forEach((row) => {\r\n            const amt = Number(row.amount || 0);\r\n            if (!amt) return;\r\n            const isIncome = row.direction === 'income';\r\n            if (row.tx_date === yyyyMmDd) {\r\n              if (isIncome) todayIncome += amt; else todayExpense += amt;\r\n            }\r\n            if (isIncome) monthIncome += amt; else monthExpense += amt;\r\n          });\r\n\r\n          setStats({\r\n            todayIncome,\r\n            todayExpense,\r\n            todayNet: todayIncome - todayExpense,\r\n            monthIncome,\r\n            monthExpense,\r\n            monthNet: monthIncome - monthExpense,\r\n          });\r\n        } catch (e) {\r\n          console.error('reload stats error', e);\r\n        }\r\n      })();\r\n    };\r\n\r\n    try {\r\n      window.addEventListener('accounting-tx-updated', handler);\r\n    } catch (_) {}\r\n    return () => {\r\n      try { window.removeEventListener('accounting-tx-updated', handler); } catch (_) {}\r\n    };\r\n  }, []);\r\n\r\n  const renderDashboardTab = () => (\r\n    <>\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\">\r\n        <div className=\"bg-emerald-50 border border-emerald-100 rounded-lg p-4 text-center\">\r\n          <div className=\"text-xs text-emerald-700 mb-1\">إيرادات اليوم</div>\r\n          <div className=\"text-xl font-bold text-emerald-900\">{stats.todayIncome} جنيه</div>\r\n        </div>\r\n        <div className=\"bg-rose-50 border border-rose-100 rounded-lg p-4 text-center\">\r\n          <div className=\"text-xs text-rose-700 mb-1\">مصروفات اليوم</div>\r\n          <div className=\"text-xl font-bold text-rose-900\">{stats.todayExpense} جنيه</div>\r\n        </div>\r\n        <div className=\"bg-blue-50 border border-blue-100 rounded-lg p-4 text-center\">\r\n          <div className=\"text-xs text-blue-700 mb-1\">صافي اليوم</div>\r\n          <div className=\"text-xl font-bold text-blue-900\">{stats.todayNet} جنيه</div>\r\n        </div>\r\n        <div className=\"bg-indigo-50 border border-indigo-100 rounded-lg p-4 text-center\">\r\n          <div className=\"text-xs text-indigo-700 mb-1\">صافي الشهر الحالي</div>\r\n          <div className=\"text-xl font-bold text-indigo-900\">{stats.monthNet} جنيه</div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\">\r\n        <button\r\n          type=\"button\"\r\n          onClick={() => setShowCashbox(true)}\r\n          className=\"bg-amber-50 hover:bg-amber-100 border border-amber-200 rounded-lg p-4 flex flex-col items-center justify-center gap-2 transition\"\r\n        >\r\n          <span className=\"text-2xl\">💰</span>\r\n          <span className=\"font-semibold text-amber-900\">إدارة الخزنة</span>\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          onClick={() => setShowIncome(true)}\r\n          className=\"bg-emerald-50 hover:bg-emerald-100 border border-emerald-200 rounded-lg p-4 flex flex-col items-center justify-center gap-2 transition\"\r\n        >\r\n          <span className=\"text-2xl\">📈</span>\r\n          <span className=\"font-semibold text-emerald-900\">تسجيل إيراد</span>\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          onClick={() => setShowExpense(true)}\r\n          className=\"bg-rose-50 hover:bg-rose-100 border border-rose-200 rounded-lg p-4 flex flex-col items-center justify-center gap-2 transition\"\r\n        >\r\n          <span className=\"text-2xl\">📉</span>\r\n          <span className=\"font-semibold text-rose-900\">تسجيل مصروف</span>\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          onClick={() => setShowBanks(true)}\r\n          className=\"bg-sky-50 hover:bg-sky-100 border border-sky-200 rounded-lg p-4 flex flex-col items-center justify-center gap-2 transition\"\r\n        >\r\n          <span className=\"text-2xl\">🏦</span>\r\n          <span className=\"font-semibold text-sky-900\">حسابات البنوك</span>\r\n        </button>\r\n      </div>\r\n    </>\r\n  );\r\n\r\n  const renderTransactionsTab = () => (\r\n    <AccountingTransactionsTab />\r\n  );\r\n\r\n  const renderAccountsTreeTab = () => (\r\n    <div className=\"text-sm text-gray-500 p-4 bg-white rounded-lg border\">\r\n      سيتم هنا عرض فئات الإيرادات والمصروفات بشكل منظم (شجرة مبسطة) مع إمكانية إضافة فئات جديدة.\r\n    </div>\r\n  );\r\n\r\n  const renderReportsTab = () => (\r\n    <div className=\"text-sm text-gray-500 p-4 bg-white rounded-lg border\">\r\n      سيتم هنا لاحقًا إضافة التقارير المالية (قائمة الدخل، ملخص فترة، إلخ).\r\n    </div>\r\n  );\r\n\r\n  const renderActiveTab = () => {\r\n    switch (activeTab) {\r\n      case 'dashboard':\r\n        return renderDashboardTab();\r\n      case 'transactions':\r\n        return renderTransactionsTab();\r\n      case 'accounts-tree':\r\n        return renderAccountsTreeTab();\r\n      case 'reports':\r\n        return renderReportsTab();\r\n      default:\r\n        return renderDashboardTab();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col gap-6 p-6 bg-gray-50 min-h-screen\" dir=\"rtl\">\r\n      <div className=\"flex justify-between items-center\">\r\n        <div className=\"flex gap-2\">\r\n          <button className=\"bg-yellow-400 text-white px-4 py-2 rounded\">نسخة احتياطية</button>\r\n          <button className=\"bg-white border rounded p-2\" title=\"الإشعارات\"><span role=\"img\" aria-label=\"تنبيه\">🔔</span></button>\r\n        </div>\r\n        <div className=\"text-gray-600 text-sm\">{todayLabel}</div>\r\n      </div>\r\n\r\n      <div>\r\n        <h1 className=\"text-2xl font-bold text-gray-800 mb-1\">النظام المحاسبي الذكي</h1>\r\n        <p className=\"text-sm text-gray-500\">إدارة كاملة للمعلومات المالية والمعاملات اليومية للفندق.</p>\r\n      </div>\r\n\r\n      <div className=\"flex flex-wrap gap-2 bg-white rounded-lg p-2 border\">\r\n        <button\r\n          type=\"button\"\r\n          onClick={() => setActiveTab('dashboard')}\r\n          className={`px-4 py-2 rounded text-sm ${activeTab === 'dashboard' ? 'bg-blue-600 text-white' : 'bg-gray-50 text-gray-700 hover:bg-gray-100'}`}\r\n        >\r\n          لوحة المعلومات\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          onClick={() => setActiveTab('transactions')}\r\n          className={`px-4 py-2 rounded text-sm ${activeTab === 'transactions' ? 'bg-blue-600 text-white' : 'bg-gray-50 text-gray-700 hover:bg-gray-100'}`}\r\n        >\r\n          المعاملات\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          onClick={() => setActiveTab('accounts-tree')}\r\n          className={`px-4 py-2 rounded text-sm ${activeTab === 'accounts-tree' ? 'bg-blue-600 text-white' : 'bg-gray-50 text-gray-700 hover:bg-gray-100'}`}\r\n        >\r\n          شجرة الحسابات\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          onClick={() => setActiveTab('reports')}\r\n          className={`px-4 py-2 rounded text-sm ${activeTab === 'reports' ? 'bg-blue-600 text-white' : 'bg-gray-50 text-gray-700 hover:bg-gray-100'}`}\r\n        >\r\n          التقارير\r\n        </button>\r\n      </div>\r\n\r\n      {loading ? (\r\n        <div className=\"bg-white rounded-lg p-6 text-center text-gray-500 border\">جاري تحميل ملخص المحاسبة...</div>\r\n      ) : (\r\n        renderActiveTab()\r\n      )}\r\n\r\n      {showCashbox && (\r\n        <CashboxModal\r\n          onClose={() => setShowCashbox(false)}\r\n          onDone={() => {\r\n            setShowCashbox(false);\r\n            refreshAfterTx();\r\n          }}\r\n        />\r\n      )}\r\n\r\n      {showIncome && (\r\n        <AccountingIncomeModal\r\n          onClose={() => setShowIncome(false)}\r\n          onDone={() => {\r\n            setShowIncome(false);\r\n            refreshAfterTx();\r\n          }}\r\n        />\r\n      )}\r\n\r\n      {showExpense && (\r\n        <AccountingExpenseModal\r\n          onClose={() => setShowExpense(false)}\r\n          onDone={() => {\r\n            setShowExpense(false);\r\n            refreshAfterTx();\r\n          }}\r\n        />\r\n      )}\r\n\r\n      {showBanks && (\r\n        <BankAccountsModal\r\n          onClose={() => setShowBanks(false)}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction AccountingTransactionsTab() {\r\n  const [rows, setRows] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [search, setSearch] = useState('');\r\n  const [debounced, setDebounced] = useState('');\r\n  const [direction, setDirection] = useState('');\r\n  const [paymentMethod, setPaymentMethod] = useState('');\r\n  const [fromDate, setFromDate] = useState('');\r\n  const [toDate, setToDate] = useState('');\r\n  const [page, setPage] = useState(0);\r\n  const [pageSize, setPageSize] = useState(20);\r\n  const [totalCount, setTotalCount] = useState(0);\r\n  const [categories, setCategories] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const t = setTimeout(() => setDebounced(search), 350);\r\n    return () => clearTimeout(t);\r\n  }, [search]);\r\n\r\n  useEffect(() => {\r\n    const loadCats = async () => {\r\n      try {\r\n        const { data } = await supabase\r\n          .from('accounting_categories')\r\n          .select('id,name,type')\r\n          .eq('active', true)\r\n          .order('type', { ascending: true });\r\n        setCategories(data || []);\r\n      } catch (e) {\r\n        console.error('load accounting categories error', e);\r\n      }\r\n    };\r\n    loadCats();\r\n  }, []);\r\n\r\n  const buildQuery = React.useCallback(() => {\r\n    const q = supabase\r\n      .from('accounting_transactions')\r\n      .select('id,tx_date,direction,amount,payment_method,description,source_type,reservation_id,category_id', { count: 'exact' })\r\n      .order('tx_date', { ascending: false })\r\n      .order('created_at', { ascending: false });\r\n\r\n    if (direction) q.eq('direction', direction);\r\n    if (paymentMethod) q.eq('payment_method', paymentMethod);\r\n    if (fromDate) q.gte('tx_date', fromDate);\r\n    if (toDate) q.lte('tx_date', toDate);\r\n\r\n    const term = (debounced || '').trim();\r\n    if (term) {\r\n      q.ilike('description', `%${term}%`);\r\n    }\r\n\r\n    const from = page * pageSize;\r\n    const to = from + pageSize - 1;\r\n    q.range(from, to);\r\n    return q;\r\n  }, [debounced, direction, paymentMethod, fromDate, toDate, page, pageSize]);\r\n\r\n  const load = React.useCallback(async () => {\r\n    setLoading(true);\r\n    try {\r\n      const { data, error, count } = await buildQuery();\r\n      if (error) throw error;\r\n      setRows(data || []);\r\n      setTotalCount(count || 0);\r\n    } catch (e) {\r\n      console.error('load accounting transactions error', e);\r\n      setRows([]);\r\n      setTotalCount(0);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [buildQuery]);\r\n\r\n  useEffect(() => { load(); }, [load]);\r\n\r\n  useEffect(() => {\r\n    const handler = () => {\r\n      load();\r\n    };\r\n    try {\r\n      window.addEventListener('accounting-tx-updated', handler);\r\n    } catch (_) {}\r\n    return () => {\r\n      try { window.removeEventListener('accounting-tx-updated', handler); } catch (_) {}\r\n    };\r\n  }, [load]);\r\n\r\n  const catName = (id) => {\r\n    if (!id) return '-';\r\n    const c = categories.find((x) => x.id === id);\r\n    return c ? c.name : '-';\r\n  };\r\n\r\n  const directionBadge = (d) => {\r\n    const common = 'inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium';\r\n    if (d === 'income') return <span className={`${common} bg-emerald-50 text-emerald-700 border border-emerald-200`}>إيراد</span>;\r\n    if (d === 'expense') return <span className={`${common} bg-rose-50 text-rose-700 border border-rose-200`}>مصروف</span>;\r\n    return null;\r\n  };\r\n\r\n  const paymentLabel = (m) => {\r\n    switch (m) {\r\n      case 'cash': return 'نقدي (خزنة)';\r\n      case 'bank': return 'حساب بنكي';\r\n      case 'instapay': return 'إنستاباي';\r\n      case 'vodafone_cash': return 'فودافون كاش';\r\n      case 'etisalat_cash': return 'اتصالات كاش';\r\n      default: return 'أخرى';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg border p-4\" dir=\"rtl\">\r\n      <div className=\"flex flex-wrap items-center gap-3 mb-4\">\r\n        <div className=\"relative flex-1 min-w-[220px]\">\r\n          <span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\">\r\n            <svg className=\"w-4 h-4\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\"><circle cx=\"11\" cy=\"11\" r=\"7\"/><path d=\"M21 21l-4.3-4.3\"/></svg>\r\n          </span>\r\n          <input\r\n            className=\"border rounded pl-9 pr-3 py-2 w-full text-sm\"\r\n            placeholder=\"بحث في الوصف\"\r\n            value={search}\r\n            onChange={(e) => { setSearch(e.target.value); setPage(0); }}\r\n          />\r\n        </div>\r\n        <select\r\n          className=\"border rounded px-3 py-2 text-sm\"\r\n          value={direction}\r\n          onChange={(e) => { setDirection(e.target.value); setPage(0); }}\r\n        >\r\n          <option value=\"\">كل الأنواع</option>\r\n          <option value=\"income\">إيرادات</option>\r\n          <option value=\"expense\">مصروفات</option>\r\n        </select>\r\n        <select\r\n          className=\"border rounded px-3 py-2 text-sm\"\r\n          value={paymentMethod}\r\n          onChange={(e) => { setPaymentMethod(e.target.value); setPage(0); }}\r\n        >\r\n          <option value=\"\">كل طرق الدفع</option>\r\n          <option value=\"cash\">نقدي (خزنة)</option>\r\n          <option value=\"bank\">حساب بنكي</option>\r\n          <option value=\"instapay\">إنستاباي</option>\r\n          <option value=\"vodafone_cash\">فودافون كاش</option>\r\n          <option value=\"etisalat_cash\">اتصالات كاش</option>\r\n          <option value=\"other\">أخرى</option>\r\n        </select>\r\n        <input\r\n          type=\"date\"\r\n          className=\"border rounded px-3 py-2 text-sm\"\r\n          value={fromDate}\r\n          onChange={(e) => { setFromDate(e.target.value); setPage(0); }}\r\n        />\r\n        <input\r\n          type=\"date\"\r\n          className=\"border rounded px-3 py-2 text-sm\"\r\n          value={toDate}\r\n          onChange={(e) => { setToDate(e.target.value); setPage(0); }}\r\n        />\r\n      </div>\r\n\r\n      {loading ? (\r\n        <div className=\"py-12 text-center text-gray-500 text-sm\">جاري تحميل المعاملات المالية...</div>\r\n      ) : rows.length === 0 ? (\r\n        <div className=\"py-12 text-center text-gray-400 text-sm\">لا توجد معاملات مطابقة للبحث الحالي.</div>\r\n      ) : (\r\n        <div className=\"overflow-x-auto border rounded bg-white\">\r\n          <table className=\"min-w-full text-sm\">\r\n            <thead className=\"bg-gray-50\">\r\n              <tr className=\"text-right\">\r\n                <th className=\"px-3 py-2\">التاريخ</th>\r\n                <th className=\"px-3 py-2\">النوع</th>\r\n                <th className=\"px-3 py-2\">الفئة</th>\r\n                <th className=\"px-3 py-2\">المبلغ</th>\r\n                <th className=\"px-3 py-2\">طريقة الدفع</th>\r\n                <th className=\"px-3 py-2\">الوصف</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {rows.map((r) => (\r\n                <tr key={r.id} className=\"border-t hover:bg-gray-50\">\r\n                  <td className=\"px-3 py-2 text-xs text-gray-600 whitespace-nowrap\">{r.tx_date}</td>\r\n                  <td className=\"px-3 py-2\">{directionBadge(r.direction)}</td>\r\n                  <td className=\"px-3 py-2 text-sm\">{catName(r.category_id)}</td>\r\n                  <td className={`px-3 py-2 text-sm font-semibold ${r.direction === 'income' ? 'text-emerald-700' : 'text-rose-700'}`}>\r\n                    {Number(r.amount || 0)}\r\n                  </td>\r\n                  <td className=\"px-3 py-2 text-sm text-gray-700\">{paymentLabel(r.payment_method)}</td>\r\n                  <td className=\"px-3 py-2 text-sm max-w-xl whitespace-normal break-words\">{r.description}</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"flex items-center justify-between mt-4\">\r\n        <div className=\"text-sm text-gray-600\">النتائج: {rows.length} / الإجمالي: {totalCount}</div>\r\n        <div className=\"flex items-center gap-2\">\r\n          <button\r\n            className=\"px-3 py-1 border rounded text-sm\"\r\n            onClick={() => setPage((p) => Math.max(0, p - 1))}\r\n            disabled={page === 0}\r\n          >\r\n            السابق\r\n          </button>\r\n          <span className=\"text-sm\">صفحة {page + 1}</span>\r\n          <button\r\n            className=\"px-3 py-1 border rounded text-sm\"\r\n            onClick={() => setPage((p) => p + 1)}\r\n            disabled={(page + 1) * pageSize >= totalCount}\r\n          >\r\n            التالي\r\n          </button>\r\n          <select\r\n            className=\"border rounded px-2 py-1 text-sm\"\r\n            value={pageSize}\r\n            onChange={(e) => { setPageSize(Number(e.target.value)); setPage(0); }}\r\n          >\r\n            <option value={20}>20</option>\r\n            <option value={50}>50</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
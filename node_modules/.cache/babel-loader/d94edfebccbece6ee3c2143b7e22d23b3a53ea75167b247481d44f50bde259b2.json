{"ast":null,"code":"var _jsxFileName = \"F:\\\\kelany\\\\src\\\\pages\\\\Reports.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { supabase } from '../supabaseClient';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Reports() {\n  _s();\n  const [loading, setLoading] = useState(true);\n  const [revenue, setRevenue] = useState({\n    total: 0,\n    month: 0,\n    week: 0,\n    today: 0\n  });\n  const [roomsStats, setRoomsStats] = useState({\n    total: 0,\n    available: 0,\n    reserved: 0,\n    occupied: 0,\n    maintenance: 0,\n    occupancyRate: 0\n  });\n  const [general, setGeneral] = useState({\n    guestsCount: 0,\n    currentGuests: 0,\n    totalReservations: 0\n  });\n  const [topRoomType, setTopRoomType] = useState({\n    name: '-',\n    count: 0\n  });\n  const [latestReservations, setLatestReservations] = useState([]);\n  useEffect(() => {\n    async function load() {\n      setLoading(true);\n      try {\n        const today = new Date();\n        const todayStr = today.toISOString().slice(0, 10);\n        const monthStart = new Date(today.getFullYear(), today.getMonth(), 1);\n        const weekStart = new Date(today);\n        weekStart.setDate(weekStart.getDate() - 6); // Ø¢Ø®Ø± 7 Ø£ÙŠØ§Ù…\n        const monthStartStr = monthStart.toISOString().slice(0, 10);\n        const weekStartStr = weekStart.toISOString().slice(0, 10);\n\n        // Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ù…Ù† Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø© (Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ù…Ø¤ÙƒØ¯Ø© ÙÙ‚Ø·ØŒ Ø¨Ø¯ÙˆÙ† ØªØ­ÙˆÙŠÙ„Ø§Øª Ø¯Ø§Ø®Ù„ÙŠØ©)\n        let totalRevenue = 0;\n        let monthRevenue = 0;\n        let weekRevenue = 0;\n        let todayRevenue = 0;\n        try {\n          const {\n            data: tx,\n            error: txError\n          } = await supabase.from('accounting_transactions').select('tx_date,amount').eq('direction', 'income').eq('status', 'confirmed').neq('source_type', 'transfer');\n          if (txError) throw txError;\n          (tx || []).forEach(row => {\n            const amt = Number(row.amount || 0);\n            if (!amt) return;\n            const d = row.tx_date;\n            totalRevenue += amt;\n            if (d >= monthStartStr && d <= todayStr) monthRevenue += amt;\n            if (d >= weekStartStr && d <= todayStr) weekRevenue += amt;\n            if (d === todayStr) todayRevenue += amt;\n          });\n        } catch (e) {\n          console.error('load revenue stats error', e);\n        }\n        setRevenue({\n          total: totalRevenue,\n          month: monthRevenue,\n          week: weekRevenue,\n          today: todayRevenue\n        });\n\n        // Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ØºØ±Ù Ù…Ù† rooms_overview (Ù…Ø¹ ÙÙˆÙ„Ø¨Ùƒ Ù„Ø¬Ø¯ÙˆÙ„ rooms)\n        let rooms = [];\n        try {\n          const {\n            data,\n            error\n          } = await supabase.from('rooms_overview').select('status,room_type_name_ar');\n          if (error) throw error;\n          rooms = data || [];\n        } catch (e1) {\n          console.warn('rooms_overview not available, fallback to rooms', (e1 === null || e1 === void 0 ? void 0 : e1.message) || e1);\n          try {\n            const {\n              data,\n              error\n            } = await supabase.from('rooms').select('status');\n            if (error) throw error;\n            rooms = data || [];\n          } catch (e2) {\n            console.error('fallback rooms load failed', e2);\n            rooms = [];\n          }\n        }\n        const totalRooms = rooms.length;\n        const availableRooms = rooms.filter(r => r.status === 'available' || r.status === 'Ù…ØªØ§Ø­Ø©').length;\n        const reservedRooms = rooms.filter(r => r.status === 'reserved' || r.status === 'Ù…Ø­Ø¬ÙˆØ²Ø©').length;\n        const occupiedRooms = rooms.filter(r => r.status === 'occupied' || r.status === 'Ù…Ø´ØºÙˆÙ„Ø©').length;\n        const maintenanceRooms = rooms.filter(r => r.status === 'maintenance' || r.status === 'ØµÙŠØ§Ù†Ø©').length;\n        const occupancyRate = totalRooms && occupiedRooms ? Math.round(occupiedRooms / totalRooms * 100) : 0;\n        setRoomsStats({\n          total: totalRooms,\n          available: availableRooms,\n          reserved: reservedRooms,\n          occupied: occupiedRooms,\n          maintenance: maintenanceRooms,\n          occupancyRate\n        });\n\n        // ØªÙˆØ²ÙŠØ¹ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„ØºØ±Ù (Ø£ÙƒØ«Ø± Ù†ÙˆØ¹ Ø§Ù†ØªØ´Ø§Ø±Ù‹Ø§)\n        const typeCounts = new Map();\n        (rooms || []).forEach(r => {\n          const key = r.room_type_name_ar || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯';\n          typeCounts.set(key, (typeCounts.get(key) || 0) + 1);\n        });\n        let bestType = {\n          name: '-',\n          count: 0\n        };\n        typeCounts.forEach((count, name) => {\n          if (count > bestType.count) bestType = {\n            name,\n            count\n          };\n        });\n        setTopRoomType(bestType);\n\n        // Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø¹Ø§Ù…Ø©: Ø§Ù„Ù†Ø²Ù„Ø§Ø¡ØŒ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª\n        let guestsCount = 0;\n        try {\n          const {\n            count\n          } = await supabase.from('guests').select('*', {\n            count: 'exact',\n            head: true\n          });\n          guestsCount = count || 0;\n        } catch (e) {\n          console.error('load guests count error', e);\n        }\n        let totalReservations = 0;\n        try {\n          const {\n            count\n          } = await supabase.from('reservations').select('*', {\n            count: 'exact',\n            head: true\n          });\n          totalReservations = count || 0;\n        } catch (e) {\n          console.error('load reservations count error', e);\n        }\n        let currentGuests = 0;\n        try {\n          const {\n            data\n          } = await supabase.from('reservations_overview').select('id,is_current');\n          currentGuests = (data || []).filter(r => r.is_current).length;\n        } catch (e) {\n          console.error('load current guests error', e);\n        }\n        setGeneral({\n          guestsCount,\n          currentGuests,\n          totalReservations\n        });\n\n        // Ø¢Ø®Ø± Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª\n        try {\n          const {\n            data: latest\n          } = await supabase.from('reservations_overview').select('id,guest_name,room_label,check_in_date,total_amount').order('check_in_date', {\n            ascending: false\n          }).limit(5);\n          setLatestReservations(latest || []);\n        } catch (e) {\n          console.error('load latest reservations error', e);\n          setLatestReservations([]);\n        }\n      } catch (e) {\n        console.error('load reports dashboard error', e);\n      } finally {\n        setLoading(false);\n      }\n    }\n    load();\n  }, []);\n  const todayLabel = (() => {\n    try {\n      return new Date().toLocaleDateString('ar-EG', {\n        weekday: 'long',\n        day: 'numeric',\n        month: 'long',\n        year: 'numeric'\n      });\n    } catch (_) {\n      return '';\n    }\n  })();\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center min-h-screen bg-gray-50\",\n      dir: \"rtl\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-gray-500 text-sm\",\n        children: \"\\u062C\\u0627\\u0631\\u064A \\u062A\\u062D\\u0645\\u064A\\u0644 \\u0627\\u0644\\u062A\\u0642\\u0627\\u0631\\u064A\\u0631 \\u0648\\u0627\\u0644\\u0625\\u062D\\u0635\\u0627\\u0626\\u064A\\u0627\\u062A...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col gap-6 p-6 bg-gray-50 min-h-screen\",\n    dir: \"rtl\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bg-yellow-400 text-white px-4 py-2 rounded\",\n          children: \"\\u0646\\u0633\\u062E\\u0629 \\u0627\\u062D\\u062A\\u064A\\u0627\\u0637\\u064A\\u0629\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bg-white border rounded p-2\",\n          title: \"\\u0627\\u0644\\u0625\\u0634\\u0639\\u0627\\u0631\\u0627\\u062A\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            role: \"img\",\n            \"aria-label\": \"\\u062A\\u0646\\u0628\\u064A\\u0647\",\n            children: \"\\uD83D\\uDD14\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-gray-600 text-sm\",\n        children: todayLabel\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold text-gray-800 mb-1 flex items-center gap-2 justify-end\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-2xl\",\n          children: \"\\uD83D\\uDCCA\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u0627\\u0644\\u062A\\u0642\\u0627\\u0631\\u064A\\u0631 \\u0648\\u0627\\u0644\\u0625\\u062D\\u0635\\u0627\\u0626\\u064A\\u0627\\u062A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-gray-500\",\n        children: \"\\u0646\\u0638\\u0631\\u0629 \\u0634\\u0627\\u0645\\u0644\\u0629 \\u0639\\u0644\\u0649 \\u0623\\u062F\\u0627\\u0621 \\u0627\\u0644\\u0641\\u0646\\u062F\\u0642 \\u0645\\u0646 \\u062D\\u064A\\u062B \\u0627\\u0644\\u0625\\u064A\\u0631\\u0627\\u062F\\u0627\\u062A\\u060C \\u062D\\u0627\\u0644\\u0629 \\u0627\\u0644\\u063A\\u0631\\u0641\\u060C \\u0648\\u0627\\u0644\\u062D\\u062C\\u0648\\u0632\\u0627\\u062A.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-4 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl p-4 text-white shadow flex flex-col justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm font-semibold\",\n            children: \"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0625\\u064A\\u0631\\u0627\\u062F\\u0627\\u062A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl\",\n            children: \"\\uD83D\\uDC8E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-2xl font-bold\",\n          children: [revenue.total, \" \\u062C\\u0646\\u064A\\u0647\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gradient-to-r from-indigo-500 to-indigo-600 rounded-xl p-4 text-white shadow flex flex-col justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm font-semibold\",\n            children: \"\\u0625\\u064A\\u0631\\u0627\\u062F\\u0627\\u062A \\u0627\\u0644\\u0634\\u0647\\u0631\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl\",\n            children: \"\\uD83D\\uDCC5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-2xl font-bold\",\n          children: [revenue.month, \" \\u062C\\u0646\\u064A\\u0647\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gradient-to-r from-green-500 to-emerald-600 rounded-xl p-4 text-white shadow flex flex-col justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm font-semibold\",\n            children: \"\\u0625\\u064A\\u0631\\u0627\\u062F\\u0627\\u062A \\u0627\\u0644\\u0623\\u0633\\u0628\\u0648\\u0639\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl\",\n            children: \"\\uD83D\\uDCCA\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-2xl font-bold\",\n          children: [revenue.week, \" \\u062C\\u0646\\u064A\\u0647\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gradient-to-r from-amber-500 to-orange-500 rounded-xl p-4 text-white shadow flex flex-col justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm font-semibold\",\n            children: \"\\u0625\\u064A\\u0631\\u0627\\u062F\\u0627\\u062A \\u0627\\u0644\\u064A\\u0648\\u0645\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl\",\n            children: \"\\uD83D\\uDD25\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-2xl font-bold\",\n          children: [revenue.today, \" \\u062C\\u0646\\u064A\\u0647\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-4 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white border border-amber-100 rounded-xl p-4 flex items-center justify-between shadow-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-amber-700 mb-1\",\n            children: \"\\u063A\\u0631\\u0641 \\u0641\\u064A \\u0627\\u0644\\u0635\\u064A\\u0627\\u0646\\u0629\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl font-bold text-amber-900\",\n            children: roomsStats.maintenance\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-3xl\",\n          children: \"\\uD83D\\uDEE0\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white border border-purple-100 rounded-xl p-4 flex items-center justify-between shadow-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-purple-700 mb-1\",\n            children: \"\\u063A\\u0631\\u0641 \\u0645\\u062D\\u062C\\u0648\\u0632\\u0629\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl font-bold text-purple-900\",\n            children: roomsStats.reserved\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-3xl\",\n          children: \"\\uD83D\\uDCC6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white border border-rose-100 rounded-xl p-4 flex flex-col justify-between shadow-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-rose-700 mb-1\",\n              children: \"\\u063A\\u0631\\u0641 \\u0645\\u0634\\u063A\\u0648\\u0644\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-2xl font-bold text-rose-900\",\n              children: roomsStats.occupied\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-3xl\",\n            children: \"\\uD83D\\uDD34\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-[11px] text-rose-600 mt-1\",\n          children: [\"\\u0646\\u0633\\u0628\\u0629 \\u0627\\u0644\\u0625\\u0634\\u063A\\u0627\\u0644: \", roomsStats.occupancyRate, \"% \\u0645\\u0646 \", roomsStats.total, \" \\u063A\\u0631\\u0641\\u0629\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white border border-emerald-100 rounded-xl p-4 flex items-center justify-between shadow-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-emerald-700 mb-1\",\n            children: \"\\u063A\\u0631\\u0641 \\u0645\\u062A\\u0627\\u062D\\u0629\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl font-bold text-emerald-900\",\n            children: roomsStats.available\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-3xl\",\n          children: \"\\u2705\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-4 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white border rounded-xl p-4 flex items-center justify-between shadow-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-600 mb-1\",\n            children: \"\\u0627\\u0644\\u0646\\u0632\\u0644\\u0627\\u0621 \\u0627\\u0644\\u0645\\u0633\\u062C\\u0651\\u0644\\u0648\\u0646 \\u0641\\u064A \\u0627\\u0644\\u0646\\u0638\\u0627\\u0645\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl font-bold text-gray-900\",\n            children: general.guestsCount\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-3xl\",\n          children: \"\\uD83D\\uDC65\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white border rounded-xl p-4 flex items-center justify-between shadow-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-600 mb-1\",\n            children: \"\\u0627\\u0644\\u0646\\u0632\\u0644\\u0627\\u0621 \\u0627\\u0644\\u062D\\u0627\\u0644\\u064A\\u0648\\u0646 (\\u062D\\u062C\\u0648\\u0632\\u0627\\u062A \\u0646\\u0634\\u0637\\u0629)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl font-bold text-gray-900\",\n            children: general.currentGuests\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-3xl\",\n          children: \"\\uD83D\\uDECE\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white border rounded-xl p-4 flex items-center justify-between shadow-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-600 mb-1\",\n            children: \"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u062D\\u062C\\u0648\\u0632\\u0627\\u062A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl font-bold text-gray-900\",\n            children: general.totalReservations\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-3xl\",\n          children: \"\\uD83D\\uDCD1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white border rounded-xl p-4 flex items-center justify-between shadow-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-600 mb-1\",\n            children: \"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u063A\\u0631\\u0641 \\u0641\\u064A \\u0627\\u0644\\u0646\\u0638\\u0627\\u0645\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl font-bold text-gray-900\",\n            children: roomsStats.total\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-3xl\",\n          children: \"\\uD83C\\uDFE8\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg border p-6 flex flex-col md:flex-row items-center justify-between gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold text-gray-800 mb-1\",\n          children: \"\\u062A\\u0648\\u0632\\u064A\\u0639 \\u0623\\u0646\\u0648\\u0627\\u0639 \\u0627\\u0644\\u063A\\u0631\\u0641\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-gray-500\",\n          children: \"\\u0623\\u0643\\u062B\\u0631 \\u0646\\u0648\\u0639 \\u063A\\u0631\\u0641 \\u0645\\u062A\\u0648\\u0641\\u0631 \\u062D\\u0627\\u0644\\u064A\\u064B\\u0627 \\u0641\\u064A \\u0627\\u0644\\u0641\\u0646\\u062F\\u0642.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center md:text-right\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-500 mb-1\",\n          children: \"\\u0627\\u0644\\u0646\\u0648\\u0639 \\u0627\\u0644\\u0623\\u0643\\u062B\\u0631 \\u0627\\u0646\\u062A\\u0634\\u0627\\u0631\\u064B\\u0627\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-2xl font-bold text-blue-800\",\n          children: topRoomType.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-gray-500 mt-1\",\n          children: [\"\\u0639\\u062F\\u062F \\u0627\\u0644\\u063A\\u0631\\u0641: \", topRoomType.count]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg border p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-semibold text-gray-800\",\n          children: \"\\u0622\\u062E\\u0631 \\u0627\\u0644\\u062D\\u062C\\u0648\\u0632\\u0627\\u062A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-gray-400\",\n          children: \"\\u0623\\u062D\\u062F\\u062B 5 \\u062D\\u062C\\u0648\\u0632\\u0627\\u062A \\u0645\\u0633\\u062C\\u0651\\u0644\\u0629 \\u0641\\u064A \\u0627\\u0644\\u0646\\u0638\\u0627\\u0645\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 9\n      }, this), latestReservations.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"py-6 text-center text-xs text-gray-400\",\n        children: \"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u062D\\u062C\\u0648\\u0632\\u0627\\u062A \\u0645\\u0633\\u062C\\u0651\\u0644\\u0629 \\u0644\\u0639\\u0631\\u0636\\u0647\\u0627.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-x-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"min-w-full text-xs\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"bg-gray-50\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"text-right text-gray-600\",\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-3 py-2\",\n                children: \"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u062D\\u062C\\u0632\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 340,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-3 py-2\",\n                children: \"\\u0627\\u0644\\u0646\\u0632\\u064A\\u0644\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-3 py-2\",\n                children: \"\\u0627\\u0644\\u063A\\u0631\\u0641\\u0629\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-3 py-2\",\n                children: \"\\u062A\\u0627\\u0631\\u064A\\u062E \\u0627\\u0644\\u062F\\u062E\\u0648\\u0644\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 343,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-3 py-2\",\n                children: \"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: latestReservations.map(r => {\n              var _r$total_amount;\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"border-t hover:bg-gray-50\",\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-3 py-2 whitespace-nowrap text-[11px] text-gray-700\",\n                  children: r.id\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 350,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-3 py-2 whitespace-nowrap text-[11px] text-gray-700\",\n                  children: r.guest_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 351,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-3 py-2 whitespace-nowrap text-[11px] text-gray-700\",\n                  children: r.room_label\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 352,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-3 py-2 whitespace-nowrap text-[11px] text-gray-700\",\n                  children: r.check_in_date\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 353,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-3 py-2 whitespace-nowrap text-[11px] text-gray-700\",\n                  children: (_r$total_amount = r.total_amount) !== null && _r$total_amount !== void 0 ? _r$total_amount : '-'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 354,\n                  columnNumber: 21\n                }, this)]\n              }, r.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center text-[11px] text-gray-400 mt-4 pb-2\",\n      children: [\"\\u0646\\u0638\\u0627\\u0645 \\u0625\\u062F\\u0627\\u0631\\u0629 \\u0641\\u0646\\u062F\\u0642 \\u0627\\u0644\\u0643\\u064A\\u0644\\u0627\\u0646\\u064A \\xA9 \", new Date().getFullYear()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 194,\n    columnNumber: 5\n  }, this);\n}\n_s(Reports, \"cONAN8gIICLJ7qL0f/H4aYmBnp0=\");\n_c = Reports;\nvar _c;\n$RefreshReg$(_c, \"Reports\");","map":{"version":3,"names":["React","useEffect","useState","supabase","jsxDEV","_jsxDEV","Reports","_s","loading","setLoading","revenue","setRevenue","total","month","week","today","roomsStats","setRoomsStats","available","reserved","occupied","maintenance","occupancyRate","general","setGeneral","guestsCount","currentGuests","totalReservations","topRoomType","setTopRoomType","name","count","latestReservations","setLatestReservations","load","Date","todayStr","toISOString","slice","monthStart","getFullYear","getMonth","weekStart","setDate","getDate","monthStartStr","weekStartStr","totalRevenue","monthRevenue","weekRevenue","todayRevenue","data","tx","error","txError","from","select","eq","neq","forEach","row","amt","Number","amount","d","tx_date","e","console","rooms","e1","warn","message","e2","totalRooms","length","availableRooms","filter","r","status","reservedRooms","occupiedRooms","maintenanceRooms","Math","round","typeCounts","Map","key","room_type_name_ar","set","get","bestType","head","is_current","latest","order","ascending","limit","todayLabel","toLocaleDateString","weekday","day","year","_","className","dir","children","fileName","_jsxFileName","lineNumber","columnNumber","title","role","map","_r$total_amount","id","guest_name","room_label","check_in_date","total_amount","_c","$RefreshReg$"],"sources":["F:/kelany/src/pages/Reports.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { supabase } from '../supabaseClient';\r\n\r\nexport default function Reports() {\r\n  const [loading, setLoading] = useState(true);\r\n  const [revenue, setRevenue] = useState({\r\n    total: 0,\r\n    month: 0,\r\n    week: 0,\r\n    today: 0,\r\n  });\r\n  const [roomsStats, setRoomsStats] = useState({\r\n    total: 0,\r\n    available: 0,\r\n    reserved: 0,\r\n    occupied: 0,\r\n    maintenance: 0,\r\n    occupancyRate: 0,\r\n  });\r\n  const [general, setGeneral] = useState({\r\n    guestsCount: 0,\r\n    currentGuests: 0,\r\n    totalReservations: 0,\r\n  });\r\n  const [topRoomType, setTopRoomType] = useState({ name: '-', count: 0 });\r\n  const [latestReservations, setLatestReservations] = useState([]);\r\n\r\n  useEffect(() => {\r\n    async function load() {\r\n      setLoading(true);\r\n      try {\r\n        const today = new Date();\r\n        const todayStr = today.toISOString().slice(0, 10);\r\n        const monthStart = new Date(today.getFullYear(), today.getMonth(), 1);\r\n        const weekStart = new Date(today);\r\n        weekStart.setDate(weekStart.getDate() - 6); // Ø¢Ø®Ø± 7 Ø£ÙŠØ§Ù…\r\n        const monthStartStr = monthStart.toISOString().slice(0, 10);\r\n        const weekStartStr = weekStart.toISOString().slice(0, 10);\r\n\r\n        // Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ù…Ù† Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø© (Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ù…Ø¤ÙƒØ¯Ø© ÙÙ‚Ø·ØŒ Ø¨Ø¯ÙˆÙ† ØªØ­ÙˆÙŠÙ„Ø§Øª Ø¯Ø§Ø®Ù„ÙŠØ©)\r\n        let totalRevenue = 0;\r\n        let monthRevenue = 0;\r\n        let weekRevenue = 0;\r\n        let todayRevenue = 0;\r\n        try {\r\n          const { data: tx, error: txError } = await supabase\r\n            .from('accounting_transactions')\r\n            .select('tx_date,amount')\r\n            .eq('direction', 'income')\r\n            .eq('status', 'confirmed')\r\n            .neq('source_type', 'transfer');\r\n          if (txError) throw txError;\r\n          (tx || []).forEach((row) => {\r\n            const amt = Number(row.amount || 0);\r\n            if (!amt) return;\r\n            const d = row.tx_date;\r\n            totalRevenue += amt;\r\n            if (d >= monthStartStr && d <= todayStr) monthRevenue += amt;\r\n            if (d >= weekStartStr && d <= todayStr) weekRevenue += amt;\r\n            if (d === todayStr) todayRevenue += amt;\r\n          });\r\n        } catch (e) {\r\n          console.error('load revenue stats error', e);\r\n        }\r\n        setRevenue({ total: totalRevenue, month: monthRevenue, week: weekRevenue, today: todayRevenue });\r\n\r\n        // Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ØºØ±Ù Ù…Ù† rooms_overview (Ù…Ø¹ ÙÙˆÙ„Ø¨Ùƒ Ù„Ø¬Ø¯ÙˆÙ„ rooms)\r\n        let rooms = [];\r\n        try {\r\n          const { data, error } = await supabase\r\n            .from('rooms_overview')\r\n            .select('status,room_type_name_ar');\r\n          if (error) throw error;\r\n          rooms = data || [];\r\n        } catch (e1) {\r\n          console.warn('rooms_overview not available, fallback to rooms', e1?.message || e1);\r\n          try {\r\n            const { data, error } = await supabase\r\n              .from('rooms')\r\n              .select('status');\r\n            if (error) throw error;\r\n            rooms = data || [];\r\n          } catch (e2) {\r\n            console.error('fallback rooms load failed', e2);\r\n            rooms = [];\r\n          }\r\n        }\r\n\r\n        const totalRooms = rooms.length;\r\n        const availableRooms = rooms.filter((r) => r.status === 'available' || r.status === 'Ù…ØªØ§Ø­Ø©').length;\r\n        const reservedRooms = rooms.filter((r) => r.status === 'reserved' || r.status === 'Ù…Ø­Ø¬ÙˆØ²Ø©').length;\r\n        const occupiedRooms = rooms.filter((r) => r.status === 'occupied' || r.status === 'Ù…Ø´ØºÙˆÙ„Ø©').length;\r\n        const maintenanceRooms = rooms.filter((r) => r.status === 'maintenance' || r.status === 'ØµÙŠØ§Ù†Ø©').length;\r\n        const occupancyRate = totalRooms && occupiedRooms ? Math.round((occupiedRooms / totalRooms) * 100) : 0;\r\n\r\n        setRoomsStats({\r\n          total: totalRooms,\r\n          available: availableRooms,\r\n          reserved: reservedRooms,\r\n          occupied: occupiedRooms,\r\n          maintenance: maintenanceRooms,\r\n          occupancyRate,\r\n        });\r\n\r\n        // ØªÙˆØ²ÙŠØ¹ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„ØºØ±Ù (Ø£ÙƒØ«Ø± Ù†ÙˆØ¹ Ø§Ù†ØªØ´Ø§Ø±Ù‹Ø§)\r\n        const typeCounts = new Map();\r\n        (rooms || []).forEach((r) => {\r\n          const key = r.room_type_name_ar || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯';\r\n          typeCounts.set(key, (typeCounts.get(key) || 0) + 1);\r\n        });\r\n        let bestType = { name: '-', count: 0 };\r\n        typeCounts.forEach((count, name) => {\r\n          if (count > bestType.count) bestType = { name, count };\r\n        });\r\n        setTopRoomType(bestType);\r\n\r\n        // Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø¹Ø§Ù…Ø©: Ø§Ù„Ù†Ø²Ù„Ø§Ø¡ØŒ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª\r\n        let guestsCount = 0;\r\n        try {\r\n          const { count } = await supabase\r\n            .from('guests')\r\n            .select('*', { count: 'exact', head: true });\r\n          guestsCount = count || 0;\r\n        } catch (e) {\r\n          console.error('load guests count error', e);\r\n        }\r\n\r\n        let totalReservations = 0;\r\n        try {\r\n          const { count } = await supabase\r\n            .from('reservations')\r\n            .select('*', { count: 'exact', head: true });\r\n          totalReservations = count || 0;\r\n        } catch (e) {\r\n          console.error('load reservations count error', e);\r\n        }\r\n\r\n        let currentGuests = 0;\r\n        try {\r\n          const { data } = await supabase\r\n            .from('reservations_overview')\r\n            .select('id,is_current');\r\n          currentGuests = (data || []).filter((r) => r.is_current).length;\r\n        } catch (e) {\r\n          console.error('load current guests error', e);\r\n        }\r\n\r\n        setGeneral({ guestsCount, currentGuests, totalReservations });\r\n\r\n        // Ø¢Ø®Ø± Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª\r\n        try {\r\n          const { data: latest } = await supabase\r\n            .from('reservations_overview')\r\n            .select('id,guest_name,room_label,check_in_date,total_amount')\r\n            .order('check_in_date', { ascending: false })\r\n            .limit(5);\r\n          setLatestReservations(latest || []);\r\n        } catch (e) {\r\n          console.error('load latest reservations error', e);\r\n          setLatestReservations([]);\r\n        }\r\n      } catch (e) {\r\n        console.error('load reports dashboard error', e);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n\r\n    load();\r\n  }, []);\r\n\r\n  const todayLabel = (() => {\r\n    try {\r\n      return new Date().toLocaleDateString('ar-EG', {\r\n        weekday: 'long',\r\n        day: 'numeric',\r\n        month: 'long',\r\n        year: 'numeric',\r\n      });\r\n    } catch (_) {\r\n      return '';\r\n    }\r\n  })();\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-screen bg-gray-50\" dir=\"rtl\">\r\n        <div className=\"text-gray-500 text-sm\">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex flex-col gap-6 p-6 bg-gray-50 min-h-screen\" dir=\"rtl\">\r\n      {/* Ø±Ø£Ø³ Ø§Ù„ØµÙØ­Ø© */}\r\n      <div className=\"flex justify-between items-center\">\r\n        <div className=\"flex gap-2\">\r\n          <button className=\"bg-yellow-400 text-white px-4 py-2 rounded\">Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©</button>\r\n          <button className=\"bg-white border rounded p-2\" title=\"Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª\">\r\n            <span role=\"img\" aria-label=\"ØªÙ†Ø¨ÙŠÙ‡\">ğŸ””</span>\r\n          </button>\r\n        </div>\r\n        <div className=\"text-gray-600 text-sm\">{todayLabel}</div>\r\n      </div>\r\n\r\n      {/* Ø§Ù„Ø¹Ù†ÙˆØ§Ù† */}\r\n      <div>\r\n        <h1 className=\"text-2xl font-bold text-gray-800 mb-1 flex items-center gap-2 justify-end\">\r\n          <span className=\"text-2xl\">ğŸ“Š</span>\r\n          <span>Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</span>\r\n        </h1>\r\n        <p className=\"text-sm text-gray-500\">Ù†Ø¸Ø±Ø© Ø´Ø§Ù…Ù„Ø© Ø¹Ù„Ù‰ Ø£Ø¯Ø§Ø¡ Ø§Ù„ÙÙ†Ø¯Ù‚ Ù…Ù† Ø­ÙŠØ« Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§ØªØŒ Ø­Ø§Ù„Ø© Ø§Ù„ØºØ±ÙØŒ ÙˆØ§Ù„Ø­Ø¬ÙˆØ²Ø§Øª.</p>\r\n      </div>\r\n\r\n      {/* ØµÙ ÙƒØ±ÙˆØª Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n        <div className=\"bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl p-4 text-white shadow flex flex-col justify-between\">\r\n          <div className=\"flex items-center justify-between mb-3\">\r\n            <div className=\"text-sm font-semibold\">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª</div>\r\n            <div className=\"text-2xl\">ğŸ’</div>\r\n          </div>\r\n          <div className=\"text-2xl font-bold\">{revenue.total} Ø¬Ù†ÙŠÙ‡</div>\r\n        </div>\r\n        <div className=\"bg-gradient-to-r from-indigo-500 to-indigo-600 rounded-xl p-4 text-white shadow flex flex-col justify-between\">\r\n          <div className=\"flex items-center justify-between mb-3\">\r\n            <div className=\"text-sm font-semibold\">Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø§Ù„Ø´Ù‡Ø±</div>\r\n            <div className=\"text-2xl\">ğŸ“…</div>\r\n          </div>\r\n          <div className=\"text-2xl font-bold\">{revenue.month} Ø¬Ù†ÙŠÙ‡</div>\r\n        </div>\r\n        <div className=\"bg-gradient-to-r from-green-500 to-emerald-600 rounded-xl p-4 text-white shadow flex flex-col justify-between\">\r\n          <div className=\"flex items-center justify-between mb-3\">\r\n            <div className=\"text-sm font-semibold\">Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹</div>\r\n            <div className=\"text-2xl\">ğŸ“Š</div>\r\n          </div>\r\n          <div className=\"text-2xl font-bold\">{revenue.week} Ø¬Ù†ÙŠÙ‡</div>\r\n        </div>\r\n        <div className=\"bg-gradient-to-r from-amber-500 to-orange-500 rounded-xl p-4 text-white shadow flex flex-col justify-between\">\r\n          <div className=\"flex items-center justify-between mb-3\">\r\n            <div className=\"text-sm font-semibold\">Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø§Ù„ÙŠÙˆÙ…</div>\r\n            <div className=\"text-2xl\">ğŸ”¥</div>\r\n          </div>\r\n          <div className=\"text-2xl font-bold\">{revenue.today} Ø¬Ù†ÙŠÙ‡</div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* ØµÙ ÙƒØ±ÙˆØª Ø­Ø§Ù„Ø© Ø§Ù„ØºØ±Ù */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n        <div className=\"bg-white border border-amber-100 rounded-xl p-4 flex items-center justify-between shadow-sm\">\r\n          <div>\r\n            <div className=\"text-xs text-amber-700 mb-1\">ØºØ±Ù ÙÙŠ Ø§Ù„ØµÙŠØ§Ù†Ø©</div>\r\n            <div className=\"text-2xl font-bold text-amber-900\">{roomsStats.maintenance}</div>\r\n          </div>\r\n          <div className=\"text-3xl\">ğŸ› ï¸</div>\r\n        </div>\r\n        <div className=\"bg-white border border-purple-100 rounded-xl p-4 flex items-center justify-between shadow-sm\">\r\n          <div>\r\n            <div className=\"text-xs text-purple-700 mb-1\">ØºØ±Ù Ù…Ø­Ø¬ÙˆØ²Ø©</div>\r\n            <div className=\"text-2xl font-bold text-purple-900\">{roomsStats.reserved}</div>\r\n          </div>\r\n          <div className=\"text-3xl\">ğŸ“†</div>\r\n        </div>\r\n        <div className=\"bg-white border border-rose-100 rounded-xl p-4 flex flex-col justify-between shadow-sm\">\r\n          <div className=\"flex items-center justify-between mb-2\">\r\n            <div>\r\n              <div className=\"text-xs text-rose-700 mb-1\">ØºØ±Ù Ù…Ø´ØºÙˆÙ„Ø©</div>\r\n              <div className=\"text-2xl font-bold text-rose-900\">{roomsStats.occupied}</div>\r\n            </div>\r\n            <div className=\"text-3xl\">ğŸ”´</div>\r\n          </div>\r\n          <div className=\"text-[11px] text-rose-600 mt-1\">Ù†Ø³Ø¨Ø© Ø§Ù„Ø¥Ø´ØºØ§Ù„: {roomsStats.occupancyRate}% Ù…Ù† {roomsStats.total} ØºØ±ÙØ©</div>\r\n        </div>\r\n        <div className=\"bg-white border border-emerald-100 rounded-xl p-4 flex items-center justify-between shadow-sm\">\r\n          <div>\r\n            <div className=\"text-xs text-emerald-700 mb-1\">ØºØ±Ù Ù…ØªØ§Ø­Ø©</div>\r\n            <div className=\"text-2xl font-bold text-emerald-900\">{roomsStats.available}</div>\r\n          </div>\r\n          <div className=\"text-3xl\">âœ…</div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* ØµÙ ÙƒØ±ÙˆØª Ø§Ù„Ø¥Ø­ØµØ§Ø¡Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø© */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n        <div className=\"bg-white border rounded-xl p-4 flex items-center justify-between shadow-sm\">\r\n          <div>\r\n            <div className=\"text-xs text-gray-600 mb-1\">Ø§Ù„Ù†Ø²Ù„Ø§Ø¡ Ø§Ù„Ù…Ø³Ø¬Ù‘Ù„ÙˆÙ† ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…</div>\r\n            <div className=\"text-2xl font-bold text-gray-900\">{general.guestsCount}</div>\r\n          </div>\r\n          <div className=\"text-3xl\">ğŸ‘¥</div>\r\n        </div>\r\n        <div className=\"bg-white border rounded-xl p-4 flex items-center justify-between shadow-sm\">\r\n          <div>\r\n            <div className=\"text-xs text-gray-600 mb-1\">Ø§Ù„Ù†Ø²Ù„Ø§Ø¡ Ø§Ù„Ø­Ø§Ù„ÙŠÙˆÙ† (Ø­Ø¬ÙˆØ²Ø§Øª Ù†Ø´Ø·Ø©)</div>\r\n            <div className=\"text-2xl font-bold text-gray-900\">{general.currentGuests}</div>\r\n          </div>\r\n          <div className=\"text-3xl\">ğŸ›ï¸</div>\r\n        </div>\r\n        <div className=\"bg-white border rounded-xl p-4 flex items-center justify-between shadow-sm\">\r\n          <div>\r\n            <div className=\"text-xs text-gray-600 mb-1\">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª</div>\r\n            <div className=\"text-2xl font-bold text-gray-900\">{general.totalReservations}</div>\r\n          </div>\r\n          <div className=\"text-3xl\">ğŸ“‘</div>\r\n        </div>\r\n        <div className=\"bg-white border rounded-xl p-4 flex items-center justify-between shadow-sm\">\r\n          <div>\r\n            <div className=\"text-xs text-gray-600 mb-1\">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ØºØ±Ù ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…</div>\r\n            <div className=\"text-2xl font-bold text-gray-900\">{roomsStats.total}</div>\r\n          </div>\r\n          <div className=\"text-3xl\">ğŸ¨</div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* ÙƒØ§Ø±Øª ØªÙˆØ²ÙŠØ¹ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„ØºØ±Ù */}\r\n      <div className=\"bg-white rounded-lg border p-6 flex flex-col md:flex-row items-center justify-between gap-4\">\r\n        <div>\r\n          <h2 className=\"text-lg font-semibold text-gray-800 mb-1\">ØªÙˆØ²ÙŠØ¹ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„ØºØ±Ù</h2>\r\n          <p className=\"text-xs text-gray-500\">Ø£ÙƒØ«Ø± Ù†ÙˆØ¹ ØºØ±Ù Ù…ØªÙˆÙØ± Ø­Ø§Ù„ÙŠÙ‹Ø§ ÙÙŠ Ø§Ù„ÙÙ†Ø¯Ù‚.</p>\r\n        </div>\r\n        <div className=\"text-center md:text-right\">\r\n          <div className=\"text-sm text-gray-500 mb-1\">Ø§Ù„Ù†ÙˆØ¹ Ø§Ù„Ø£ÙƒØ«Ø± Ø§Ù†ØªØ´Ø§Ø±Ù‹Ø§</div>\r\n          <div className=\"text-2xl font-bold text-blue-800\">{topRoomType.name}</div>\r\n          <div className=\"text-xs text-gray-500 mt-1\">Ø¹Ø¯Ø¯ Ø§Ù„ØºØ±Ù: {topRoomType.count}</div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Ø¬Ø¯ÙˆÙ„ Ø¢Ø®Ø± Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª */}\r\n      <div className=\"bg-white rounded-lg border p-4\">\r\n        <div className=\"flex items-center justify-between mb-3\">\r\n          <div className=\"font-semibold text-gray-800\">Ø¢Ø®Ø± Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª</div>\r\n          <div className=\"text-xs text-gray-400\">Ø£Ø­Ø¯Ø« 5 Ø­Ø¬ÙˆØ²Ø§Øª Ù…Ø³Ø¬Ù‘Ù„Ø© ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…</div>\r\n        </div>\r\n        {latestReservations.length === 0 ? (\r\n          <div className=\"py-6 text-center text-xs text-gray-400\">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø­Ø¬ÙˆØ²Ø§Øª Ù…Ø³Ø¬Ù‘Ù„Ø© Ù„Ø¹Ø±Ø¶Ù‡Ø§.</div>\r\n        ) : (\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"min-w-full text-xs\">\r\n              <thead className=\"bg-gray-50\">\r\n                <tr className=\"text-right text-gray-600\">\r\n                  <th className=\"px-3 py-2\">Ø±Ù‚Ù… Ø§Ù„Ø­Ø¬Ø²</th>\r\n                  <th className=\"px-3 py-2\">Ø§Ù„Ù†Ø²ÙŠÙ„</th>\r\n                  <th className=\"px-3 py-2\">Ø§Ù„ØºØ±ÙØ©</th>\r\n                  <th className=\"px-3 py-2\">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¯Ø®ÙˆÙ„</th>\r\n                  <th className=\"px-3 py-2\">Ø§Ù„Ù…Ø¨Ù„Øº</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {latestReservations.map((r) => (\r\n                  <tr key={r.id} className=\"border-t hover:bg-gray-50\">\r\n                    <td className=\"px-3 py-2 whitespace-nowrap text-[11px] text-gray-700\">{r.id}</td>\r\n                    <td className=\"px-3 py-2 whitespace-nowrap text-[11px] text-gray-700\">{r.guest_name}</td>\r\n                    <td className=\"px-3 py-2 whitespace-nowrap text-[11px] text-gray-700\">{r.room_label}</td>\r\n                    <td className=\"px-3 py-2 whitespace-nowrap text-[11px] text-gray-700\">{r.check_in_date}</td>\r\n                    <td className=\"px-3 py-2 whitespace-nowrap text-[11px] text-gray-700\">{r.total_amount ?? '-'}</td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* ØªØ°ÙŠÙŠÙ„ Ø¨Ø³ÙŠØ· */}\r\n      <div className=\"text-center text-[11px] text-gray-400 mt-4 pb-2\">\r\n        Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© ÙÙ†Ø¯Ù‚ Ø§Ù„ÙƒÙŠÙ„Ø§Ù†ÙŠ &copy; {new Date().getFullYear()}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
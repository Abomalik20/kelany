{"ast":null,"code":"import React,{useEffect,useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function FloorModal(_ref){let{initialData=null,onClose,onSave}=_ref;const[name,setName]=useState('');const[status,setStatus]=useState('active');const[description,setDescription]=useState('');const[maintenanceNote,setMaintenanceNote]=useState('');const[capacity,setCapacity]=useState('');const[needsInspection,setNeedsInspection]=useState(false);useEffect(()=>{if(initialData){setName(initialData.floor_name||initialData.name||'الطابق '+(initialData.floor_number||''));setStatus(initialData.status||'active');setDescription(initialData.description||'');setMaintenanceNote(initialData.maintenance_note||'');setCapacity(initialData.capacity!==undefined&&initialData.capacity!==null?String(initialData.capacity):'');setNeedsInspection(Boolean(initialData.needs_inspection));}},[initialData]);const handleSubmit=e=>{e.preventDefault();const payload={id:initialData.floor_id||initialData.id,name:name||null,status:status,description:description||null,maintenance_note:maintenanceNote||null,capacity:capacity===''?null:Number(capacity),needs_inspection:needsInspection};onSave&&onSave(payload);};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/40 flex items-start justify-center p-6 z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg w-full max-w-2xl p-6 shadow-lg mt-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold\",children:\"\\u062A\\u0639\\u062F\\u064A\\u0644 \\u0637\\u0627\\u0628\\u0642\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-gray-500\",children:\"\\u0625\\u063A\\u0644\\u0627\\u0642 \\u2716\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"mt-4 grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm mb-1\",children:\"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u0637\\u0627\\u0628\\u0642\"}),/*#__PURE__*/_jsx(\"input\",{value:(initialData===null||initialData===void 0?void 0:initialData.floor_number)||'',disabled:true,className:\"w-full border rounded px-3 py-2 bg-gray-50\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm mb-1\",children:\"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0637\\u0627\\u0628\\u0642\"}),/*#__PURE__*/_jsx(\"input\",{value:name,onChange:e=>setName(e.target.value),className:\"w-full border rounded px-3 py-2\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm mb-1\",children:\"\\u0627\\u0644\\u062D\\u0627\\u0644\\u0629\"}),/*#__PURE__*/_jsxs(\"select\",{value:status,onChange:e=>setStatus(e.target.value),className:\"w-full border rounded px-3 py-2\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"active\",children:\"\\u0646\\u0634\\u0637\"}),/*#__PURE__*/_jsx(\"option\",{value:\"inactive\",children:\"\\u063A\\u064A\\u0631 \\u0646\\u0634\\u0637\"}),/*#__PURE__*/_jsx(\"option\",{value:\"maintenance\",children:\"\\u0635\\u064A\\u0627\\u0646\\u0629\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm mb-1\",children:\"\\u0633\\u0639\\u0629 \\u0627\\u0644\\u0637\\u0627\\u0628\\u0642 (\\u0639\\u062F\\u062F \\u0627\\u0644\\u063A\\u0631\\u0641)\"}),/*#__PURE__*/_jsx(\"input\",{value:capacity,onChange:e=>setCapacity(e.target.value),type:\"number\",className:\"w-full border rounded px-3 py-2\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm mb-1\",children:\"\\u0645\\u0644\\u0627\\u062D\\u0638\\u0629 \\u0627\\u0644\\u0635\\u064A\\u0627\\u0646\\u0629\"}),/*#__PURE__*/_jsx(\"input\",{value:maintenanceNote,onChange:e=>setMaintenanceNote(e.target.value),className:\"w-full border rounded px-3 py-2\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm mb-1\",children:\"\\u0627\\u0644\\u0648\\u0635\\u0641\"}),/*#__PURE__*/_jsx(\"textarea\",{value:description,onChange:e=>setDescription(e.target.value),className:\"w-full border rounded px-3 py-2 h-28\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-span-2 flex items-center gap-4 mt-2\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"inline-flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:needsInspection,onChange:e=>setNeedsInspection(e.target.checked)}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"\\u064A\\u062D\\u062A\\u0627\\u062C \\u0641\\u062D\\u0635\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-2 flex gap-3 justify-start mt-2\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-blue-600 text-white px-4 py-2 rounded\",children:\"\\u062D\\u0641\\u0638 \\u0627\\u0644\\u062A\\u0639\\u062F\\u064A\\u0644\\u0627\\u062A\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"bg-gray-100 px-4 py-2 rounded\",children:\"\\u0625\\u0644\\u063A\\u0627\\u0621\"})]})]})]})});}","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","FloorModal","_ref","initialData","onClose","onSave","name","setName","status","setStatus","description","setDescription","maintenanceNote","setMaintenanceNote","capacity","setCapacity","needsInspection","setNeedsInspection","floor_name","floor_number","maintenance_note","undefined","String","Boolean","needs_inspection","handleSubmit","e","preventDefault","payload","id","floor_id","Number","className","children","onClick","onSubmit","value","disabled","onChange","target","type","checked"],"sources":["F:/kelany/src/components/FloorModal.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\nexport default function FloorModal({ initialData = null, onClose, onSave }) {\r\n  const [name, setName] = useState('');\r\n  const [status, setStatus] = useState('active');\r\n  const [description, setDescription] = useState('');\r\n  const [maintenanceNote, setMaintenanceNote] = useState('');\r\n  const [capacity, setCapacity] = useState('');\r\n  const [needsInspection, setNeedsInspection] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (initialData) {\r\n      setName(initialData.floor_name || initialData.name || ('الطابق ' + (initialData.floor_number || '')));\r\n      setStatus(initialData.status || 'active');\r\n      setDescription(initialData.description || '');\r\n      setMaintenanceNote(initialData.maintenance_note || '');\r\n      setCapacity(initialData.capacity !== undefined && initialData.capacity !== null ? String(initialData.capacity) : '');\r\n      setNeedsInspection(Boolean(initialData.needs_inspection));\r\n    }\r\n  }, [initialData]);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const payload = {\r\n      id: initialData.floor_id || initialData.id,\r\n      name: name || null,\r\n      status: status,\r\n      description: description || null,\r\n      maintenance_note: maintenanceNote || null,\r\n      capacity: capacity === '' ? null : Number(capacity),\r\n      needs_inspection: needsInspection,\r\n    };\r\n    onSave && onSave(payload);\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/40 flex items-start justify-center p-6 z-50\">\r\n      <div className=\"bg-white rounded-lg w-full max-w-2xl p-6 shadow-lg mt-12\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <h3 className=\"text-xl font-semibold\">تعديل طابق</h3>\r\n          <button onClick={onClose} className=\"text-gray-500\">إغلاق ✖</button>\r\n        </div>\r\n\r\n        <form onSubmit={handleSubmit} className=\"mt-4 grid grid-cols-2 gap-4\">\r\n          <div>\r\n            <label className=\"block text-sm mb-1\">رقم الطابق</label>\r\n            <input value={initialData?.floor_number || ''} disabled className=\"w-full border rounded px-3 py-2 bg-gray-50\" />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm mb-1\">اسم الطابق</label>\r\n            <input value={name} onChange={(e)=>setName(e.target.value)} className=\"w-full border rounded px-3 py-2\" />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm mb-1\">الحالة</label>\r\n            <select value={status} onChange={(e)=>setStatus(e.target.value)} className=\"w-full border rounded px-3 py-2\">\r\n              <option value=\"active\">نشط</option>\r\n              <option value=\"inactive\">غير نشط</option>\r\n              <option value=\"maintenance\">صيانة</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm mb-1\">سعة الطابق (عدد الغرف)</label>\r\n            <input value={capacity} onChange={(e)=>setCapacity(e.target.value)} type=\"number\" className=\"w-full border rounded px-3 py-2\" />\r\n          </div>\r\n\r\n          <div className=\"col-span-2\">\r\n            <label className=\"block text-sm mb-1\">ملاحظة الصيانة</label>\r\n            <input value={maintenanceNote} onChange={(e)=>setMaintenanceNote(e.target.value)} className=\"w-full border rounded px-3 py-2\" />\r\n          </div>\r\n\r\n          <div className=\"col-span-2\">\r\n            <label className=\"block text-sm mb-1\">الوصف</label>\r\n            <textarea value={description} onChange={(e)=>setDescription(e.target.value)} className=\"w-full border rounded px-3 py-2 h-28\" />\r\n          </div>\r\n\r\n          <div className=\"col-span-2 flex items-center gap-4 mt-2\">\r\n            <label className=\"inline-flex items-center gap-2\">\r\n              <input type=\"checkbox\" checked={needsInspection} onChange={(e)=>setNeedsInspection(e.target.checked)} />\r\n              <span className=\"text-sm\">يحتاج فحص</span>\r\n            </label>\r\n          </div>\r\n\r\n          <div className=\"col-span-2 flex gap-3 justify-start mt-2\">\r\n            <button type=\"submit\" className=\"bg-blue-600 text-white px-4 py-2 rounded\">حفظ التعديلات</button>\r\n            <button type=\"button\" onClick={onClose} className=\"bg-gray-100 px-4 py-2 rounded\">إلغاء</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}